(this.webpackJsonpcac_site=this.webpackJsonpcac_site||[]).push([[11,14],{109:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a.n(n);a(112);t.b=function(e){var t=e.children;return r.a.createElement("div",{className:"cac_popup"},t)};var c=function(e){var t=e.children,a=e.className,c=void 0===a?"error":a,l=e.onClick,o=void 0===l?function(){return null}:l;return Object(n.useEffect)((function(){var e=setTimeout((function(){o()}),5e3);return function(){return clearTimeout(e)}})),r.a.createElement("div",{onClick:o,className:"cac_popup-top ".concat(c||"")},t)}},112:function(e,t,a){},124:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),c=a.n(r),l=a(9),o=a(22),s=a.n(o),i=a(24),u=a(11);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M246.736,0C110.692,0,0.004,110.68,0.004,246.732c0,136.06,110.688,246.732,246.732,246.732 c136.048,0,246.724-110.672,246.724-246.732C493.456,110.68,382.78,0,246.736,0z M360.524,208.716L230.98,338.268 c-2.82,2.824-7.816,2.824-10.64,0l-86.908-86.912c-1.412-1.416-2.192-3.3-2.192-5.324c0.004-2.016,0.784-3.912,2.192-5.336 l11.108-11.104c1.412-1.408,3.3-2.18,5.328-2.18c2.016,0,3.908,0.772,5.316,2.18l67.752,67.752c1.5,1.516,3.94,1.516,5.444,0 l110.392-110.392c2.824-2.824,7.828-2.824,10.644,0l11.108,11.124c1.412,1.4,2.208,3.304,2.208,5.308 C362.732,205.412,361.936,207.3,360.524,208.716z"}))),d=c.a.createElement("g",null),g=c.a.createElement("g",null),E=c.a.createElement("g",null),v=c.a.createElement("g",null),b=c.a.createElement("g",null),_=c.a.createElement("g",null),y=c.a.createElement("g",null),h=c.a.createElement("g",null),j=c.a.createElement("g",null),O=c.a.createElement("g",null),x=c.a.createElement("g",null),N=c.a.createElement("g",null),k=c.a.createElement("g",null),w=c.a.createElement("g",null),C=c.a.createElement("g",null),U=function(e){var t=e.svgRef,a=e.title,n=f(e,["svgRef","title"]);return c.a.createElement("svg",m({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 493.464 493.464",style:{enableBackground:"new 0 0 493.464 493.464"},xmlSpace:"preserve",ref:t},n),a?c.a.createElement("title",null,a):null,p,d,g,E,v,b,_,y,h,j,O,x,N,k,w,C)},F=c.a.forwardRef((function(e,t){return c.a.createElement(U,m({svgRef:t},e))}));a.p;function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var L=c.a.createElement("g",null),P=c.a.createElement("g",null),B=c.a.createElement("g",null),V=c.a.createElement("g",null),M=c.a.createElement("g",null),D=c.a.createElement("g",null),I=c.a.createElement("g",null),T=c.a.createElement("g",null),z=c.a.createElement("g",null),A=c.a.createElement("g",null),J=c.a.createElement("g",null),q=c.a.createElement("g",null),G=c.a.createElement("g",null),H=c.a.createElement("g",null),K=c.a.createElement("g",null),Q=function(e){var t=e.svgRef,a=e.title,n=S(e,["svgRef","title"]);return c.a.createElement("svg",R({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?c.a.createElement("title",null,a):null,c.a.createElement("ellipse",{style:{fill:"#E21B1B"},cx:256,cy:256,rx:256,ry:255.832}),c.a.createElement("g",null,c.a.createElement("rect",{x:228.021,y:113.143,transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -106.0178 256.0051)",style:{fill:"#FFFFFF"},width:55.991,height:285.669}),c.a.createElement("rect",{x:113.164,y:227.968,transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -106.0134 255.9885)",style:{fill:"#FFFFFF"},width:285.669,height:55.991})),L,P,B,V,M,D,I,T,z,A,J,q,G,H,K)},W=c.a.forwardRef((function(e,t){return c.a.createElement(Q,R({svgRef:t},e))}));a.p,a(124),t.default=function(e){var t=e.match,a=e.self,o=void 0!==a&&a,m=e.onClick,f=void 0===m?function(){return null}:m,p=t.params.id,d=Object(r.useContext)(l.a),g=Object(r.useState)({}),E=Object(n.a)(g,2),v=E[0],b=E[1];return Object(r.useEffect)((function(){Object.keys(d.usersMap).length>0&&d.usersMap[p]&&b(d.usersMap[p])}),[d,p]),c.a.createElement("div",{className:"cac_profile"},c.a.createElement("div",{className:"cac_profile_photo-container"},c.a.createElement("img",{src:v.photoURL||s.a,alt:v.displayName,className:"cac_profile_photo"})),c.a.createElement("div",{className:"cac_profile_information"},c.a.createElement(i.a,{rank:v.rank,className:"cac_profile_name"},v.displayName),v.rank&&c.a.createElement(i.a,{rank:v.rank,className:"cac_profile_rank"},v.rank,", ",v.rating),c.a.createElement("span",{className:"cac_profile_label"},"CodeForces:",c.a.createElement("a",{className:"cac_profile_link",href:"https://codeforces.com/profile/".concat(v.codeForcesUsername)},v.codeForcesUsername,v.cfConfirmed?c.a.createElement(F,{className:"cac_profile_confirmation cac_profile_confirmation--true"}):c.a.createElement(W,{className:"cac_profile_confirmation cac_profile_confirmation--false"}))),c.a.createElement("span",{className:"cac_profile_label"},"Vjudge:",c.a.createElement("a",{className:"cac_profile_link",href:"https://vjudge.net/user/".concat(v.codeForcesUsername)},v.vjudgeUsername)),c.a.createElement("span",{className:"cac_profile_label"},"Email: ",v.email),c.a.createElement("span",{className:"cac_profile_label"},"Description:"),c.a.createElement("p",{className:"cac_profile_description"},v.description||"Does not have a description yet")),o&&c.a.createElement("div",{className:"cac_profile_buttons"},c.a.createElement(u.b,{className:"cac_profile_edit",onClick:f},"Edit profile")))}},538:function(e,t,a){},539:function(e,t,a){"use strict";var n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function c(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}for(var l=[],o=0;o<256;++o)l.push((o+256).toString(16).substr(1));var s=function(e,t){var a=t||0,n=l;return(n[e[a+0]]+n[e[a+1]]+n[e[a+2]]+n[e[a+3]]+"-"+n[e[a+4]]+n[e[a+5]]+"-"+n[e[a+6]]+n[e[a+7]]+"-"+n[e[a+8]]+n[e[a+9]]+"-"+n[e[a+10]]+n[e[a+11]]+n[e[a+12]]+n[e[a+13]]+n[e[a+14]]+n[e[a+15]]).toLowerCase()};t.a=function(e,t,a){"string"===typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var n=(e=e||{}).random||(e.rng||c)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){for(var r=a||0,l=0;l<16;++l)t[r+l]=n[l];return t}return s(n)}},549:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(4),c=a.n(r),l=a(7),o=a(3),s=a(0),i=a.n(s),u=a(6),m=a(539),f=a(9),p=a(193),d=a(24),g=a(11),E=a(109);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var _=i.a.createElement("g",null,i.a.createElement("g",null,i.a.createElement("g",null,i.a.createElement("polygon",{points:"0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893  "}),i.a.createElement("path",{d:"M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04 C386.027,77.92,386.027,64.373,377.707,56.053z"})))),y=i.a.createElement("g",null),h=i.a.createElement("g",null),j=i.a.createElement("g",null),O=i.a.createElement("g",null),x=i.a.createElement("g",null),N=i.a.createElement("g",null),k=i.a.createElement("g",null),w=i.a.createElement("g",null),C=i.a.createElement("g",null),U=i.a.createElement("g",null),F=i.a.createElement("g",null),R=i.a.createElement("g",null),S=i.a.createElement("g",null),L=i.a.createElement("g",null),P=i.a.createElement("g",null),B=function(e){var t=e.svgRef,a=e.title,n=b(e,["svgRef","title"]);return i.a.createElement("svg",v({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 383.947 383.947",style:{fill:"auto",enableBackground:"new 0 0 383.947 383.947"},xmlSpace:"preserve",ref:t},n),a?i.a.createElement("title",null,a):null,_,y,h,j,O,x,N,k,w,C,U,F,R,S,L,P)},V=i.a.forwardRef((function(e,t){return i.a.createElement(B,v({svgRef:t},e))}));a.p,a(538),a(124),t.default=function(){var e=Object(s.useContext)(f.c),t=Object(s.useContext)(f.a),a=Object(s.useState)(!1),r=Object(o.a)(a,2),v=r[0],b=r[1],_=Object(s.useState)(""),y=Object(o.a)(_,2),h=y[0],j=y[1],O=Object(s.useState)(""),x=Object(o.a)(O,2),N=x[0],k=x[1],w=Object(s.useState)(""),C=Object(o.a)(w,2),U=C[0],F=C[1],R=Object(s.useState)(""),S=Object(o.a)(R,2),L=S[0],P=S[1],B=Object(s.useState)({displayName:!1,cfUsername:!1,vjudgeUsername:!1}),M=Object(o.a)(B,2),D=M[0],I=M[1],T=Object(s.useState)({visible:!1,type:"error",content:""}),z=Object(o.a)(T,2),A=z[0],J=z[1];Object(s.useEffect)((function(){e.isCFLoading||(j(e.displayName||""),k(e.codeForcesUsername||""),F(e.vjudgeUsername||""),P(e.description||""))}),[e]);var q=function(){var t=Object(l.a)(c.a.mark((function t(a){var n,r,o,s,i,f;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.files[0],r="userPhoto/".concat(Object(m.a)()),o=u.k.ref(r),t.next=5,o.put(n);case 5:s=u.k.ref("".concat(r,"_200x200")),i=function(){var t=Object(l.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getDownloadURL();case 2:return a=t.sent,n=u.d.doc("users/".concat(e.uid)),t.prev=4,t.next=7,n.update({photoURL:a});case 7:t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(4),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:J({visible:!0,type:"success",content:"Photo uploaded succesfully, reload to see changes"}),e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(0),!(t>5)){e.next=11;break}return J({visible:!0,type:"error",content:"error uploading photo :("}),e.abrupt("return");case 11:setTimeout((function(){return f(t+1)}),500);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),setTimeout((function(){return f(0)}),500);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var a=Object(l.a)(c.a.mark((function a(){var n,r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=L!==e.description,!D.displayName){a.next=6;break}if(n=!0,void 0===t.users.find((function(e){return e.displayName===h}))){a.next=6;break}return J({visible:!0,type:"error",content:"Username is already in use"}),a.abrupt("return");case 6:if(!D.cfUsername){a.next=10;break}if(n=!0,window.confirm("Changing codeforces username will require a confirmation, are you sure?")){a.next=10;break}return a.abrupt("return");case 10:if(!D.vjudgeUsername){a.next=15;break}if(n=!0,void 0===t.users.find((function(e){return e.vjudgeUsername===U}))){a.next=15;break}return J({visible:!0,type:"error",content:"Vjudge username is already in use"}),a.abrupt("return");case 15:if(!n){a.next=28;break}return r=u.d.doc("users/".concat(e.uid)),a.prev=17,a.next=20,r.update({displayName:h,codeForcesUsername:N,vjudgeUsername:U,description:L,cfConfirmed:Boolean(!D.cfUsername&&e.cfConfirmed)});case 20:b(!1),J({visible:!0,type:"success",content:"User updated succesfuly, reload page"}),a.next=28;break;case 24:a.prev=24,a.t0=a.catch(17),console.error(a.t0),J({visible:!0,type:"error",content:"Something bad happened :("});case 28:case"end":return a.stop()}}),a,null,[[17,24]])})));return function(){return a.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,A.visible&&i.a.createElement(E.a,{className:A.type,onClick:function(){return J({visible:!1})}},A.content),e.isLoading||e.logged?v?i.a.createElement("div",{className:"cac_profile"},i.a.createElement("div",{className:"cac_profile_photo-container"},i.a.createElement("img",{src:e.photoURL,alt:e.displayName,className:"cac_profile_photo"}),i.a.createElement("label",{htmlFor:"photo",className:"cac_profile_photo_edit"},"Upload new photo"),i.a.createElement("input",{style:{display:"none"},id:"photo",type:"file",name:"file",accept:"image/png, image/jpeg",onChange:q})),i.a.createElement("div",{className:"cac_profile_information"},D.displayName?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"cac_profile_label"},"Display Name:"),i.a.createElement("textarea",{className:"cac_profile_text-area",value:h,onChange:function(e){return j(e.target.value)}})):i.a.createElement(d.a,{rank:e.rank,className:"cac_profile_name"},e.displayName,i.a.createElement(V,{className:"cac_profile_edit-svg",onClick:function(){return I((function(e){return Object(n.a)(Object(n.a)({},e),{},{displayName:!0})}))}})),i.a.createElement(d.a,{rank:e.rank,className:"cac_profile_rank"},e.rank,", ",e.rating),D.cfUsername?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"cac_profile_label"},"CodeForces:"),i.a.createElement("textarea",{className:"cac_profile_text-area",value:N,onChange:function(e){return k(e.target.value)}})):i.a.createElement("span",{className:"cac_profile_label"},"CodeForces:",i.a.createElement("a",{className:"cac_profile_link",href:"https://codeforces.com/profile/".concat(e.codeForcesUsername)},e.codeForcesUsername),i.a.createElement(V,{className:"cac_profile_edit-svg",onClick:function(){return I((function(e){return Object(n.a)(Object(n.a)({},e),{},{cfUsername:!0})}))}})),D.vjudgeUsername?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"cac_profile_label"},"Vjudge:"),i.a.createElement("textarea",{className:"cac_profile_text-area",value:U,onChange:function(e){return F(e.target.value)}})):i.a.createElement("span",{className:"cac_profile_label"},"Vjudge:",i.a.createElement("a",{className:"cac_profile_link",href:"https://vjudge.net/user/".concat(e.codeForcesUsername)},e.vjudgeUsername),i.a.createElement(V,{className:"cac_profile_edit-svg",onClick:function(){return I((function(e){return Object(n.a)(Object(n.a)({},e),{},{vjudgeUsername:!0})}))}})),i.a.createElement("span",{className:"cac_profile_label"},"Email: ",e.email),i.a.createElement("span",{className:"cac_profile_label"},"Introduction:"),i.a.createElement("textarea",{className:"cac_profile_description-editing",value:L,onChange:function(e){return P(e.target.value)}})),i.a.createElement("div",{className:"cac_profile_buttons"},i.a.createElement(g.b,{className:" cac_profile_edit cac_profile_cancel",onClick:function(){return b(!1)}},"Cancel"),i.a.createElement(g.b,{className:"cac_profile_edit",onClick:function(){return G()}},"Save"))):i.a.createElement(p.default,{match:{params:{id:e.uid}},self:!0,onClick:function(){return b(!0)}}):i.a.createElement("div",null,"404 xd"))}}}]);
//# sourceMappingURL=11.50a2e508.chunk.js.map