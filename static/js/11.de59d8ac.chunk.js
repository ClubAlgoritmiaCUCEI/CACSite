(this.webpackJsonpcac_site=this.webpackJsonpcac_site||[]).push([[11,14],{106:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t(0),r=t.n(n);t(109);a.b=function(e){var a=e.children;return r.a.createElement("div",{className:"cac_popup"},a)};var c=function(e){var a=e.children,t=e.className,c=void 0===t?"error":t,l=e.onClick,o=void 0===l?function(){return null}:l;return Object(n.useEffect)((function(){var e=setTimeout((function(){o()}),5e3);return function(){return clearTimeout(e)}})),r.a.createElement("div",{onClick:o,className:"cac_popup-top ".concat(c||"")},a)}},109:function(e,a,t){},121:function(e,a,t){},191:function(e,a,t){"use strict";t.r(a);var n=t(3),r=t(0),c=t.n(r),l=t(7),o=t(21),s=t.n(o),i=t(23),u=t(9);function m(){return(m=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function f(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M246.736,0C110.692,0,0.004,110.68,0.004,246.732c0,136.06,110.688,246.732,246.732,246.732 c136.048,0,246.724-110.672,246.724-246.732C493.456,110.68,382.78,0,246.736,0z M360.524,208.716L230.98,338.268 c-2.82,2.824-7.816,2.824-10.64,0l-86.908-86.912c-1.412-1.416-2.192-3.3-2.192-5.324c0.004-2.016,0.784-3.912,2.192-5.336 l11.108-11.104c1.412-1.408,3.3-2.18,5.328-2.18c2.016,0,3.908,0.772,5.316,2.18l67.752,67.752c1.5,1.516,3.94,1.516,5.444,0 l110.392-110.392c2.824-2.824,7.828-2.824,10.644,0l11.108,11.124c1.412,1.4,2.208,3.304,2.208,5.308 C362.732,205.412,361.936,207.3,360.524,208.716z"}))),d=c.a.createElement("g",null),g=c.a.createElement("g",null),E=c.a.createElement("g",null),v=c.a.createElement("g",null),b=c.a.createElement("g",null),_=c.a.createElement("g",null),y=c.a.createElement("g",null),h=c.a.createElement("g",null),j=c.a.createElement("g",null),O=c.a.createElement("g",null),x=c.a.createElement("g",null),N=c.a.createElement("g",null),k=c.a.createElement("g",null),w=c.a.createElement("g",null),C=c.a.createElement("g",null),U=function(e){var a=e.svgRef,t=e.title,n=f(e,["svgRef","title"]);return c.a.createElement("svg",m({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 493.464 493.464",style:{enableBackground:"new 0 0 493.464 493.464"},xmlSpace:"preserve",ref:a},n),t?c.a.createElement("title",null,t):null,p,d,g,E,v,b,_,y,h,j,O,x,N,k,w,C)},F=c.a.forwardRef((function(e,a){return c.a.createElement(U,m({svgRef:a},e))}));t.p;function R(){return(R=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function S(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var P=c.a.createElement("g",null),L=c.a.createElement("g",null),B=c.a.createElement("g",null),V=c.a.createElement("g",null),M=c.a.createElement("g",null),I=c.a.createElement("g",null),T=c.a.createElement("g",null),D=c.a.createElement("g",null),z=c.a.createElement("g",null),A=c.a.createElement("g",null),J=c.a.createElement("g",null),q=c.a.createElement("g",null),G=c.a.createElement("g",null),H=c.a.createElement("g",null),K=c.a.createElement("g",null),Q=function(e){var a=e.svgRef,t=e.title,n=S(e,["svgRef","title"]);return c.a.createElement("svg",R({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:a},n),t?c.a.createElement("title",null,t):null,c.a.createElement("ellipse",{style:{fill:"#E21B1B"},cx:256,cy:256,rx:256,ry:255.832}),c.a.createElement("g",null,c.a.createElement("rect",{x:228.021,y:113.143,transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -106.0178 256.0051)",style:{fill:"#FFFFFF"},width:55.991,height:285.669}),c.a.createElement("rect",{x:113.164,y:227.968,transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -106.0134 255.9885)",style:{fill:"#FFFFFF"},width:285.669,height:55.991})),P,L,B,V,M,I,T,D,z,A,J,q,G,H,K)},W=c.a.forwardRef((function(e,a){return c.a.createElement(Q,R({svgRef:a},e))}));t.p,t(121),a.default=function(e){var a=e.match,t=e.self,o=void 0!==t&&t,m=e.onClick,f=void 0===m?function(){return null}:m,p=a.params.id,d=Object(r.useContext)(l.a),g=Object(r.useState)({}),E=Object(n.a)(g,2),v=E[0],b=E[1];return Object(r.useEffect)((function(){Object.keys(d.usersMap).length>0&&d.usersMap[p]&&b(d.usersMap[p])}),[d,p]),c.a.createElement("div",{className:"cac_profile"},c.a.createElement("div",{className:"cac_profile_photo-container"},c.a.createElement("img",{src:v.photoURL||s.a,alt:v.displayName,className:"cac_profile_photo"})),c.a.createElement("div",{className:"cac_profile_information"},c.a.createElement(i.a,{rank:v.rank,className:"cac_profile_name"},v.displayName),v.rank&&c.a.createElement(i.a,{rank:v.rank,className:"cac_profile_rank"},v.rank,", ",v.rating),c.a.createElement("span",{className:"cac_profile_label"},"CodeForces:",c.a.createElement("a",{className:"cac_profile_link",href:"https://codeforces.com/profile/".concat(v.codeForcesUsername)},v.codeForcesUsername,v.cfConfirmed?c.a.createElement(F,{className:"cac_profile_confirmation cac_profile_confirmation--true"}):c.a.createElement(W,{className:"cac_profile_confirmation cac_profile_confirmation--false"}))),c.a.createElement("span",{className:"cac_profile_label"},"Vjudge:",c.a.createElement("a",{className:"cac_profile_link",href:"https://vjudge.net/user/".concat(v.codeForcesUsername)},v.vjudgeUsername)),c.a.createElement("span",{className:"cac_profile_label"},"Email: ",v.email),c.a.createElement("span",{className:"cac_profile_label"},"Description:"),c.a.createElement("p",{className:"cac_profile_description"},v.description||"Does not have a description yet")),o&&c.a.createElement("div",{className:"cac_profile_buttons"},c.a.createElement(u.b,{className:"cac_profile_edit",onClick:f},"Edit profile")))}},535:function(e,a,t){},536:function(e,a,t){"use strict";var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function c(){if(!n)throw new Error("uuid: This browser does not seem to support crypto.getRandomValues(). If you need to support this browser, please provide a custom random number generator through options.rng.");return n(r)}for(var l=[],o=0;o<256;++o)l[o]=(o+256).toString(16).substr(1);var s=function(e,a){var t=a||0,n=l;return[n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]]].join("")};a.a=function(e,a,t){var n=a&&t||0;"string"==typeof e&&(a="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||c)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,a)for(var l=0;l<16;++l)a[n+l]=r[l];return a||s(r)}},546:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t(4),c=t.n(r),l=t(3),o=t(0),s=t.n(o),i=t(6),u=t(536),m=t(7),f=t(191),p=t(23),d=t(9),g=t(106);function E(){return(E=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function v(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var b=s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("polygon",{points:"0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893  "}),s.a.createElement("path",{d:"M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04 C386.027,77.92,386.027,64.373,377.707,56.053z"})))),_=s.a.createElement("g",null),y=s.a.createElement("g",null),h=s.a.createElement("g",null),j=s.a.createElement("g",null),O=s.a.createElement("g",null),x=s.a.createElement("g",null),N=s.a.createElement("g",null),k=s.a.createElement("g",null),w=s.a.createElement("g",null),C=s.a.createElement("g",null),U=s.a.createElement("g",null),F=s.a.createElement("g",null),R=s.a.createElement("g",null),S=s.a.createElement("g",null),P=s.a.createElement("g",null),L=function(e){var a=e.svgRef,t=e.title,n=v(e,["svgRef","title"]);return s.a.createElement("svg",E({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 383.947 383.947",style:{fill:"auto",enableBackground:"new 0 0 383.947 383.947"},xmlSpace:"preserve",ref:a},n),t?s.a.createElement("title",null,t):null,b,_,y,h,j,O,x,N,k,w,C,U,F,R,S,P)},B=s.a.forwardRef((function(e,a){return s.a.createElement(L,E({svgRef:a},e))}));t.p,t(535),t(121),a.default=function(){var e=Object(o.useContext)(m.c),a=Object(o.useContext)(m.a),t=Object(o.useState)(!1),r=Object(l.a)(t,2),E=r[0],v=r[1],b=Object(o.useState)(""),_=Object(l.a)(b,2),y=_[0],h=_[1],j=Object(o.useState)(""),O=Object(l.a)(j,2),x=O[0],N=O[1],k=Object(o.useState)(""),w=Object(l.a)(k,2),C=w[0],U=w[1],F=Object(o.useState)(""),R=Object(l.a)(F,2),S=R[0],P=R[1],L=Object(o.useState)({displayName:!1,cfUsername:!1,vjudgeUsername:!1}),V=Object(l.a)(L,2),M=V[0],I=V[1],T=Object(o.useState)({visible:!1,type:"error",content:""}),D=Object(l.a)(T,2),z=D[0],A=D[1];Object(o.useEffect)((function(){e.isCFLoading||(h(e.displayName||""),N(e.codeForcesUsername||""),U(e.vjudgeUsername||""),P(e.description||""))}),[e]);return s.a.createElement(s.a.Fragment,null,z.visible&&s.a.createElement(g.a,{className:z.type,onClick:function(){return A({visible:!1})}},z.content),e.isLoading||e.logged?E?s.a.createElement("div",{className:"cac_profile"},s.a.createElement("div",{className:"cac_profile_photo-container"},s.a.createElement("img",{src:e.photoURL,alt:e.displayName,className:"cac_profile_photo"}),s.a.createElement("label",{htmlFor:"photo",className:"cac_profile_photo_edit"},"Upload new photo"),s.a.createElement("input",{style:{display:"none"},id:"photo",type:"file",name:"file",accept:"image/png, image/jpeg",onChange:function(a){var t,n,r,l,o,s;return c.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return t=a.target.files[0],n="userPhoto/".concat(Object(u.a)()),r=i.k.ref(n),m.next=5,c.a.awrap(r.put(t));case 5:l=i.k.ref("".concat(n,"_200x200")),o=function(){var a,t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(l.getDownloadURL());case 2:return a=n.sent,t=i.d.doc("users/".concat(e.uid)),n.prev=4,n.next=7,c.a.awrap(t.update({photoURL:a}));case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(4),new Error(n.t0);case 12:case"end":return n.stop()}}),null,null,[[4,9]])},s=function e(a){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.awrap(o());case 3:A({visible:!0,type:"success",content:"Photo uploaded succesfully, reload to see changes"}),t.next=12;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(a>5)){t.next=11;break}return A({visible:!0,type:"error",content:"error uploading photo :("}),t.abrupt("return");case 11:setTimeout((function(){return e(a+1)}),500);case 12:case"end":return t.stop()}}),null,null,[[0,6]])},setTimeout((function(){return s(0)}),500);case 9:case"end":return m.stop()}}))}})),s.a.createElement("div",{className:"cac_profile_information"},M.displayName?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"cac_profile_label"},"Display Name:"),s.a.createElement("textarea",{className:"cac_profile_text-area",value:y,onChange:function(e){return h(e.target.value)}})):s.a.createElement(p.a,{rank:e.rank,className:"cac_profile_name"},e.displayName,s.a.createElement(B,{className:"cac_profile_edit-svg",onClick:function(){return I((function(e){return Object(n.a)({},e,{displayName:!0})}))}})),s.a.createElement(p.a,{rank:e.rank,className:"cac_profile_rank"},e.rank,", ",e.rating),M.cfUsername?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"cac_profile_label"},"CodeForces:"),s.a.createElement("textarea",{className:"cac_profile_text-area",value:x,onChange:function(e){return N(e.target.value)}})):s.a.createElement("span",{className:"cac_profile_label"},"CodeForces:",s.a.createElement("a",{className:"cac_profile_link",href:"https://codeforces.com/profile/".concat(e.codeForcesUsername)},e.codeForcesUsername),s.a.createElement(B,{className:"cac_profile_edit-svg",onClick:function(){return I((function(e){return Object(n.a)({},e,{cfUsername:!0})}))}})),M.vjudgeUsername?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"cac_profile_label"},"Vjudge:"),s.a.createElement("textarea",{className:"cac_profile_text-area",value:C,onChange:function(e){return U(e.target.value)}})):s.a.createElement("span",{className:"cac_profile_label"},"Vjudge:",s.a.createElement("a",{className:"cac_profile_link",href:"https://vjudge.net/user/".concat(e.codeForcesUsername)},e.vjudgeUsername),s.a.createElement(B,{className:"cac_profile_edit-svg",onClick:function(){return I((function(e){return Object(n.a)({},e,{vjudgeUsername:!0})}))}})),s.a.createElement("span",{className:"cac_profile_label"},"Email: ",e.email),s.a.createElement("span",{className:"cac_profile_label"},"Introduction:"),s.a.createElement("textarea",{className:"cac_profile_description-editing",value:S,onChange:function(e){return P(e.target.value)}})),s.a.createElement("div",{className:"cac_profile_buttons"},s.a.createElement(d.b,{className:" cac_profile_edit cac_profile_cancel",onClick:function(){return v(!1)}},"Cancel"),s.a.createElement(d.b,{className:"cac_profile_edit",onClick:function(){return function(){var t,n;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=S!==e.description,!M.displayName){r.next=6;break}if(t=!0,void 0===a.users.find((function(e){return e.displayName===y}))){r.next=6;break}return A({visible:!0,type:"error",content:"Username is already in use"}),r.abrupt("return");case 6:if(!M.cfUsername){r.next=10;break}if(t=!0,window.confirm("Changing codeforces username will require a confirmation, are you sure?")){r.next=10;break}return r.abrupt("return");case 10:if(!M.vjudgeUsername){r.next=15;break}if(t=!0,void 0===a.users.find((function(e){return e.vjudgeUsername===C}))){r.next=15;break}return A({visible:!0,type:"error",content:"Vjudge username is already in use"}),r.abrupt("return");case 15:if(!t){r.next=28;break}return n=i.d.doc("users/".concat(e.uid)),r.prev=17,r.next=20,c.a.awrap(n.update({displayName:y,codeForcesUsername:x,vjudgeUsername:C,description:S,cfConfirmed:Boolean(!M.cfUsername&&e.cfConfirmed)}));case 20:v(!1),A({visible:!0,type:"success",content:"User updated succesfuly, reload page"}),r.next=28;break;case 24:r.prev=24,r.t0=r.catch(17),console.error(r.t0),A({visible:!0,type:"error",content:"Something bad happened :("});case 28:case"end":return r.stop()}}),null,null,[[17,24]])}()}},"Save"))):s.a.createElement(f.default,{match:{params:{id:e.uid}},self:!0,onClick:function(){return v(!0)}}):s.a.createElement("div",null,"404 xd"))}}}]);
//# sourceMappingURL=11.de59d8ac.chunk.js.map