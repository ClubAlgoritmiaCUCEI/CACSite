(this.webpackJsonpcac_site=this.webpackJsonpcac_site||[]).push([[10],{104:function(e,t){},509:function(e,t,a){},534:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),o=a(29),s=a(8),l=a(97);a(509);t.default=function(e){var t=e.Fallback,a=Object(n.useContext)(o.a),i=Object(n.useContext)(s.c),u=Object(n.useContext)(s.a),m=Object(r.g)();Object(n.useEffect)((function(){a.fetch.weeklyProblems()}),[a.fetch]);return c.a.createElement("div",{className:"cac_weekly"},!i.isLoading&&a.posts.weeklyProblems.length>0?a.posts.weeklyProblems.map((function(e,t){return c.a.createElement(l.a,{user:i,key:t,showAuthor:!1,data:e,allUsers:u.usersMap,cropContent:!0,onClick:function(){return t=e.id,void m.push("/weekly-problems/".concat(t));var t},showCommentaries:!1,from:"weekly-problems"})})):c.a.createElement(t,null))}},92:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return o}));var n=function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December";default:return null}},c=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,c=0;c<e;c++)t+=a[Math.floor(Math.random()*n)];return t},r=/<br>|<\/br>|<br\/>/gi,o=function(e){return e.replace(r,"")}},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";var n=a(1),c=a(3),r=a.n(c),o=a(4),s=a(0),l=a.n(s),i=a(6),u=a(18),m=a(5),p=a(102),d=a.n(p),f=a(103),v=a.n(f),_=a(93),b=a.n(_),h=a(538),g=a(528),y=(a(94),function(e){var t=e.language,a=void 0===t?null:t,n=e.value;return l.a.createElement(h.a,{language:a,style:g.a},n)}),E=a(19),k=a(20),O=a.n(k),w=(a(95),function(e){var t=e.author,a=e.date,n=e.content;return l.a.createElement("div",{className:"cac_commentary"},l.a.createElement("div",{className:"cac_commentary_heading"},l.a.createElement("img",{src:t&&t.photoURL||O.a,alt:t?t.displayName:"",className:"cac_commentary_photo"}),l.a.createElement("div",{className:"cac_commentary_heading_text"},l.a.createElement(m.b,{to:"/profile/".concat(t.id),className:"cac_commentary_name--link"},l.a.createElement(E.a,{className:"cac_commentary_name",rank:t?t.rank:null},t?t.displayName:"")),l.a.createElement(b.a,{className:"cac_post_date",date:a.toDate()}))),l.a.createElement("p",{className:"cac_commentary_content"},n))}),N=a(9);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var C=l.a.createElement("title",null,"ionicons-v5-f"),P=function(e){var t=e.svgRef,a=e.title,n=x(e,["svgRef","title"]);return l.a.createElement("svg",j({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?C:a?l.a.createElement("title",null,a):null,l.a.createElement("path",{d:"M352.92,80C288,80,256,144,256,144s-32-64-96.92-64C106.32,80,64.54,124.14,64,176.81c-1.1,109.33,86.73,187.08,183,252.42a16,16,0,0,0,18,0c96.26-65.34,184.09-143.09,183-252.42C447.46,124.14,405.68,80,352.92,80Z",style:{fill:"auto",stroke:"auto",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32}}))},R=l.a.forwardRef((function(e,t){return l.a.createElement(P,j({svgRef:t},e))}));a.p;function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var V=l.a.createElement("title",null,"ionicons-v5-l"),F=function(e){var t=e.svgRef,a=e.title,n=S(e,["svgRef","title"]);return l.a.createElement("svg",L({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?V:a?l.a.createElement("title",null,a):null,l.a.createElement("path",{d:"M408,64H104a56.16,56.16,0,0,0-56,56V312a56.16,56.16,0,0,0,56,56h40v80l93.72-78.14a8,8,0,0,1,5.13-1.86H408a56.16,56.16,0,0,0,56-56V120A56.16,56.16,0,0,0,408,64Z",style:{fill:"auto",stroke:"auto",strokeLinejoin:"round",strokeWidth:32}}))},M=l.a.forwardRef((function(e,t){return l.a.createElement(F,L({svgRef:t},e))}));a.p;function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var A=l.a.createElement("title",null,"ionicons-v5-h"),J=function(e){var t=e.svgRef,a=e.title,n=U(e,["svgRef","title"]);return l.a.createElement("svg",D({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?A:a?l.a.createElement("title",null,a):null,l.a.createElement("path",{d:"M352,48H160a48,48,0,0,0-48,48V464L256,336,400,464V96A48,48,0,0,0,352,48Z",style:{fill:"auto",stroke:"auto",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32}}))},H=l.a.forwardRef((function(e,t){return l.a.createElement(J,D({svgRef:t},e))})),B=(a.p,a(92)),I=(a(96),a(106),v()({isValidNode:function(e){return"script"!==e.type&&"break"!==e.type}}));t.a=function(e){var t,a=e.user,c=e.from,p=void 0===c?"posts":c,f=e.showAuthor,v=void 0===f||f,_=e.enableLink,h=void 0===_||_,g=e.data,k=e.allUsers,j=e.preview,x=void 0!==j&&j,C=e.cropContent,P=void 0!==C&&C,L=e.showCommentaries,S=void 0!==L&&L,V=e.onClick,F=void 0===V?function(){return null}:V;t=k[g.author.id]||t;var D=Object(s.useState)(!1),U=Object(o.a)(D,2),A=U[0],J=U[1],W=Object(s.useState)(""),Z=Object(o.a)(W,2),Y=Z[0],q=Z[1],z=!x&&a.logged&&g.likesList.includes(a.uid),G=Object(s.useState)(!x&&a.logged&&a.saved.includes(g.id)),K=Object(o.a)(G,2),Q=K[0],T=K[1],X=Object(u.g)();return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement("div",{className:"cac_post ".concat(P?"cac_post--crop":""),onClick:F},l.a.createElement("div",{className:"cac_post_heading"},v&&l.a.createElement("img",{src:t.photoURL||O.a,className:"cac_post_heading_photo",alt:t.displayName,onClick:function(e){e.stopPropagation(),X.push("/profile/".concat(t.id))}}),l.a.createElement("div",{className:"cac_post_text-container"},h?l.a.createElement(m.b,{to:"/".concat(p,"/").concat(g.id),className:"cac_post_title cac_post_title--link"},g.title):l.a.createElement("span",{className:"cac_post_title"},g.title),v&&l.a.createElement("span",{onClick:function(e){e.stopPropagation(),X.push("/profile/".concat(t.id))},className:"cac_post_author--link"},l.a.createElement(E.a,{className:"cac_post_author",rank:t.rank},t.displayName)),x?l.a.createElement("span",{className:"cac_post_date"},g.date):l.a.createElement(b.a,{className:"cac_post_date",live:!1,date:g.timestamp?g.timestamp.toDate():new Date}))),l.a.createElement(d.a,{className:"cac_post_content markdown-body ".concat(P?"cac_post_content--crop":""),source:Object(B.c)(g.content),renderers:{code:y},escapeHtml:!1,astPlugins:[I]}),l.a.createElement("div",{className:"cac_post_interaction"},l.a.createElement("div",{className:"cac_post_interaction-box",onClick:function(e){e.stopPropagation();!x&&a.logged?function(){var e;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.d.doc("".concat(p,"/").concat(g.id)),z){t.next=6;break}return t.next=4,r.a.awrap(e.update({likesList:i.c.firestore.FieldValue.arrayUnion(a.uid)}));case 4:t.next=8;break;case 6:return t.next=8,r.a.awrap(e.update({likesList:i.c.firestore.FieldValue.arrayRemove(a.uid)}));case 8:case"end":return t.stop()}}))}():alert("You need to sign in to like posts")}},l.a.createElement("span",{className:"cac_post_interaction-counter"},g.likesList.length),l.a.createElement(R,{className:"cac_post_icon cac_post_heart ".concat(z?"cac_post_heart--filled":"")}),l.a.createElement("span",{className:"cac_post_interaction-label"},"Like")),l.a.createElement("div",{className:"cac_post_interaction-box cac_post_interaction-box--comment"},l.a.createElement("span",{className:"cac_post_interaction-counter"},g.comments.length),l.a.createElement(M,{className:"cac_post_icon cac_post_comment"}),l.a.createElement("span",{className:"cac_post_interaction-label"},"Comment")),l.a.createElement("div",{className:"cac_post_interaction-box",onClick:function(e){e.stopPropagation();!x&&a.logged?function(){var e;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.d.doc("users/".concat(a.uid)),T(!Q),Q){t.next=7;break}return t.next=5,r.a.awrap(e.update({saved:i.c.firestore.FieldValue.arrayUnion(g.id)}));case 5:t.next=9;break;case 7:return t.next=9,r.a.awrap(e.update({saved:i.c.firestore.FieldValue.arrayRemove(g.id)}));case 9:case"end":return t.stop()}}))}():alert("you need to sign in to save posts")}},l.a.createElement(H,{className:"cac_post_icon cac_post_bookmark ".concat(Q?"cac_post_bookmark--filled":"")}),l.a.createElement("span",{className:"cac_post_interaction-label"},"Save"))),S&&l.a.createElement("div",{className:"cac_post_commentaries-section"},a.logged&&l.a.createElement("div",{className:"cac_post_create-commentary"},l.a.createElement("textarea",{className:"cac_post_create-commentary_textarea",value:Y,onChange:function(e){return q(e.target.value)}}),l.a.createElement(N.b,{className:"cac_poist_create-commentary_button",onClick:function(){!A&&Y&&function(){var e,t;r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return J(!0),e=i.d.doc("".concat(p,"/").concat(g.id)),t={author:a.uid,content:Y,date:new Date},n.next=5,r.a.awrap(e.update({comments:i.c.firestore.FieldValue.arrayUnion(t)}));case 5:J(!1),q("");case 7:case"end":return n.stop()}}))}()}},"Comment")),l.a.createElement("div",{className:"cac_post_commentaries"},g.comments.sort((function(e,t){return t.date.toDate()-e.date.toDate()})).map((function(e,t){var a=e.author,c=e.content,r=e.date;return l.a.createElement(w,{key:t,author:Object(n.a)({id:a},k[a]),content:c,date:r})}))))))}}}]);
//# sourceMappingURL=10.940e3837.chunk.js.map