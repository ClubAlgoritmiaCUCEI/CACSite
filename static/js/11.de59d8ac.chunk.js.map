{"version":3,"sources":["Components/popup/index.js","assets/confirm.svg","assets/cancel.svg","Views/profile/index.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/bytesToUuid.js","../node_modules/uuid/dist/esm-browser/v4.js","assets/pencil.svg","Views/selfProfile/index.js"],"names":["Popup","children","className","TopPopup","onClick","useEffect","timeOut","setTimeout","clearTimeout","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref","svgRef","title","props","id","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","forwardRef","fill","cx","cy","rx","ry","transform","width","height","Profile","match","self","params","allUsers","useContext","AllUsersContext","useState","user","setUser","usersMap","src","photoURL","DefaultImage","alt","displayName","rank","rating","href","codeForcesUsername","cfConfirmed","vjudgeUsername","email","description","getRandomValues","crypto","bind","msCrypto","window","rnds8","Uint8Array","rng","Error","byteToHex","toString","substr","bytesToUuid","buf","offset","bth","join","v4","options","Array","rnds","random","ii","points","SelfProfile","UserContext","isEditing","setIsEditing","setDisplayName","cfUsername","setCfUsername","setVjUsername","setDescription","editing","setEditing","visible","type","content","alert","setAlert","isCFLoading","isLoading","logged","htmlFor","display","name","accept","onChange","e","a","async","file","files","path","uuidv4","storageRef","storage","put","pathReference","requestPhotoURL","getDownloadURL","url","userRef","firestore","doc","uid","update","tryToRequest","timesTried","value","flag","undefined","users","find","u","confirm","Boolean","console","error","handleConfirm"],"mappings":"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","file":"static/js/11.de59d8ac.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst Popup = ({ children }) => {\r\n  return <div className=\"cac_popup\">{children}</div>;\r\n};\r\n\r\nexport default Popup;\r\n\r\nconst TopPopup = ({ children, className = \"error\", onClick = () => null }) => {\r\n  useEffect(() => {\r\n    const timeOut = setTimeout(() => {\r\n      onClick();\r\n    }, 5000);\r\n    return () => clearTimeout(timeOut);\r\n  });\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className={`cac_popup-top ${className ? className : \"\"}`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { TopPopup };\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M246.736,0C110.692,0,0.004,110.68,0.004,246.732c0,136.06,110.688,246.732,246.732,246.732 c136.048,0,246.724-110.672,246.724-246.732C493.456,110.68,382.78,0,246.736,0z M360.524,208.716L230.98,338.268 c-2.82,2.824-7.816,2.824-10.64,0l-86.908-86.912c-1.412-1.416-2.192-3.3-2.192-5.324c0.004-2.016,0.784-3.912,2.192-5.336 l11.108-11.104c1.412-1.408,3.3-2.18,5.328-2.18c2.016,0,3.908,0.772,5.316,2.18l67.752,67.752c1.5,1.516,3.94,1.516,5.444,0 l110.392-110.392c2.824-2.824,7.828-2.824,10.644,0l11.108,11.124c1.412,1.4,2.208,3.304,2.208,5.308 C362.732,205.412,361.936,207.3,360.524,208.716z\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgConfirm = function SvgConfirm(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 493.464 493.464\",\n    style: {\n      enableBackground: \"new 0 0 493.464 493.464\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgConfirm, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/confirm.939b3bdb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgCancel = function SvgCancel(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, React.createElement(\"ellipse\", {\n    style: {\n      fill: \"#E21B1B\"\n    },\n    cx: 256,\n    cy: 256,\n    rx: 256,\n    ry: 255.832\n  }), React.createElement(\"g\", null, React.createElement(\"rect\", {\n    x: 228.021,\n    y: 113.143,\n    transform: \"matrix(0.7071 -0.7071 0.7071 0.7071 -106.0178 256.0051)\",\n    style: {\n      fill: \"#FFFFFF\"\n    },\n    width: 55.991,\n    height: 285.669\n  }), React.createElement(\"rect\", {\n    x: 113.164,\n    y: 227.968,\n    transform: \"matrix(0.7071 -0.7071 0.7071 0.7071 -106.0134 255.9885)\",\n    style: {\n      fill: \"#FFFFFF\"\n    },\n    width: 285.669,\n    height: 55.991\n  })), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCancel, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cancel.db47502b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport { AllUsersContext } from \"../../Providers/userProvider\";\r\n\r\nimport DefaultImage from \"../../assets/default-photo.jpg\";\r\n\r\nimport ColoredName from \"../../Components/colored-name\";\r\nimport Button from \"../../Components/button\";\r\n\r\nimport { ReactComponent as Confirmed } from \"../../assets/confirm.svg\";\r\nimport { ReactComponent as Unconfirmed } from \"../../assets/cancel.svg\";\r\nimport \"./style.css\";\r\n\r\nconst Profile = ({ match, self = false, onClick = () => null }) => {\r\n  const { id } = match.params;\r\n  const allUsers = useContext(AllUsersContext);\r\n\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(allUsers.usersMap).length > 0) {\r\n      if (allUsers.usersMap[id]) {\r\n        setUser(allUsers.usersMap[id]);\r\n      } else {\r\n      }\r\n    }\r\n  }, [allUsers, id]);\r\n\r\n  return (\r\n    <div className=\"cac_profile\">\r\n      <div className=\"cac_profile_photo-container\">\r\n        <img\r\n          src={user.photoURL || DefaultImage}\r\n          alt={user.displayName}\r\n          className=\"cac_profile_photo\"\r\n        />\r\n      </div>\r\n      <div className=\"cac_profile_information\">\r\n        <ColoredName rank={user.rank} className=\"cac_profile_name\">\r\n          {user.displayName}\r\n        </ColoredName>\r\n        {user.rank && (\r\n          <ColoredName rank={user.rank} className=\"cac_profile_rank\">\r\n            {user.rank}, {user.rating}\r\n          </ColoredName>\r\n        )}\r\n        <span className=\"cac_profile_label\">\r\n          CodeForces:\r\n          <a\r\n            className=\"cac_profile_link\"\r\n            href={`https://codeforces.com/profile/${user.codeForcesUsername}`}\r\n          >\r\n            {user.codeForcesUsername}\r\n            {user.cfConfirmed ? (\r\n              <Confirmed className=\"cac_profile_confirmation cac_profile_confirmation--true\" />\r\n            ) : (\r\n              <Unconfirmed className=\"cac_profile_confirmation cac_profile_confirmation--false\" />\r\n            )}\r\n          </a>\r\n        </span>\r\n        <span className=\"cac_profile_label\">\r\n          Vjudge:\r\n          <a\r\n            className=\"cac_profile_link\"\r\n            href={`https://vjudge.net/user/${user.codeForcesUsername}`}\r\n          >\r\n            {user.vjudgeUsername}\r\n          </a>\r\n        </span>\r\n        <span className=\"cac_profile_label\">Email: {user.email}</span>\r\n        <span className=\"cac_profile_label\">Description:</span>\r\n        <p className=\"cac_profile_description\">\r\n          {user.description || \"Does not have a description yet\"}\r\n        </p>\r\n      </div>\r\n      {self && (\r\n        <div className=\"cac_profile_buttons\">\r\n          <Button className=\"cac_profile_edit\" onClick={onClick}>\r\n            Edit profile\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default Profile;\r\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('uuid: This browser does not seem to support crypto.getRandomValues(). If you need to support this browser, please provide a custom random number generator through options.rng.');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nexport default v4;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"polygon\", {\n  points: \"0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893  \"\n}), React.createElement(\"path\", {\n  d: \"M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04 C386.027,77.92,386.027,64.373,377.707,56.053z\"\n}))));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgPencil = function SvgPencil(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 383.947 383.947\",\n    style: {\n      fill: \"auto\",\n      enableBackground: \"new 0 0 383.947 383.947\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPencil, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pencil.563c304a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useState, useEffect } from \"react\";\r\n\r\nimport { firestore, storage } from \"../../firebase\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport { UserContext, AllUsersContext } from \"../../Providers/userProvider\";\r\n\r\nimport Profile from \"../profile\";\r\nimport ColoredName from \"../../Components/colored-name\";\r\nimport Button from \"../../Components/button\";\r\nimport { TopPopup } from \"../../Components/popup\";\r\n\r\nimport { ReactComponent as Pencil } from \"../../assets/pencil.svg\";\r\n\r\nimport \"./style.css\";\r\nimport \"../profile/style.css\";\r\n\r\nconst SelfProfile = () => {\r\n  const user = useContext(UserContext);\r\n  const allUsers = useContext(AllUsersContext);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [cfUsername, setCfUsername] = useState(\"\");\r\n  const [vjudgeUsername, setVjUsername] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [editing, setEditing] = useState({\r\n    displayName: false,\r\n    cfUsername: false,\r\n    vjudgeUsername: false\r\n  });\r\n  const [alert, setAlert] = useState({\r\n    visible: false,\r\n    type: \"error\",\r\n    content: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!user.isCFLoading) {\r\n      setDisplayName(user.displayName || \"\");\r\n      setCfUsername(user.codeForcesUsername || \"\");\r\n      setVjUsername(user.vjudgeUsername || \"\");\r\n      setDescription(user.description || \"\");\r\n    }\r\n  }, [user]);\r\n\r\n  const handleUpload = async e => {\r\n    const file = e.target.files[0];\r\n    const path = `userPhoto/${uuidv4()}`;\r\n    const storageRef = storage.ref(path);\r\n    await storageRef.put(file);\r\n    let pathReference = storage.ref(`${path}_200x200`);\r\n\r\n    const requestPhotoURL = async () => {\r\n      const url = await pathReference.getDownloadURL();\r\n      const userRef = firestore.doc(`users/${user.uid}`);\r\n\r\n      try {\r\n        await userRef.update({\r\n          photoURL: url\r\n        });\r\n      } catch (e) {\r\n        throw new Error(e);\r\n      }\r\n    };\r\n\r\n    const tryToRequest = async timesTried => {\r\n      try {\r\n        await requestPhotoURL();\r\n        setAlert({\r\n          visible: true,\r\n          type: \"success\",\r\n          content: \"Photo uploaded succesfully, reload to see changes\"\r\n        });\r\n      } catch (e) {\r\n        if (timesTried > 5) {\r\n          setAlert({\r\n            visible: true,\r\n            type: \"error\",\r\n            content: \"error uploading photo :(\"\r\n          });\r\n          return;\r\n        }\r\n        setTimeout(() => tryToRequest(timesTried + 1), 500);\r\n      }\r\n    };\r\n    setTimeout(() => tryToRequest(0), 500);\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    let flag = description !== user.description;\r\n    if (editing.displayName) {\r\n      flag = true;\r\n      if (\r\n        allUsers.users.find(u => u.displayName === displayName) !== undefined\r\n      ) {\r\n        setAlert({\r\n          visible: true,\r\n          type: \"error\",\r\n          content: \"Username is already in use\"\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (editing.cfUsername) {\r\n      flag = true;\r\n      if (\r\n        !window.confirm(\r\n          \"Changing codeforces username will require a confirmation, are you sure?\"\r\n        )\r\n      )\r\n        return;\r\n    }\r\n    if (editing.vjudgeUsername) {\r\n      flag = true;\r\n      if (\r\n        allUsers.users.find(u => u.vjudgeUsername === vjudgeUsername) !==\r\n        undefined\r\n      ) {\r\n        setAlert({\r\n          visible: true,\r\n          type: \"error\",\r\n          content: \"Vjudge username is already in use\"\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (flag) {\r\n      const userRef = firestore.doc(`users/${user.uid}`);\r\n\r\n      try {\r\n        await userRef.update({\r\n          displayName: displayName,\r\n          codeForcesUsername: cfUsername,\r\n          vjudgeUsername: vjudgeUsername,\r\n          description: description,\r\n          cfConfirmed: Boolean(!editing.cfUsername && user.cfConfirmed)\r\n        });\r\n        setIsEditing(false);\r\n        setAlert({\r\n          visible: true,\r\n          type: \"success\",\r\n          content: \"User updated succesfuly, reload page\"\r\n        });\r\n      } catch (e) {\r\n        console.error(e);\r\n        setAlert({\r\n          visible: true,\r\n          type: \"error\",\r\n          content: \"Something bad happened :(\"\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {alert.visible && (\r\n        <TopPopup\r\n          className={alert.type}\r\n          onClick={() => setAlert({ visible: false })}\r\n        >\r\n          {alert.content}\r\n        </TopPopup>\r\n      )}\r\n      {!user.isLoading && !user.logged ? (\r\n        <div>404 xd</div>\r\n      ) : !isEditing ? (\r\n        <Profile\r\n          match={{ params: { id: user.uid } }}\r\n          self={true}\r\n          onClick={() => setIsEditing(true)}\r\n        />\r\n      ) : (\r\n            <div className=\"cac_profile\">\r\n              <div className=\"cac_profile_photo-container\">\r\n                <img\r\n                  src={user.photoURL}\r\n                  alt={user.displayName}\r\n                  className=\"cac_profile_photo\"\r\n                />\r\n                <label htmlFor=\"photo\" className=\"cac_profile_photo_edit\">\r\n                  Upload new photo\r\n            </label>\r\n                <input\r\n                  style={{ display: \"none\" }}\r\n                  id=\"photo\"\r\n                  type=\"file\"\r\n                  name=\"file\"\r\n                  accept=\"image/png, image/jpeg\"\r\n                  onChange={handleUpload}\r\n                />\r\n              </div>\r\n              <div className=\"cac_profile_information\">\r\n                {!editing.displayName ? (\r\n                  <ColoredName rank={user.rank} className=\"cac_profile_name\">\r\n                    {user.displayName}\r\n                    <Pencil\r\n                      className=\"cac_profile_edit-svg\"\r\n                      onClick={() => setEditing(e => ({ ...e, displayName: true }))}\r\n                    />\r\n                  </ColoredName>\r\n                ) : (\r\n                    <>\r\n                      <span className=\"cac_profile_label\">Display Name:</span>\r\n                      <textarea\r\n                        className=\"cac_profile_text-area\"\r\n                        value={displayName}\r\n                        onChange={e => setDisplayName(e.target.value)}\r\n                      />\r\n                    </>\r\n                  )}\r\n                <ColoredName rank={user.rank} className=\"cac_profile_rank\">\r\n                  {user.rank}, {user.rating}\r\n                </ColoredName>\r\n                {!editing.cfUsername ? (\r\n                  <span className=\"cac_profile_label\">\r\n                    CodeForces:\r\n                    <a\r\n                      className=\"cac_profile_link\"\r\n                      href={`https://codeforces.com/profile/${user.codeForcesUsername}`}\r\n                    >\r\n                      {user.codeForcesUsername}\r\n                    </a>\r\n                    <Pencil\r\n                      className=\"cac_profile_edit-svg\"\r\n                      onClick={() => setEditing(e => ({ ...e, cfUsername: true }))}\r\n                    />\r\n                  </span>\r\n                ) : (\r\n                    <>\r\n                      <span className=\"cac_profile_label\">CodeForces:</span>\r\n                      <textarea\r\n                        className=\"cac_profile_text-area\"\r\n                        value={cfUsername}\r\n                        onChange={e => setCfUsername(e.target.value)}\r\n                      />\r\n                    </>\r\n                  )}\r\n                {!editing.vjudgeUsername ? (\r\n                  <span className=\"cac_profile_label\">\r\n                    Vjudge:\r\n                    <a\r\n                      className=\"cac_profile_link\"\r\n                      href={`https://vjudge.net/user/${user.codeForcesUsername}`}\r\n                    >\r\n                      {user.vjudgeUsername}\r\n                    </a>\r\n                    <Pencil\r\n                      className=\"cac_profile_edit-svg\"\r\n                      onClick={() =>\r\n                        setEditing(e => ({ ...e, vjudgeUsername: true }))\r\n                      }\r\n                    />\r\n                  </span>\r\n                ) : (\r\n                    <>\r\n                      <span className=\"cac_profile_label\">Vjudge:</span>\r\n                      <textarea\r\n                        className=\"cac_profile_text-area\"\r\n                        value={vjudgeUsername}\r\n                        onChange={e => setVjUsername(e.target.value)}\r\n                      />\r\n                    </>\r\n                  )}\r\n                <span className=\"cac_profile_label\">Email: {user.email}</span>\r\n                <span className=\"cac_profile_label\">Introduction:</span>\r\n                <textarea\r\n                  className=\"cac_profile_description-editing\"\r\n                  value={description}\r\n                  onChange={e => setDescription(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n              <div className=\"cac_profile_buttons\">\r\n                <Button\r\n                  className=\" cac_profile_edit cac_profile_cancel\"\r\n                  onClick={() => setIsEditing(false)}\r\n                >\r\n                  Cancel\r\n            </Button>\r\n                <Button\r\n                  className=\"cac_profile_edit\"\r\n                  onClick={() => handleConfirm()}\r\n                >\r\n                  Save\r\n            </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n    </>\r\n  );\r\n};\r\nexport default SelfProfile;\r\n"],"sourceRoot":""}