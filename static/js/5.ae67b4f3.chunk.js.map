{"version":3,"sources":["Components/popup/index.js","Components/user-box/index.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Components/searchUsers/index.js","Components/select-users/index.js","Views/attendance/index.js","../node_modules/react-dropdown/dist/index.js","../node_modules/classnames/index.js","../node_modules/react-contenteditable/lib/react-contenteditable.js","../node_modules/react-contenteditable/node_modules/fast-deep-equal/index.js","Components/create-class/index.js","Components/custom-textarea/index.js","Components/create-post/index.js","Views/create/index.js"],"names":["Popup","children","className","TopPopup","onClick","useEffect","timeOut","setTimeout","clearTimeout","UserBox","user","redirect","history","useHistory","push","id","src","photoURL","DefaultImage","alt","displayName","to","rank","rating","_toConsumableArray","arr","Array","isArray","i","arr2","length","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError","SearchUsers","handleUserClick","allUsers","useContext","AllUsersContext","useState","setDisplayName","canFilter","setCanFilter","match","setMatch","lastQuery","setLastQuery","isCFLoading","query","toLocaleLowerCase","users","filter","includes","type","value","placeholder","onChange","e","target","map","key","SelectUsers","close","handleConfirm","setUsers","handleEvent","window","addEventListener","removeEventListener","findIndex","u","removeUser","Attendance","props","atnContext","AttendanceContext","UserContext","usersMap","setRedirect","inList","setInList","popupOpen","setPopupOpen","open","description","alert","setAlert","preview","classData","code","params","logged","isLoading","isDataAvailable","active","a","async","classRef","firestore","doc","undefined","attendances","find","attendance","uid","update","firebase","FieldValue","arrayUnion","pushData","setClassData","c","validCode","title","date","toDate","toDateString","speakers","speaker","attendant","console","log","isAdmin","defineProperty","exports","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_reactDom2","_classnames2","obj","__esModule","default","_defineProperty","Dropdown","_Component","instance","_classCallCheck","this","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","state","selected","parseValue","options","label","isOpen","mounted","handleDocumentClick","bind","fireChangeEvent","subClass","superClass","create","constructor","setPrototypeOf","_inherits","newProps","setState","document","event","onFocus","button","stopPropagation","preventDefault","disabled","option","num","items","item","newState","_classes","isSelected","classes","baseClassName","optionClass","createElement","onMouseDown","setValue","role","_this2","_props","ops","groupTitle","name","_options","renderOption","tabIndex","findDOMNode","contains","_classNames","_classNames2","_classNames3","_classNames4","_classNames5","_props2","controlClassName","placeholderClassName","menuClassName","arrowClassName","arrowClosed","arrowOpen","disabledClass","placeHolderValue","dropdownClass","controlClass","placeholderClass","isValueSelected","menuClass","arrowClass","menu","buildMenu","handleMouseDown","onTouchEnd","Component","defaultProps","hasOwn","hasOwnProperty","classNames","arguments","arg","argType","inner","apply","join","module","__extends","extendStatics","d","b","p","__","__assign","assign","t","s","n","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__importStar","mod","result","k","__importDefault","React","fast_deep_equal_1","PropTypes","normalizeHtml","str","replace","ContentEditable","_super","lastHtml","html","el","innerRef","current","createRef","getEl","emitChange","originalEvt","innerHTML","evt","render","_a","tagName","ref","onInput","onBlur","onKeyUp","onKeyDown","contentEditable","dangerouslySetInnerHTML","__html","shouldComponentUpdate","nextProps","style","componentDidUpdate","createTextNode","appendChild","isTargetFocused","activeElement","nodeValue","sel","getSelection","range","createRange","setStart","collapse","removeAllRanges","addRange","HTMLElement","focus","replaceCaret","propTypes","string","isRequired","func","bool","object","oneOfType","keyList","keys","hasProp","equal","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","DEFAULT_ATTENDANCES","CreateClass","setTitle","setDate","setDescription","setCode","setSpeakers","isSubmiting","setIsSubmiting","canPost","dateFormated","isNaN","htmlFor","required","minLength","maxLength","generateRandomCode","get","exists","set","error","mesage","CustomTextarea","text","useRef","htmlRef","onPaste","clipboardData","getData","childNodes","CreatePost","showAuthor","content","setContent","visible","enableLink","author","data","comments","likesList","postData","createdAt","serverTimestamp","timestamp","now","collection","add","Create","path","setPath","setPreview","cid"],"mappings":"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","file":"static/js/5.ae67b4f3.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst Popup = ({ children }) => {\r\n  return <div className=\"cac_popup\">{children}</div>;\r\n};\r\n\r\nexport default Popup;\r\n\r\nconst TopPopup = ({ children, className = \"error\", onClick = () => null }) => {\r\n  useEffect(() => {\r\n    const timeOut = setTimeout(() => {\r\n      onClick();\r\n    }, 5000);\r\n    return () => clearTimeout(timeOut);\r\n  });\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className={`cac_popup-top ${className ? className : \"\"}`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { TopPopup };\r\n","import React from \"react\";\r\nimport ColoredName from \"../colored-name\";\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nimport { BrowserRouter as Router, Link, useHistory } from \"react-router-dom\";\r\n\r\nimport DefaultImage from \"../../assets/default-photo.jpg\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst UserBox = ({ user, className, onClick, redirect = true }) => {\r\n  const history = useHistory();\r\n  return (\r\n    <div\r\n      className={`cac_user-box ${className || \"\"} ${\r\n        !redirect ? \"cac_user-box--redirect\" : \"\"\r\n        }`}\r\n      onClick={onClick}\r\n    >\r\n      <img\r\n        onClick={() => redirect && history.push(`/profile/${user.id}`)}\r\n        className=\"cac_user-box_photo\"\r\n        src={user.photoURL || DefaultImage}\r\n        alt={user.displayName}\r\n      />\r\n      <div className=\"cac_user-box_text\">\r\n        {redirect ? (\r\n          <Link to={`/profile/${user.id}`} className=\"cac_user-box_name--link\">\r\n            <ColoredName rank={user.rank} className=\"cac_user-box_name\">\r\n              {user.displayName}\r\n            </ColoredName>\r\n          </Link>\r\n        ) : (\r\n            <ColoredName rank={user.rank} className=\"cac_user-box_name\">\r\n              {user.displayName}\r\n            </ColoredName>\r\n          )}\r\n\r\n        <ColoredName rank={user.rank} className=\"cac_user-box_ranking\">\r\n          {user.rating || \"\"}\r\n        </ColoredName>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserBox;\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { AllUsersContext } from \"../../Providers/userProvider\";\r\n\r\nimport UserBox from \"../user-box\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst SearchUsers = ({ handleUserClick }) => {\r\n  const allUsers = useContext(AllUsersContext);\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [canFilter, setCanFilter] = useState(true);\r\n  const [match, setMatch] = useState([]);\r\n  const [lastQuery, setLastQuery] = useState();\r\n\r\n  useEffect(() => {\r\n    if (!allUsers.isCFLoading && canFilter && lastQuery !== displayName) {\r\n      setCanFilter(false);\r\n      setLastQuery(displayName);\r\n      const query = displayName.toLocaleLowerCase();\r\n      setMatch(\r\n        allUsers.users.filter(user =>\r\n          user.displayName.toLocaleLowerCase().includes(query)\r\n        )\r\n      );\r\n      setTimeout(() => {\r\n        setCanFilter(true);\r\n      }, 250);\r\n    }\r\n  }, [displayName, canFilter, lastQuery, allUsers]);\r\n\r\n  return (\r\n    <div className=\"cac_search-user\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"cac_search-user_input\"\r\n        value={displayName}\r\n        placeholder=\"User name\"\r\n        onChange={e => setDisplayName(e.target.value)}\r\n      />\r\n      <div className=\"cac_search_users-container\">\r\n        {match.map((user, i) => (\r\n          <UserBox redirect={false} key={i} user={user} onClick={() => handleUserClick(user)} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchUsers;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport SearchUsers from \"../searchUsers\";\r\nimport UserBox from \"../user-box\";\r\nimport Button from \"../button\";\r\nimport \"./style.css\";\r\n\r\nconst SelectUsers = ({ close, handleConfirm }) => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const handleUserClick = user => {\r\n    if (users.findIndex(u => u.id === user.id) === -1)\r\n      setUsers([...users, user]);\r\n  };\r\n\r\n  const removeUser = user => {\r\n    setUsers(users.filter(u => u.id !== user.id));\r\n  };\r\n\r\n  const handleConfirmClick = () => {\r\n    if (users.length > 0) {\r\n      handleConfirm(users);\r\n      close();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const handleEvent = e => {\r\n      if (e.key === \"Escape\") close();\r\n    };\r\n    window.addEventListener(\"keydown\", handleEvent);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleEvent);\r\n    };\r\n  }, [close]);\r\n\r\n  return (\r\n    <div className=\"cac_select-users\">\r\n      <SearchUsers handleUserClick={handleUserClick} />\r\n      <span className=\"cac_select-users_title\">Selected</span>\r\n      <div className=\"cac_select-users_users\">\r\n        {users.map(user => (\r\n          <UserBox\r\n            redirect={false}\r\n            key={user.id}\r\n            user={user}\r\n            onClick={() => removeUser(user)}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"cac_select-users_button-container\">\r\n        <Button\r\n          onClick={close}\r\n          className=\"cac_select-users_button cac_select-users_button--cancel\"\r\n        >\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={handleConfirmClick}\r\n          className={`cac_select-users_button cac_select-users_button ${\r\n            users.length > 0\r\n              ? \"\"\r\n              : \"cac_select-users_button-container--disabled\"\r\n          }`}\r\n        >\r\n          Confirm\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectUsers;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  // eslint-disable-next-line no-unused-vars\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  useHistory\r\n} from \"react-router-dom\";\r\nimport { firebase, firestore } from \"../../firebase\";\r\n\r\nimport { AttendanceContext } from \"../../Providers/attendanceProvider\";\r\nimport { UserContext, AllUsersContext } from \"../../Providers/userProvider\";\r\n\r\nimport UserBox from \"../../Components/user-box\";\r\nimport Button from \"../../Components/button\";\r\nimport Popup, { TopPopup } from \"../../Components/popup\";\r\nimport SelectUsers from \"../../Components/select-users\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst Attendance = props => {\r\n  const atnContext = useContext(AttendanceContext);\r\n  const user = useContext(UserContext);\r\n  const { usersMap } = useContext(AllUsersContext);\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [inList, setInList] = useState(false);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n  const [alert, setAlert] = useState({\r\n    open: false,\r\n    description: \"\",\r\n    type: \"\"\r\n  });\r\n  const { preview } = props;\r\n  const history = useHistory();\r\n\r\n  const classData = preview ? props.classData : atnContext.classData;\r\n  const { code } = props.match.params || classData;\r\n  useEffect(() => {\r\n    const pushData = async () => {\r\n      const classRef = firestore.doc(`class/${code}`);\r\n      if (\r\n        classData.attendances.find(attendance => attendance.id === user.uid) ===\r\n        undefined\r\n      ) {\r\n        await classRef.update({\r\n          attendances: firebase.firestore.FieldValue.arrayUnion({\r\n            id: user.uid,\r\n            displayName: user.displayName\r\n          })\r\n        });\r\n      }\r\n      setInList(true);\r\n    };\r\n    if (\r\n      !preview &&\r\n      user.logged &&\r\n      !user.isLoading &&\r\n      classData.isDataAvailable &&\r\n      !inList &&\r\n      classData.active\r\n    ) {\r\n      pushData();\r\n    }\r\n  }, [inList, user, classData, code, preview]);\r\n\r\n  useEffect(() => {\r\n    if (!preview) {\r\n      if (code !== classData.code) {\r\n        atnContext.setClassData(c => ({ ...c, code }));\r\n      } else {\r\n        if (!classData.validCode) {\r\n          setRedirect(true);\r\n        }\r\n      }\r\n    }\r\n  }, [code, user, classData, atnContext, preview]);\r\n\r\n  const handleConfirm = async users => {\r\n    setPopupOpen(false);\r\n    const classRef = firestore.doc(`class/${code}`);\r\n    await classRef.update({\r\n      attendances: firebase.firestore.FieldValue.arrayUnion(\r\n        ...users.map(user => ({ id: user.id, displayName: user.displayName }))\r\n      )\r\n    });\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    if (!preview) {\r\n      setPopupOpen(true);\r\n    }\r\n  };\r\n\r\n  const endClass = async () => {\r\n    if (!preview && classData.active) {\r\n      const classRef = firestore.doc(`class/${code}`);\r\n      await classRef.update({\r\n        active: false\r\n      });\r\n    }\r\n  };\r\n\r\n  const changeClass = () => {\r\n    console.log(atnContext);\r\n    history.push('/attendance');\r\n    atnContext.setClassData({ isDataAvailable: false, code: \"\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (classData.isDataAvailable && !classData.active) {\r\n      setAlert({ open: true, type: \"error\", description: \"Class ended\" });\r\n    }\r\n  }, [classData.isDataAvailable, classData.active]);\r\n\r\n  return (\r\n    <div className=\"cac_attendance cac_attendance--in-class\">\r\n      {alert.open && (\r\n        <TopPopup\r\n          onClick={() => setAlert({ open: false })}\r\n          className={alert.type}\r\n        >\r\n          {alert.description}\r\n        </TopPopup>\r\n      )}\r\n      {redirect && <Redirect to=\"/attendance\" />}\r\n      {popupOpen && (\r\n        <Popup>\r\n          <SelectUsers\r\n            close={() => setPopupOpen(false)}\r\n            handleConfirm={handleConfirm}\r\n          />\r\n        </Popup>\r\n      )}\r\n      {(classData.isDataAvailable || preview) && (\r\n        <div className=\"cac_attendance_class\">\r\n          <h3 className=\"cac_attendance_title\">{classData.title}</h3>\r\n          <span className=\"cac_attendance_date\">\r\n            {preview ? classData.date : classData.date.toDate().toDateString()}\r\n          </span>\r\n          <div className=\"cac_attendance_code-container\">\r\n            <span className=\"cac_attendance_code-title\">Code</span>\r\n            <span className=\"cac_attendance_code-code\">{classData.code}</span>\r\n          </div>\r\n          <div className=\"cac_attendance_speakers-container\">\r\n            <span className=\"cac_attendance_speakers-title\">Speakers</span>\r\n            {classData.speakers.map((speaker, i) => (\r\n              <UserBox\r\n                key={i}\r\n                className=\"cac_attendance_speaker_user-box\"\r\n                user={usersMap[speaker.id] || speaker}\r\n              />\r\n            ))}\r\n          </div>\r\n          <div className=\"cac_attendance_description-container\">\r\n            <p className=\"cac_attendance_description-title\">Description</p>\r\n            <p className=\"cac_attendance_description-text\">\r\n              {classData.description}\r\n            </p>\r\n          </div>\r\n          <div className=\"cac_attendance_attendant-container\">\r\n            {classData.attendances.map((attendant, i) => (\r\n              <UserBox\r\n                key={i}\r\n                className=\"cac_attendance_attendant\"\r\n                user={usersMap[attendant.id] || attendant}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"cac_attendance_buttons\">\r\n        <Button\r\n          className=\"cac_attendance_button cac_attendance_add\"\r\n          onClick={changeClass}\r\n        >\r\n          Change\r\n        </Button>\r\n        {user.isAdmin && (\r\n          <>\r\n            <Button\r\n              className=\"cac_attendance_button cac_attendance_end\"\r\n              onClick={endClass}\r\n            >\r\n              End class\r\n            </Button>\r\n            <Button\r\n              className=\"cac_attendance_button cac_attendance_add\"\r\n              onClick={handleAdd}\r\n            >\r\n              Add people\r\n            </Button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Attendance;\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DEFAULT_PLACEHOLDER_STRING = 'Select...';\n\nvar Dropdown = function (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown(props) {\n    _classCallCheck(this, Dropdown);\n\n    var _this = _possibleConstructorReturn(this, (Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call(this, props));\n\n    _this.state = {\n      selected: _this.parseValue(props.value, props.options) || {\n        label: typeof props.placeholder === 'undefined' ? DEFAULT_PLACEHOLDER_STRING : props.placeholder,\n        value: ''\n      },\n      isOpen: false\n    };\n    _this.mounted = true;\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_this);\n    _this.fireChangeEvent = _this.fireChangeEvent.bind(_this);\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.value) {\n        var selected = this.parseValue(newProps.value, newProps.options);\n        if (selected !== this.state.selected) {\n          this.setState({ selected: selected });\n        }\n      } else {\n        this.setState({ selected: {\n            label: typeof newProps.placeholder === 'undefined' ? DEFAULT_PLACEHOLDER_STRING : newProps.placeholder,\n            value: ''\n          } });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleDocumentClick, false);\n      document.addEventListener('touchend', this.handleDocumentClick, false);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.mounted = false;\n      document.removeEventListener('click', this.handleDocumentClick, false);\n      document.removeEventListener('touchend', this.handleDocumentClick, false);\n    }\n  }, {\n    key: 'handleMouseDown',\n    value: function handleMouseDown(event) {\n      if (this.props.onFocus && typeof this.props.onFocus === 'function') {\n        this.props.onFocus(this.state.isOpen);\n      }\n      if (event.type === 'mousedown' && event.button !== 0) return;\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (!this.props.disabled) {\n        this.setState({\n          isOpen: !this.state.isOpen\n        });\n      }\n    }\n  }, {\n    key: 'parseValue',\n    value: function parseValue(value, options) {\n      var option = void 0;\n\n      if (typeof value === 'string') {\n        for (var i = 0, num = options.length; i < num; i++) {\n          if (options[i].type === 'group') {\n            var match = options[i].items.filter(function (item) {\n              return item.value === value;\n            });\n            if (match.length) {\n              option = match[0];\n            }\n          } else if (typeof options[i].value !== 'undefined' && options[i].value === value) {\n            option = options[i];\n          }\n        }\n      }\n\n      return option || value;\n    }\n  }, {\n    key: 'setValue',\n    value: function setValue(value, label) {\n      var newState = {\n        selected: {\n          value: value,\n          label: label },\n        isOpen: false\n      };\n      this.fireChangeEvent(newState);\n      this.setState(newState);\n    }\n  }, {\n    key: 'fireChangeEvent',\n    value: function fireChangeEvent(newState) {\n      if (newState.selected !== this.state.selected && this.props.onChange) {\n        this.props.onChange(newState.selected);\n      }\n    }\n  }, {\n    key: 'renderOption',\n    value: function renderOption(option) {\n      var _classes;\n\n      var value = option.value;\n      if (typeof value === 'undefined') {\n        value = option.label || option;\n      }\n      var label = option.label || option.value || option;\n      var isSelected = value === this.state.selected.value || value === this.state.selected;\n\n      var classes = (_classes = {}, _defineProperty(_classes, this.props.baseClassName + '-option', true), _defineProperty(_classes, option.className, !!option.className), _defineProperty(_classes, 'is-selected', isSelected), _classes);\n\n      var optionClass = (0, _classnames2.default)(classes);\n\n      return _react2.default.createElement(\n        'div',\n        {\n          key: value,\n          className: optionClass,\n          onMouseDown: this.setValue.bind(this, value, label),\n          onClick: this.setValue.bind(this, value, label),\n          role: 'option',\n          'aria-selected': isSelected ? 'true' : 'false' },\n        label\n      );\n    }\n  }, {\n    key: 'buildMenu',\n    value: function buildMenu() {\n      var _this2 = this;\n\n      var _props = this.props,\n          options = _props.options,\n          baseClassName = _props.baseClassName;\n\n      var ops = options.map(function (option) {\n        if (option.type === 'group') {\n          var groupTitle = _react2.default.createElement(\n            'div',\n            { className: baseClassName + '-title' },\n            option.name\n          );\n          var _options = option.items.map(function (item) {\n            return _this2.renderOption(item);\n          });\n\n          return _react2.default.createElement(\n            'div',\n            { className: baseClassName + '-group', key: option.name, role: 'listbox', tabIndex: '-1' },\n            groupTitle,\n            _options\n          );\n        } else {\n          return _this2.renderOption(option);\n        }\n      });\n\n      return ops.length ? ops : _react2.default.createElement(\n        'div',\n        { className: baseClassName + '-noresults' },\n        'No options found'\n      );\n    }\n  }, {\n    key: 'handleDocumentClick',\n    value: function handleDocumentClick(event) {\n      if (this.mounted) {\n        if (!_reactDom2.default.findDOMNode(this).contains(event.target)) {\n          if (this.state.isOpen) {\n            this.setState({ isOpen: false });\n          }\n        }\n      }\n    }\n  }, {\n    key: 'isValueSelected',\n    value: function isValueSelected() {\n      return typeof this.state.selected === 'string' || this.state.selected.value !== '';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames, _classNames2, _classNames3, _classNames4, _classNames5;\n\n      var _props2 = this.props,\n          baseClassName = _props2.baseClassName,\n          controlClassName = _props2.controlClassName,\n          placeholderClassName = _props2.placeholderClassName,\n          menuClassName = _props2.menuClassName,\n          arrowClassName = _props2.arrowClassName,\n          arrowClosed = _props2.arrowClosed,\n          arrowOpen = _props2.arrowOpen,\n          className = _props2.className;\n\n\n      var disabledClass = this.props.disabled ? 'Dropdown-disabled' : '';\n      var placeHolderValue = typeof this.state.selected === 'string' ? this.state.selected : this.state.selected.label;\n\n      var dropdownClass = (0, _classnames2.default)((_classNames = {}, _defineProperty(_classNames, baseClassName + '-root', true), _defineProperty(_classNames, className, !!className), _defineProperty(_classNames, 'is-open', this.state.isOpen), _classNames));\n      var controlClass = (0, _classnames2.default)((_classNames2 = {}, _defineProperty(_classNames2, baseClassName + '-control', true), _defineProperty(_classNames2, controlClassName, !!controlClassName), _defineProperty(_classNames2, disabledClass, !!disabledClass), _classNames2));\n      var placeholderClass = (0, _classnames2.default)((_classNames3 = {}, _defineProperty(_classNames3, baseClassName + '-placeholder', true), _defineProperty(_classNames3, placeholderClassName, !!placeholderClassName), _defineProperty(_classNames3, 'is-selected', this.isValueSelected()), _classNames3));\n      var menuClass = (0, _classnames2.default)((_classNames4 = {}, _defineProperty(_classNames4, baseClassName + '-menu', true), _defineProperty(_classNames4, menuClassName, !!menuClassName), _classNames4));\n      var arrowClass = (0, _classnames2.default)((_classNames5 = {}, _defineProperty(_classNames5, baseClassName + '-arrow', true), _defineProperty(_classNames5, arrowClassName, !!arrowClassName), _classNames5));\n\n      var value = _react2.default.createElement(\n        'div',\n        { className: placeholderClass },\n        placeHolderValue\n      );\n      var menu = this.state.isOpen ? _react2.default.createElement(\n        'div',\n        { className: menuClass, 'aria-expanded': 'true' },\n        this.buildMenu()\n      ) : null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: dropdownClass },\n        _react2.default.createElement(\n          'div',\n          { className: controlClass, onMouseDown: this.handleMouseDown.bind(this), onTouchEnd: this.handleMouseDown.bind(this), 'aria-haspopup': 'listbox' },\n          value,\n          _react2.default.createElement(\n            'div',\n            { className: baseClassName + '-arrow-wrapper' },\n            arrowOpen && arrowClosed ? this.state.isOpen ? arrowOpen : arrowClosed : _react2.default.createElement('span', { className: arrowClass })\n          )\n        ),\n        menu\n      );\n    }\n  }]);\n\n  return Dropdown;\n}(_react.Component);\n\nDropdown.defaultProps = { baseClassName: 'Dropdown' };\nexports.default = Dropdown;\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar fast_deep_equal_1 = __importDefault(require(\"fast-deep-equal\"));\nvar PropTypes = __importStar(require(\"prop-types\"));\nfunction normalizeHtml(str) {\n    return str && str.replace(/&nbsp;|\\u202F|\\u00A0/g, ' ');\n}\nfunction replaceCaret(el) {\n    // Place the caret at the end of the element\n    var target = document.createTextNode('');\n    el.appendChild(target);\n    // do not move caret if element was not focused\n    var isTargetFocused = document.activeElement === el;\n    if (target !== null && target.nodeValue !== null && isTargetFocused) {\n        var sel = window.getSelection();\n        if (sel !== null) {\n            var range = document.createRange();\n            range.setStart(target, target.nodeValue.length);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n        if (el instanceof HTMLElement)\n            el.focus();\n    }\n}\n/**\n * A simple component for an html element with editable contents.\n */\nvar ContentEditable = /** @class */ (function (_super) {\n    __extends(ContentEditable, _super);\n    function ContentEditable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastHtml = _this.props.html;\n        _this.el = typeof _this.props.innerRef === 'function' ? { current: null } : React.createRef();\n        _this.getEl = function () { return (_this.props.innerRef && typeof _this.props.innerRef !== 'function' ? _this.props.innerRef : _this.el).current; };\n        _this.emitChange = function (originalEvt) {\n            var el = _this.getEl();\n            if (!el)\n                return;\n            var html = el.innerHTML;\n            if (_this.props.onChange && html !== _this.lastHtml) {\n                // Clone event with Object.assign to avoid\n                // \"Cannot assign to read only property 'target' of object\"\n                var evt = Object.assign({}, originalEvt, {\n                    target: {\n                        value: html\n                    }\n                });\n                _this.props.onChange(evt);\n            }\n            _this.lastHtml = html;\n        };\n        return _this;\n    }\n    ContentEditable.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, tagName = _a.tagName, html = _a.html, innerRef = _a.innerRef, props = __rest(_a, [\"tagName\", \"html\", \"innerRef\"]);\n        return React.createElement(tagName || 'div', __assign(__assign({}, props), { ref: typeof innerRef === 'function' ? function (current) {\n                innerRef(current);\n                _this.el.current = current;\n            } : innerRef || this.el, onInput: this.emitChange, onBlur: this.props.onBlur || this.emitChange, onKeyUp: this.props.onKeyUp || this.emitChange, onKeyDown: this.props.onKeyDown || this.emitChange, contentEditable: !this.props.disabled, dangerouslySetInnerHTML: { __html: html } }), this.props.children);\n    };\n    ContentEditable.prototype.shouldComponentUpdate = function (nextProps) {\n        var props = this.props;\n        var el = this.getEl();\n        // We need not rerender if the change of props simply reflects the user's edits.\n        // Rerendering in this case would make the cursor/caret jump\n        // Rerender if there is no element yet... (somehow?)\n        if (!el)\n            return true;\n        // ...or if html really changed... (programmatically, not by user edit)\n        if (normalizeHtml(nextProps.html) !== normalizeHtml(el.innerHTML)) {\n            return true;\n        }\n        // Handle additional properties\n        return props.disabled !== nextProps.disabled ||\n            props.tagName !== nextProps.tagName ||\n            props.className !== nextProps.className ||\n            props.innerRef !== nextProps.innerRef ||\n            !fast_deep_equal_1.default(props.style, nextProps.style);\n    };\n    ContentEditable.prototype.componentDidUpdate = function () {\n        var el = this.getEl();\n        if (!el)\n            return;\n        // Perhaps React (whose VDOM gets outdated because we often prevent\n        // rerendering) did not update the DOM. So we update it manually now.\n        if (this.props.html !== el.innerHTML) {\n            el.innerHTML = this.lastHtml = this.props.html;\n        }\n        replaceCaret(el);\n    };\n    ContentEditable.propTypes = {\n        html: PropTypes.string.isRequired,\n        onChange: PropTypes.func,\n        disabled: PropTypes.bool,\n        tagName: PropTypes.string,\n        className: PropTypes.string,\n        style: PropTypes.object,\n        innerRef: PropTypes.oneOfType([\n            PropTypes.object,\n            PropTypes.func,\n        ])\n    };\n    return ContentEditable;\n}(React.Component));\nexports.default = ContentEditable;\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","import React, { useState } from \"react\";\r\n\r\nimport { firestore } from \"../../firebase\";\r\n\r\nimport Button from \"../button\";\r\nimport SelectUsers from \"../select-users\";\r\nimport UserBox from \"../user-box\";\r\nimport Popup, { TopPopup } from \"../popup\";\r\nimport Attendance from \"../../Views/attendance\";\r\n\r\nimport { generateRandomCode } from \"../../utilities\";\r\n\r\nimport \"./style.css\";\r\nimport \"../../Views/create/style.css\";\r\n\r\nconst DEFAULT_ATTENDANCES = [\r\n  {\r\n    uid: \"123123124\",\r\n    displayName: \"Erick\",\r\n    rank: \"pupil\",\r\n    rating: 1200\r\n  },\r\n  {\r\n    uid: \"hkhaksdh12\",\r\n    displayName: \"Jorge ivan\",\r\n    rank: \"expert\",\r\n    rating: 1520\r\n  },\r\n  {\r\n    uid: \"uid de otro wey\",\r\n    displayName: \"Franco\",\r\n    rank: \"expert\",\r\n    rating: 2624\r\n  },\r\n  {\r\n    uid: \"uid de otro wey\",\r\n    displayName: \"Crystal\",\r\n    rank: \"expert\",\r\n    rating: 2624\r\n  }\r\n];\r\n\r\nconst CreateClass = ({ preview }) => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [code, setCode] = useState(\"\");\r\n  const [speakers, setSpeakers] = useState([]);\r\n  const [isSubmiting, setIsSubmiting] = useState(false);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n  const [alert, setAlert] = useState({\r\n    open: false,\r\n    description: \"\",\r\n    type: \"\"\r\n  });\r\n\r\n  const canPost = () => {\r\n    if (!(title && code && description && speakers.length > 0)) {\r\n      return false;\r\n    }\r\n    const dateFormated = new Date(date);\r\n    if (isNaN(dateFormated.getTime())) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handlePostButton = async () => {\r\n    if (!isSubmiting)\r\n      if (canPost()) {\r\n        setIsSubmiting(true);\r\n        const classData = {\r\n          title,\r\n          date: new Date(date),\r\n          description,\r\n          code,\r\n          active: true,\r\n          speakers: speakers.map(speaker => ({\r\n            id: speaker.id,\r\n            displayName: speaker.displayName\r\n          })),\r\n          attendances: []\r\n        };\r\n\r\n        const classRef = firestore.doc(`class/${code}`);\r\n        const snapshot = await classRef.get();\r\n        if (!snapshot.exists) {\r\n          try {\r\n            await classRef.set(classData);\r\n            setAlert({\r\n              open: true,\r\n              description: \"Class created successfully\",\r\n              type: \"success\"\r\n            });\r\n            setTitle(\"\");\r\n            setDate(\"\");\r\n            setCode(\"\");\r\n            setSpeakers([]);\r\n            setDescription(\"\");\r\n          } catch (err) {\r\n            console.error(\"Error creating class\", err.mesage);\r\n          }\r\n        } else {\r\n          setAlert({\r\n            open: true,\r\n            description: \"Code is already in use\",\r\n            type: \"error\"\r\n          });\r\n        }\r\n        setIsSubmiting(false);\r\n      } else {\r\n        setAlert({\r\n          open: true,\r\n          description: \"Verify all information\",\r\n          type: \"error\"\r\n        });\r\n      }\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setAlert({ open: false });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {alert.open && (\r\n        <TopPopup onClick={closeAlert} className={alert.type}>\r\n          {alert.description}\r\n        </TopPopup>\r\n      )}\r\n      {preview ? (\r\n        <Attendance\r\n          preview={true}\r\n          classData={{\r\n            title: title,\r\n            date: date,\r\n            description: description,\r\n            code: code,\r\n            speakers: speakers,\r\n            attendances: DEFAULT_ATTENDANCES\r\n          }}\r\n          match={{ params: null }}\r\n        />\r\n      ) : (\r\n        <div className=\"cac_create_class\">\r\n          {popupOpen && (\r\n            <Popup>\r\n              <SelectUsers\r\n                close={() => setPopupOpen(false)}\r\n                handleConfirm={setSpeakers}\r\n              />\r\n            </Popup>\r\n          )}\r\n          <div className=\"cac_create_class--left\">\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"title\" className=\"cac_create_title\">\r\n                Title\r\n              </label>\r\n              <input\r\n                name=\"title\"\r\n                id=\"title\"\r\n                type=\"text\"\r\n                className=\"cac_create_input cac_create_input--title\"\r\n                value={title}\r\n                onChange={e => setTitle(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"title\" className=\"cac_create_title\">\r\n                Date (mm/dd/yy)\r\n              </label>\r\n              <input\r\n                name=\"date\"\r\n                id=\"date\"\r\n                type=\"text\"\r\n                className=\"cac_create_input cac_create_input--title\"\r\n                value={date}\r\n                onChange={e => setDate(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"description\" className=\"cac_create_title\">\r\n                Description\r\n              </label>\r\n              <textarea\r\n                name=\"description\"\r\n                id=\"description\"\r\n                className=\"cac_create_textarea\"\r\n                value={description}\r\n                required\r\n                onChange={e => setDescription(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"cac_create_class--right\">\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"code\" className=\"cac_create_title\">\r\n                Code\r\n              </label>\r\n              <input\r\n                name=\"code\"\r\n                id=\"code\"\r\n                type=\"text\"\r\n                className=\" cac_create_input cac_create_input--title cac_create_class_code\"\r\n                value={code}\r\n                minLength=\"3\"\r\n                maxLength=\"6\"\r\n                required\r\n                onChange={e => setCode(e.target.value)}\r\n              />\r\n              <Button\r\n                className=\"cac_create_button cac_create_class_button\"\r\n                onClick={() => setCode(generateRandomCode(6))}\r\n              >\r\n                Random code\r\n              </Button>\r\n            </div>\r\n            <div className=\"cac_create_section cac_create_cass_speakers\">\r\n              <span className=\"cac_create_title\">Speakers</span>\r\n              {speakers.map((speaker, i) => (\r\n                <UserBox\r\n                  key={speaker.displayName}\r\n                  user={speaker}\r\n                  className=\"cac_create_speaker\"\r\n                />\r\n              ))}\r\n              <Button\r\n                className=\"cac_create_button cac_create_class_button\"\r\n                onClick={() => setPopupOpen(true)}\r\n              >\r\n                Add\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <Button className=\"cac_create_class_post\" onClick={handlePostButton}>\r\n        Post\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateClass;\r\n","import React, { useRef } from 'react'\r\n\r\nimport ContentEditable from 'react-contenteditable';\r\nimport DefaultPhoto from '../../assets/default-photo.jpg'\r\n\r\nimport './style.css'\r\n\r\n\r\nconst CustomTextarea = ({ className = \"\" }) => {\r\n  const text = useRef(``);\r\n  const htmlRef = useRef(null);\r\n\r\n  const handleChange = e => {\r\n    text.current = e.target.value;\r\n  }\r\n\r\n  const handleBlur = () => {\r\n    console.log(text.current);\r\n    console.log(htmlRef.current.childNodes);\r\n  }\r\n\r\n  const onPaste = e => {\r\n    const text = e.clipboardData.getData('text/plain');\r\n    // e.preventDefault();\r\n    // console.log(e.clipboardData.types);\r\n  }\r\n\r\n  return (\r\n    <ContentEditable\r\n      className={`contenteditable ${className}`}\r\n      onPaste={onPaste}\r\n      innerRef={htmlRef}\r\n      html={text.current}\r\n      onBlur={handleBlur}\r\n      onChange={handleChange}\r\n    />\r\n  )\r\n}\r\n\r\nexport default CustomTextarea;","import React, { useState, useContext } from \"react\";\r\n\r\nimport { firestore, firebase } from \"../../firebase\";\r\n\r\nimport { UserContext, AllUsersContext } from \"../../Providers/userProvider\";\r\n\r\nimport Post from \"../post\";\r\nimport Button from \"../button\";\r\nimport { TopPopup } from \"../popup\";\r\n\r\nimport \"./style.css\";\r\nimport \"../../Views/create/style.css\";\r\nimport CustomTextarea from \"../custom-textarea\";\r\n\r\nconst CreatePost = ({\r\n  preview,\r\n  type = \"home\",\r\n  showAuthor = true\r\n}) => {\r\n  const user = useContext(UserContext);\r\n  const allUsers = useContext(AllUsersContext);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [isSubmiting, setIsSubmiting] = useState(false);\r\n  const [alert, setAlert] = useState({ visible: false, content: \"\", type: \"\" });\r\n  const handlePostButton = async () => {\r\n    if (!isSubmiting && title && content) {\r\n      setIsSubmiting(true);\r\n      const postData = {\r\n        title,\r\n        content,\r\n        type: type,\r\n        comments: [],\r\n        likesList: [],\r\n        author: { id: user.uid, displayName: user.displayName },\r\n        createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n        key: Date.now()\r\n      };\r\n      try {\r\n        await firestore.collection('test-posts').add(postData);\r\n        setAlert({\r\n          visible: true,\r\n          content: \"Post published succesfully\",\r\n          type: \"success\"\r\n        });\r\n        setTitle(\"\");\r\n        setContent(\"\");\r\n      } catch (e) {\r\n        console.error(e);\r\n        setAlert({\r\n          visible: true,\r\n          content: \"Error publishing post\",\r\n          type: \"error\"\r\n        });\r\n      }\r\n      setIsSubmiting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {alert.visible && (\r\n        <TopPopup\r\n          className={alert.type}\r\n          onClick={() => setAlert({ visible: false })}\r\n        >\r\n          {alert.content}\r\n        </TopPopup>\r\n      )}\r\n      {preview ? (\r\n        <Post\r\n          preview={true}\r\n          allUsers={allUsers.usersMap}\r\n          enableLink={false}\r\n          author={user}\r\n          showAuthor={showAuthor}\r\n          data={{\r\n            title: title,\r\n            author: { id: user.uid },\r\n            content: content,\r\n            date: \"just now\",\r\n            comments: [],\r\n            likesList: []\r\n          }}\r\n        />\r\n      ) : (\r\n          <div className=\"cac_create_post\">\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"title\" className=\"cac_create_title\">\r\n                Title\r\n            </label>\r\n              <input\r\n                name=\"title\"\r\n                id=\"title\"\r\n                type=\"text\"\r\n                className=\"cac_create_input cac_create_input--title\"\r\n                value={title}\r\n                onChange={e => setTitle(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"description\" className=\"cac_create_title\">\r\n                Content\r\n            </label>\r\n              <CustomTextarea className=\"\" />\r\n              {/*\r\n              <textarea\r\n                name=\"description\"\r\n                id=\"description\"\r\n                className=\"cac_create_textarea\"\r\n                value={content}\r\n                required\r\n                onChange={e => setContent(e.target.value)}\r\n              />\r\n              */}\r\n            </div>\r\n          </div>\r\n        )}\r\n      <Button className=\"cac_create_post_post\" onClick={handlePostButton}>\r\n        Post\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  // eslint-disable-next-line no-unused-vars\r\n  BrowserRouter as Router,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\nimport Dropdown from \"react-dropdown\";\r\nimport \"react-dropdown/style.css\";\r\n\r\nimport CreateClass from \"../../Components/create-class\";\r\nimport CreatePost from \"../../Components/create-post\";\r\nimport Button from \"../../Components/button\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst Create = props => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [path, setPath] = useState(\"\");\r\n  const [preview, setPreview] = useState(false);\r\n\r\n  const sections = [\r\n    { value: \"class\", label: \"Class\" },\r\n    { value: \"homePost\", label: \"Home Post\" },\r\n    { value: \"weeklyProblem\", label: \"Weekly problem\" },\r\n    { value: \"editorial\", label: \"Editorial\" },\r\n    { value: \"announcement\", label: \"Announcement\" }\r\n  ];\r\n\r\n  const onChange = e => {\r\n    setPath(`/create/${e.value}`);\r\n    setRedirect(true);\r\n    setPreview(false);\r\n  };\r\n\r\n  useEffect(() => { }, [props]);\r\n\r\n  const handlePreviewClick = () => {\r\n    setPreview(!preview);\r\n  };\r\n\r\n  const match = props.match || { params: { cid: \"\" } };\r\n  return (\r\n    <div className=\"cac_create\">\r\n      <div className=\"cac_create_header\">\r\n        <Dropdown\r\n          className=\"cac_create_dropdown cac_create_dropdown--sections\"\r\n          options={sections}\r\n          onChange={onChange}\r\n          value={match.params.cid}\r\n          placeholder=\"Select\"\r\n        />\r\n        <Button className=\"cac_create_preview\" onClick={handlePreviewClick}>\r\n          {preview ? \"Edit\" : \"Preview\"}\r\n        </Button>\r\n\r\n        {redirect && <Redirect to={path} />}\r\n      </div>\r\n      {match.params.cid === \"class\" && <CreateClass preview={preview} />}\r\n      {match.params.cid === \"homePost\" && (\r\n        <CreatePost preview={preview} type=\"home\" />\r\n      )}\r\n      {match.params.cid === \"weeklyProblem\" && (\r\n        <CreatePost\r\n          preview={preview}\r\n          type=\"weekly-problem\"\r\n          showAuthor={false}\r\n        />\r\n      )}\r\n      {match.params.cid === \"editorial\" && (\r\n        <CreatePost\r\n          preview={preview}\r\n          type=\"editorial\"\r\n          showAuthor={false}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n"],"sourceRoot":""}