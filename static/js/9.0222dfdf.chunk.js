(this.webpackJsonpcac_site=this.webpackJsonpcac_site||[]).push([[9],{485:function(e,t,a){},508:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),r=a.n(c),o=a(14),s=a(25),l=a(9),i=a(75);a(485);t.default=function(e){var t=e.Fallback,a=Object(c.useContext)(s.a),u=Object(c.useContext)(l.c),m=Object(c.useContext)(l.a),p=Object(c.useState)({enable:!1,to:""}),d=Object(n.a)(p,2),f=d[0],v=d[1];Object(c.useEffect)((function(){a.fetch.weeklyProblems()}),[a.fetch]);return console.log(a.posts.weeklyProblems),r.a.createElement("div",{className:"cac_weekly"},f.enable&&r.a.createElement(o.a,{to:f.to}),!u.isLoading&&a.posts.weeklyProblems.length>0?a.posts.weeklyProblems.map((function(e,t){return r.a.createElement(i.a,{user:u,key:t,showAuthor:!1,data:e,allUsers:m.usersMap,cropContent:!0,onClick:function(){return t=e.id,void v({enable:!0,to:"/weekly-problem/".concat(t)});var t},showCommentaries:!1,from:"weekly-problems"})})):r.a.createElement(t,null))}},70:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return o}));var n=function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December";default:return null}},c=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,c=0;c<e;c++)t+=a[Math.floor(Math.random()*n)];return t},r=/<br>|<\/br>|<br\/>/gi,o=function(e){return e.replace(r,"")}},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(4),o=a(0),s=a.n(o),l=a(5),i=a(7),u=a(79),m=a.n(u),p=a(80),d=a.n(p),f=a(71),v=a.n(f),_=a(511),b=a(502),y=(a(72),function(e){var t=e.language,a=void 0===t?null:t,n=e.value;return s.a.createElement(_.a,{language:a,style:b.a},n)}),h=a(17),g=a(24),E=a.n(g),k=(a(73),function(e){var t=e.author,a=e.date,n=e.content;return s.a.createElement("div",{className:"cac_commentary"},s.a.createElement("div",{className:"cac_commentary_heading"},s.a.createElement("img",{src:t&&t.photoURL||E.a,alt:t?t.displayName:"",className:"cac_commentary_photo"}),s.a.createElement("div",{className:"cac_commentary_heading_text"},s.a.createElement(h.a,{className:"cac_commentary_name",rank:t?t.rank:null},t?t.displayName:""),s.a.createElement(v.a,{className:"cac_post_date",date:a.toDate()}))),s.a.createElement("p",{className:"cac_commentary_content"},n))}),O=a(8);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var j=s.a.createElement("title",null,"ionicons-v5-f"),x=function(e){var t=e.svgRef,a=e.title,n=N(e,["svgRef","title"]);return s.a.createElement("svg",w({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?j:a?s.a.createElement("title",null,a):null,s.a.createElement("path",{d:"M352.92,80C288,80,256,144,256,144s-32-64-96.92-64C106.32,80,64.54,124.14,64,176.81c-1.1,109.33,86.73,187.08,183,252.42a16,16,0,0,0,18,0c96.26-65.34,184.09-143.09,183-252.42C447.46,124.14,405.68,80,352.92,80Z",style:{fill:"auto",stroke:"auto",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32}}))},C=s.a.forwardRef((function(e,t){return s.a.createElement(x,w({svgRef:t},e))}));a.p;function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var L=s.a.createElement("title",null,"ionicons-v5-l"),S=function(e){var t=e.svgRef,a=e.title,n=R(e,["svgRef","title"]);return s.a.createElement("svg",P({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?L:a?s.a.createElement("title",null,a):null,s.a.createElement("path",{d:"M408,64H104a56.16,56.16,0,0,0-56,56V312a56.16,56.16,0,0,0,56,56h40v80l93.72-78.14a8,8,0,0,1,5.13-1.86H408a56.16,56.16,0,0,0,56-56V120A56.16,56.16,0,0,0,408,64Z",style:{fill:"auto",stroke:"auto",strokeLinejoin:"round",strokeWidth:32}}))},V=s.a.forwardRef((function(e,t){return s.a.createElement(S,P({svgRef:t},e))}));a.p;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var F=s.a.createElement("title",null,"ionicons-v5-h"),U=function(e){var t=e.svgRef,a=e.title,n=D(e,["svgRef","title"]);return s.a.createElement("svg",M({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?F:a?s.a.createElement("title",null,a):null,s.a.createElement("path",{d:"M352,48H160a48,48,0,0,0-48,48V464L256,336,400,464V96A48,48,0,0,0,352,48Z",style:{fill:"auto",stroke:"auto",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32}}))},A=s.a.forwardRef((function(e,t){return s.a.createElement(U,M({svgRef:t},e))})),J=(a.p,a(70)),H=(a(74),a(83),d()({isValidNode:function(e){return"script"!==e.type&&"break"!==e.type}}));t.a=function(e){var t=e.user,a=e.from,n=void 0===a?"posts":a,u=e.showAuthor,p=void 0===u||u,d=e.enableLink,f=void 0===d||d,_=e.data,b=e.allUsers,g=e.preview,w=void 0!==g&&g,N=e.cropContent,j=void 0!==N&&N,x=e.showCommentaries,P=void 0!==x&&x,R=e.onClick,L=void 0===R?function(){return null}:R,S=_.author;S=b[S.id]||S;var M=Object(o.useState)(!1),D=Object(r.a)(M,2),F=D[0],U=D[1],B=Object(o.useState)(""),I=Object(r.a)(B,2),W=I[0],Z=I[1],Y=!w&&t.logged&&_.likesList.includes(t.uid),q=Object(o.useState)(!w&&t.logged&&t.saved.includes(_.id)),z=Object(r.a)(q,2),G=z[0],K=z[1];return s.a.createElement("div",{className:"cac_post ".concat(j?"cac_post--crop":""),onClick:L},s.a.createElement("div",{className:"cac_post_heading"},p&&s.a.createElement("img",{src:S.photoURL||E.a,className:"cac_post_heading_photo",alt:S.displayName}),s.a.createElement("div",{className:"cac_post_text-container"},f?s.a.createElement(i.b,{to:"/".concat(n,"/").concat(_.id),className:"cac_post_title cac_post_title--link"},_.title):s.a.createElement("span",{className:"cac_post_title"},_.title),p&&s.a.createElement(h.a,{className:"cac_post_author",rank:S.rank},S.displayName),w?s.a.createElement("span",{className:"cac_post_date"},_.date):s.a.createElement(v.a,{className:"cac_post_date",live:!1,date:_.timestamp?_.timestamp.toDate():new Date})),s.a.createElement("div",{className:"cac_post_icons"})),s.a.createElement(m.a,{className:"cac_post_content markdown-body ".concat(j?"cac_post_content--crop":""),source:Object(J.c)(_.content),renderers:{code:y},escapeHtml:!1,astPlugins:[H]}),s.a.createElement("div",{className:"cac_post_interaction"},s.a.createElement("div",{className:"cac_post_interaction-box",onClick:function(e){e.stopPropagation();!w&&t.logged?function(){var e;c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=l.d.doc("".concat(n,"/").concat(_.id)),Y){a.next=6;break}return a.next=4,c.a.awrap(e.update({likesList:l.c.firestore.FieldValue.arrayUnion(t.uid)}));case 4:a.next=8;break;case 6:return a.next=8,c.a.awrap(e.update({likesList:l.c.firestore.FieldValue.arrayRemove(t.uid)}));case 8:case"end":return a.stop()}}))}():alert("You need to sign in to like posts")}},s.a.createElement("span",{className:"cac_post_interaction-counter"},_.likesList.length),s.a.createElement(C,{className:"cac_post_icon cac_post_heart ".concat(Y?"cac_post_heart--filled":"")}),s.a.createElement("span",{className:"cac_post_interaction-label"},"Like")),s.a.createElement("div",{className:"cac_post_interaction-box cac_post_interaction-box--comment"},s.a.createElement("span",{className:"cac_post_interaction-counter"},_.comments.length),s.a.createElement(V,{className:"cac_post_icon cac_post_comment"}),s.a.createElement("span",{className:"cac_post_interaction-label"},"Comment")),s.a.createElement("div",{className:"cac_post_interaction-box",onClick:function(e){e.stopPropagation();!w&&t.logged?function(){var e;c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=l.d.doc("users/".concat(t.uid)),K(!G),G){a.next=7;break}return a.next=5,c.a.awrap(e.update({saved:l.c.firestore.FieldValue.arrayUnion(_.id)}));case 5:a.next=9;break;case 7:return a.next=9,c.a.awrap(e.update({saved:l.c.firestore.FieldValue.arrayRemove(_.id)}));case 9:case"end":return a.stop()}}))}():alert("you need to sign in to save posts")}},s.a.createElement(A,{className:"cac_post_icon cac_post_bookmark ".concat(G?"cac_post_bookmark--filled":"")}),s.a.createElement("span",{className:"cac_post_interaction-label"},"Save"))),P&&s.a.createElement("div",{className:"cac_post_commentaries-section"},t.logged&&s.a.createElement("div",{className:"cac_post_create-commentary"},s.a.createElement("textarea",{className:"cac_post_create-commentary_textarea",value:W,onChange:function(e){return Z(e.target.value)}}),s.a.createElement(O.b,{className:"cac_poist_create-commentary_button",onClick:function(){!F&&W&&function(){var e,a;c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return U(!0),e=l.d.doc("".concat(n,"/").concat(_.id)),a={author:t.uid,content:W,date:new Date},r.next=5,c.a.awrap(e.update({comments:l.c.firestore.FieldValue.arrayUnion(a)}));case 5:U(!1),Z("");case 7:case"end":return r.stop()}}))}()}},"Comment")),s.a.createElement("div",{className:"cac_post_commentaries"},_.comments.sort((function(e,t){return t.date.toDate()-e.date.toDate()})).map((function(e,t){var a=e.author,n=e.content,c=e.date;return s.a.createElement(k,{key:t,author:b[a],content:n,date:c})})))))}},81:function(e,t){}}]);
//# sourceMappingURL=9.0222dfdf.chunk.js.map