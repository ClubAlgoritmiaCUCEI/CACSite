{"version":3,"sources":["utilities.js","Components/user-box/index.js","Components/code-block/index.js","Components/markdown-content/index.js","Components/comentary/index.js","assets/heart.svg","assets/chatbox.svg","assets/bookmark.svg","Components/post/index.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Components/searchUsers/index.js","Components/select-users/index.js","Views/attendance/index.js","../node_modules/react-dropdown/dist/index.js","../node_modules/classnames/index.js","Components/create-class/index.js","Components/create-post/index.js","Views/create/index.js","Components/popup/index.js"],"names":["parseMonth","month","generateRandomCode","n","result","characters","charactersLength","length","i","Math","floor","random","regex","removeDangerousHTML","text","replace","UserBox","user","className","onClick","redirect","history","useHistory","push","id","src","photoURL","DefaultImage","alt","displayName","to","rank","rating","CodeBlock","language","value","style","coy","parseHtml","htmlParser","isValidNode","node","type","MarkdownContent","content","source","renderers","code","escapeHtml","astPlugins","Commentary","handleDelete","console","log","author","date","toDate","LoadingCommentary","_extends","Object","assign","target","arguments","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","_ref","svgRef","title","props","width","height","viewBox","ref","undefined","d","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","ForwardRef","forwardRef","Post","from","showAuthor","enableLink","data","allUsers","preview","cropContent","commentary","handleAddCommentary","showCommentaries","parentHandleDelete","useState","textValue","setTextValue","logged","likesList","includes","uid","like","setLike","saved","setSaved","likesCount","setLikesCount","handleCommentaryDelete","a","async","postRef","firestore","doc","update","commentaries","firebase","FieldValue","arrayRemove","DefaultPhoto","e","stopPropagation","live","createdAt","seconds","Date","delete","arrayUnion","updateLike","alert","commentariesCount","userRef","updateSaves","onChange","isLoading","sort","b","map","_toConsumableArray","arr","Array","isArray","arr2","iter","Symbol","iterator","toString","TypeError","SearchUsers","handleUserClick","useContext","AllUsersContext","setDisplayName","canFilter","setCanFilter","match","setMatch","lastQuery","setLastQuery","useEffect","isCFLoading","query","toLocaleLowerCase","users","filter","setTimeout","placeholder","SelectUsers","close","handleConfirm","setUsers","handleEvent","window","addEventListener","removeEventListener","findIndex","u","removeUser","Attendance","atnContext","AttendanceContext","UserContext","usersMap","setRedirect","inList","setInList","popupOpen","setPopupOpen","open","description","setAlert","classData","params","isDataAvailable","active","classRef","attendances","find","attendance","pushData","setClassData","c","validCode","toDateString","speakers","speaker","attendant","isAdmin","defineProperty","exports","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_reactDom2","_classnames2","obj","__esModule","default","_defineProperty","Dropdown","_Component","instance","_classCallCheck","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","state","selected","parseValue","options","label","isOpen","mounted","handleDocumentClick","bind","fireChangeEvent","subClass","superClass","create","constructor","setPrototypeOf","_inherits","newProps","setState","document","event","onFocus","button","preventDefault","disabled","option","num","items","item","newState","_classes","isSelected","classes","baseClassName","optionClass","onMouseDown","setValue","role","_this2","_props","ops","groupTitle","name","_options","renderOption","tabIndex","findDOMNode","contains","_classNames","_classNames2","_classNames3","_classNames4","_classNames5","_props2","controlClassName","placeholderClassName","menuClassName","arrowClassName","arrowClosed","arrowOpen","disabledClass","placeHolderValue","dropdownClass","controlClass","placeholderClass","isValueSelected","menuClass","arrowClass","menu","buildMenu","handleMouseDown","onTouchEnd","Component","defaultProps","hasOwn","classNames","arg","argType","inner","join","module","DEFAULT_ATTENDANCES","CreateClass","setTitle","setDate","setDescription","setCode","setSpeakers","isSubmiting","setIsSubmiting","canPost","dateFormated","isNaN","getTime","htmlFor","required","minLength","maxLength","get","exists","set","error","mesage","CreatePost","setContent","visible","comments","postData","timestamp","serverTimestamp","now","collection","add","Create","path","setPath","setPreview","cid","Popup","children","TopPopup","timeOut","clearTimeout"],"mappings":"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","file":"static/js/4.cf1dcba3.chunk.js","sourcesContent":["export const parseMonth = month => {\r\n  switch (month) {\r\n    case 0:\r\n      return \"January\";\r\n    case 1:\r\n      return \"February\";\r\n    case 2:\r\n      return \"March\";\r\n    case 3:\r\n      return \"April\";\r\n    case 4:\r\n      return \"May\";\r\n    case 5:\r\n      return \"June\";\r\n    case 6:\r\n      return \"July\";\r\n    case 7:\r\n      return \"August\";\r\n    case 8:\r\n      return \"September\";\r\n    case 9:\r\n      return \"October\";\r\n    case 10:\r\n      return \"November\";\r\n    case 11:\r\n      return \"December\";\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nexport const generateRandomCode = n => {\r\n  var result = \"\";\r\n  var characters =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  var charactersLength = characters.length;\r\n  for (var i = 0; i < n; i++) {\r\n    result += characters[Math.floor(Math.random() * charactersLength)];\r\n  }\r\n  return result;\r\n};\r\n\r\nconst regex = /<br>|<\\/br>|<br\\/>/gi;\r\n\r\nexport const removeDangerousHTML = text => {\r\n  return text.replace(regex, \"\");\r\n};\r\n","import React from \"react\";\r\nimport ColoredName from \"../colored-name\";\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nimport { BrowserRouter as Router, Link, useHistory } from \"react-router-dom\";\r\n\r\nimport DefaultImage from \"../../assets/default-photo.jpg\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst UserBox = ({ user, className, onClick, redirect = true }) => {\r\n  const history = useHistory();\r\n  return (\r\n    <div\r\n      className={`cac_user-box ${className || \"\"} ${\r\n        !redirect ? \"cac_user-box--redirect\" : \"\"\r\n        }`}\r\n      onClick={onClick}\r\n    >\r\n      <img\r\n        onClick={() => redirect && history.push(`/profile/${user.id}`)}\r\n        className=\"cac_user-box_photo\"\r\n        src={user.photoURL || DefaultImage}\r\n        alt={user.displayName}\r\n      />\r\n      <div className=\"cac_user-box_text\">\r\n        {redirect ? (\r\n          <Link to={`/profile/${user.id}`} className=\"cac_user-box_name--link\">\r\n            <ColoredName rank={user.rank} className=\"cac_user-box_name\">\r\n              {user.displayName}\r\n            </ColoredName>\r\n          </Link>\r\n        ) : (\r\n            <ColoredName rank={user.rank} className=\"cac_user-box_name\">\r\n              {user.displayName}\r\n            </ColoredName>\r\n          )}\r\n\r\n        <ColoredName rank={user.rank} className=\"cac_user-box_ranking\">\r\n          {user.rating || \"\"}\r\n        </ColoredName>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserBox;\r\n","import React from 'react'\r\n\r\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\r\nimport { coy } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\n\r\n\r\nimport './style.css'\r\n\r\nconst CodeBlock = ({ language = null, value }) => {\r\n  return (\r\n    <SyntaxHighlighter language={language} style={coy} >\r\n      {value}\r\n    </SyntaxHighlighter>\r\n  );\r\n}\r\n\r\nexport default CodeBlock;","import React from \"react\";\r\n\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport htmlParser from \"react-markdown/plugins/html-parser\";\r\nimport CodeBlock from \"../code-block\";\r\n\r\nimport { removeDangerousHTML } from \"../../utilities\";\r\n\r\nimport './style.css'\r\n\r\nconst parseHtml = htmlParser({\r\n  isValidNode: node => node.type !== \"script\" && node.type !== \"break\"\r\n});\r\n\r\nconst MarkdownContent = ({ content = \"\", className = \"\" }) => {\r\n  return (\r\n    <ReactMarkdown\r\n      className={`cac_markdown ${className}`}\r\n      source={removeDangerousHTML(content)}\r\n      renderers={{ code: CodeBlock }}\r\n      escapeHtml={false}\r\n      astPlugins={[parseHtml]}\r\n    />\r\n  );\r\n};\r\n\r\nexport default MarkdownContent;\r\n","import React from \"react\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\r\n\r\nimport ColoredName from \"../colored-name\";\r\nimport TimeAgo from \"react-timeago\";\r\nimport Options from \"../options\";\r\nimport MarkdownContent from \"../markdown-content\";\r\n\r\nimport DefaultImage from \"../../assets/default-photo.jpg\";\r\n\r\nimport \"./style.css\";\r\nimport \"../../animations.css\";\r\n\r\n\r\nconst Commentary = ({\r\n  handleDelete = () => console.log(\"?>?\"),\r\n  user,\r\n  author,\r\n  date,\r\n  content\r\n}) => {\r\n  return (\r\n    <div className=\"cac_commentary\">\r\n      <div className=\"cac_commentary_heading\">\r\n        <img\r\n          src={author ? author.photoURL || DefaultImage : DefaultImage}\r\n          alt={author ? author.displayName : \"\"}\r\n          className=\"cac_commentary_photo\"\r\n        />\r\n        <div className=\"cac_commentary_heading_text\">\r\n          <Link\r\n            to={`/profile/${author.id}`}\r\n            className=\"cac_commentary_name--link\"\r\n          >\r\n            <ColoredName\r\n              className=\"cac_commentary_name\"\r\n              rank={author ? author.rank : null}\r\n            >\r\n              {author ? author.displayName : \"\"}\r\n            </ColoredName>\r\n          </Link>\r\n          <TimeAgo className=\"cac_post_date\" date={date.toDate()} />\r\n        </div>\r\n        <Options\r\n          handleDelete={handleDelete}\r\n          className=\"cac_commentary_options\"\r\n          user={user}\r\n          author={author}\r\n        />\r\n      </div>\r\n      <MarkdownContent content={content} className=\"cac_commentary_content\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Commentary;\r\n\r\n\r\nexport const LoadingCommentary = () => {\r\n  return (\r\n    <div className=\"cac_commentary cac_loading-commentary\">\r\n      <div className=\"gradient cac_loading-commentary_photo\" />\r\n      <div className=\"gradient cac_loading-commentary_name\" />\r\n      <div className=\"gradient cac_loading_commentary_content\" />\r\n    </div>);\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"ionicons-v5-f\");\n\nvar SvgHeart = function SvgHeart(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 512,\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, React.createElement(\"path\", {\n    d: \"M352.92,80C288,80,256,144,256,144s-32-64-96.92-64C106.32,80,64.54,124.14,64,176.81c-1.1,109.33,86.73,187.08,183,252.42a16,16,0,0,0,18,0c96.26-65.34,184.09-143.09,183-252.42C447.46,124.14,405.68,80,352.92,80Z\",\n    style: {\n      fill: \"auto\",\n      stroke: \"auto\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 32\n    }\n  }));\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHeart, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/heart.2cb06d96.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"ionicons-v5-l\");\n\nvar SvgChatbox = function SvgChatbox(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 512,\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, React.createElement(\"path\", {\n    d: \"M408,64H104a56.16,56.16,0,0,0-56,56V312a56.16,56.16,0,0,0,56,56h40v80l93.72-78.14a8,8,0,0,1,5.13-1.86H408a56.16,56.16,0,0,0,56-56V120A56.16,56.16,0,0,0,408,64Z\",\n    style: {\n      fill: \"auto\",\n      stroke: \"auto\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 32\n    }\n  }));\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgChatbox, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chatbox.86b60e0a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"ionicons-v5-h\");\n\nvar SvgBookmark = function SvgBookmark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 512,\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, React.createElement(\"path\", {\n    d: \"M352,48H160a48,48,0,0,0-48,48V464L256,336,400,464V96A48,48,0,0,0,352,48Z\",\n    style: {\n      fill: \"auto\",\n      stroke: \"auto\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeWidth: 32\n    }\n  }));\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBookmark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bookmark.d20479fb.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\r\n\r\nimport { firebase, firestore } from \"../../firebase\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { BrowserRouter as Router, Link, useHistory } from \"react-router-dom\";\r\n\r\n\r\n\r\nimport MarkdownContent from \"../markdown-content\";\r\nimport TimeAgo from \"react-timeago\";\r\nimport ColoredName from \"../colored-name\";\r\nimport Commentary, { LoadingCommentary } from \"../comentary\";\r\nimport Button from \"../button\";\r\nimport Options from \"../options\";\r\n\r\nimport DefaultPhoto from \"../../assets/default-photo.jpg\";\r\nimport { ReactComponent as Heart } from \"../../assets/heart.svg\";\r\nimport { ReactComponent as Comment } from \"../../assets/chatbox.svg\";\r\nimport { ReactComponent as Bookmark } from \"../../assets/bookmark.svg\";\r\n\r\nimport \"./style.css\";\r\nimport \"github-markdown-css\";\r\n\r\nconst Post = ({\r\n  user,\r\n  from = \"posts\",\r\n  showAuthor = true,\r\n  enableLink = true,\r\n  data,\r\n  allUsers,\r\n  preview = false,\r\n  cropContent = false,\r\n  commentary = { handleAddCommentary: () => null, showCommentaries: false },\r\n  onClick = () => null,\r\n  parentHandleDelete = () => null\r\n}) => {\r\n  let author;\r\n  author = allUsers[data.author.id] || author;\r\n  const [textValue, setTextValue] = useState(\"\");\r\n  const [like, setLike] = useState(!preview && user.logged && data.likesList.includes(user.uid));\r\n  const [saved, setSaved] = useState(\r\n    !preview && user.logged && user.saved.includes(data.id)\r\n  );\r\n  const history = useHistory();\r\n  const [likesCount, setLikesCount] = useState(preview ? 0 : data.likesList.length)\r\n\r\n  const onLikeClick = e => {\r\n    e.stopPropagation();\r\n    const updateLike = async () => {\r\n      setLike(!like);\r\n      const postRef = firestore.doc(`test-posts/${data.id}`);\r\n      if (!like) {\r\n        setLikesCount(likesCount + 1)\r\n        await postRef.update({\r\n          likesList: firebase.firestore.FieldValue.arrayUnion(user.uid)\r\n        });\r\n      } else {\r\n        setLikesCount(likesCount - 1)\r\n        await postRef.update({\r\n          likesList: firebase.firestore.FieldValue.arrayRemove(user.uid)\r\n        });\r\n      }\r\n    };\r\n    if (!preview && user.logged) {\r\n      updateLike();\r\n    } else {\r\n      alert(\"You need to sign in to like posts\");\r\n    }\r\n  };\r\n\r\n  const onSaveClick = e => {\r\n    e.stopPropagation();\r\n    const updateSaves = async () => {\r\n      const userRef = firestore.doc(`users/${user.uid}`);\r\n      setSaved(!saved);\r\n      if (!saved) {\r\n        await userRef.update({\r\n          saved: firebase.firestore.FieldValue.arrayUnion(data.id)\r\n        });\r\n      } else {\r\n        await userRef.update({\r\n          saved: firebase.firestore.FieldValue.arrayRemove(data.id)\r\n        });\r\n      }\r\n    };\r\n    if (!preview && user.logged) {\r\n      updateSaves();\r\n    } else {\r\n      alert(\"you need to sign in to save posts\");\r\n    }\r\n  };\r\n\r\n  const publishCommentary = () => {\r\n    commentary.handleAddCommentary(textValue);\r\n    setTextValue(\"\");\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    const postRef = firestore.doc(`test-posts/${data.id}`);\r\n    console.log(\"eee\")\r\n    postRef.delete();\r\n    parentHandleDelete();\r\n  };\r\n\r\n  const handleCommentaryDelete = async commentary => {\r\n    const postRef = firestore.doc(`commentaries/${data.id}`);\r\n    console.log(commentary);\r\n    await postRef.update({\r\n      commentaries: firebase.firestore.FieldValue.arrayRemove(commentary)\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {author && (\r\n        <div\r\n          className={`cac_post ${cropContent ? \"cac_post--crop\" : \"\"}`}\r\n          onClick={onClick}\r\n        >\r\n          <div className=\"cac_post_heading\">\r\n            {showAuthor && (\r\n              <img\r\n                src={author.photoURL || DefaultPhoto}\r\n                className=\"cac_post_heading_photo\"\r\n                alt={author.displayName}\r\n                onClick={e => {\r\n                  e.stopPropagation();\r\n                  history.push(`/profile/${author.id}`);\r\n                }}\r\n              />\r\n            )}\r\n            <div className=\"cac_post_text-container\">\r\n              {enableLink ? (\r\n                <Link\r\n                  to={`/${from}/${data.id}`}\r\n                  className=\"cac_post_title cac_post_title--link\"\r\n                >\r\n                  {data.title}\r\n                </Link>\r\n              ) : (\r\n                  <span className=\"cac_post_title\">{data.title}</span>\r\n                )}\r\n              {showAuthor && (\r\n                <span\r\n                  onClick={e => {\r\n                    e.stopPropagation();\r\n                    history.push(`/profile/${author.id}`);\r\n                  }}\r\n                  className=\"cac_post_author--link\"\r\n                >\r\n                  <ColoredName className=\"cac_post_author\" rank={author.rank}>\r\n                    {author.displayName}\r\n                  </ColoredName>\r\n                </span>\r\n              )}\r\n              {preview ? (\r\n                <span className=\"cac_post_date\">{data.date}</span>\r\n              ) : (\r\n                  <TimeAgo\r\n                    className=\"cac_post_date\"\r\n                    live={false}\r\n                    date={data.createdAt ? data.createdAt.seconds * 1000 : new Date()}\r\n                  />\r\n                )}\r\n            </div>\r\n            <Options\r\n              className=\"cac_post_options\"\r\n              user={user}\r\n              author={author}\r\n              handleDelete={handleDelete}\r\n            >\r\n            </Options>\r\n          </div>\r\n          <MarkdownContent\r\n            content={data.content}\r\n            className={`cac_post_content markdown-body ${\r\n              cropContent ? \"cac_post_content--crop\" : \"\"\r\n              }`}\r\n          />\r\n\r\n          <div className=\"cac_post_interaction\">\r\n            <div className=\"cac_post_interaction-box\" onClick={onLikeClick}>\r\n              <span className=\"cac_post_interaction-counter\">\r\n                {likesCount}\r\n              </span>\r\n              <Heart\r\n                className={`cac_post_icon cac_post_heart ${\r\n                  like ? \"cac_post_heart--filled\" : \"\"\r\n                  }`}\r\n              />\r\n              <span className=\"cac_post_interaction-label\">Like</span>\r\n            </div>\r\n            <div className=\"cac_post_interaction-box cac_post_interaction-box--comment\">\r\n              <span className=\"cac_post_interaction-counter\">\r\n                {data.commentariesCount}\r\n              </span>\r\n              <Comment className=\"cac_post_icon cac_post_comment\" />\r\n              <span className=\"cac_post_interaction-label\">Comment</span>\r\n            </div>\r\n            <div className=\"cac_post_interaction-box\" onClick={onSaveClick}>\r\n              <Bookmark\r\n                className={`cac_post_icon cac_post_bookmark ${\r\n                  saved ? \"cac_post_bookmark--filled\" : \"\"\r\n                  }`}\r\n              />\r\n              <span className=\"cac_post_interaction-label\">Save</span>\r\n            </div>\r\n          </div>\r\n          {commentary.showCommentaries && (\r\n            <div className=\"cac_post_commentaries-section\">\r\n              {user.logged && (\r\n                <div className=\"cac_post_create-commentary\">\r\n                  <textarea\r\n                    className=\"cac_post_create-commentary_textarea\"\r\n                    value={textValue}\r\n                    onChange={e => setTextValue(e.target.value)}\r\n                  />\r\n                  <Button\r\n                    className=\"cac_poist_create-commentary_button\"\r\n                    onClick={publishCommentary}\r\n                  >\r\n                    {\"Comment\"}\r\n                  </Button>\r\n                </div>\r\n              )}\r\n              <div className=\"cac_post_commentaries\">\r\n                {!commentary.isLoading ? commentary.data\r\n                  .sort((a, b) => b.date.toDate() - a.date.toDate())\r\n                  .map((data, i) => (\r\n                    <Commentary\r\n                      handleDelete={() => handleCommentaryDelete(data)}\r\n                      postRef={`${from}/${data.id}`}\r\n                      key={i}\r\n                      user={user}\r\n                      author={{ id: data.author, ...allUsers[data.author] }}\r\n                      content={data.content}\r\n                      date={data.date}\r\n                    />\r\n                  )) : (\r\n                    <>\r\n                      <LoadingCommentary />\r\n                      <LoadingCommentary />\r\n                      <LoadingCommentary />\r\n                    </>)}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { AllUsersContext } from \"../../Providers/userProvider\";\r\n\r\nimport UserBox from \"../user-box\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst SearchUsers = ({ handleUserClick }) => {\r\n  const allUsers = useContext(AllUsersContext);\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [canFilter, setCanFilter] = useState(true);\r\n  const [match, setMatch] = useState([]);\r\n  const [lastQuery, setLastQuery] = useState();\r\n\r\n  useEffect(() => {\r\n    if (!allUsers.isCFLoading && canFilter && lastQuery !== displayName) {\r\n      setCanFilter(false);\r\n      setLastQuery(displayName);\r\n      const query = displayName.toLocaleLowerCase();\r\n      setMatch(\r\n        allUsers.users.filter(user =>\r\n          user.displayName.toLocaleLowerCase().includes(query)\r\n        )\r\n      );\r\n      setTimeout(() => {\r\n        setCanFilter(true);\r\n      }, 250);\r\n    }\r\n  }, [displayName, canFilter, lastQuery, allUsers]);\r\n\r\n  return (\r\n    <div className=\"cac_search-user\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"cac_search-user_input\"\r\n        value={displayName}\r\n        placeholder=\"User name\"\r\n        onChange={e => setDisplayName(e.target.value)}\r\n      />\r\n      <div className=\"cac_search_users-container\">\r\n        {match.map((user, i) => (\r\n          <UserBox redirect={false} key={i} user={user} onClick={() => handleUserClick(user)} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchUsers;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport SearchUsers from \"../searchUsers\";\r\nimport UserBox from \"../user-box\";\r\nimport Button from \"../button\";\r\nimport \"./style.css\";\r\n\r\nconst SelectUsers = ({ close, handleConfirm }) => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const handleUserClick = user => {\r\n    if (users.findIndex(u => u.id === user.id) === -1)\r\n      setUsers([...users, user]);\r\n  };\r\n\r\n  const removeUser = user => {\r\n    setUsers(users.filter(u => u.id !== user.id));\r\n  };\r\n\r\n  const handleConfirmClick = () => {\r\n    if (users.length > 0) {\r\n      handleConfirm(users);\r\n      close();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const handleEvent = e => {\r\n      if (e.key === \"Escape\") close();\r\n    };\r\n    window.addEventListener(\"keydown\", handleEvent);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleEvent);\r\n    };\r\n  }, [close]);\r\n\r\n  return (\r\n    <div className=\"cac_select-users\">\r\n      <SearchUsers handleUserClick={handleUserClick} />\r\n      <span className=\"cac_select-users_title\">Selected</span>\r\n      <div className=\"cac_select-users_users\">\r\n        {users.map(user => (\r\n          <UserBox\r\n            redirect={false}\r\n            key={user.id}\r\n            user={user}\r\n            onClick={() => removeUser(user)}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"cac_select-users_button-container\">\r\n        <Button\r\n          onClick={close}\r\n          className=\"cac_select-users_button cac_select-users_button--cancel\"\r\n        >\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={handleConfirmClick}\r\n          className={`cac_select-users_button cac_select-users_button ${\r\n            users.length > 0\r\n              ? \"\"\r\n              : \"cac_select-users_button-container--disabled\"\r\n          }`}\r\n        >\r\n          Confirm\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectUsers;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  // eslint-disable-next-line no-unused-vars\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  useHistory\r\n} from \"react-router-dom\";\r\nimport { firebase, firestore } from \"../../firebase\";\r\n\r\nimport { AttendanceContext } from \"../../Providers/attendanceProvider\";\r\nimport { UserContext, AllUsersContext } from \"../../Providers/userProvider\";\r\n\r\nimport UserBox from \"../../Components/user-box\";\r\nimport Button from \"../../Components/button\";\r\nimport Popup, { TopPopup } from \"../../Components/popup\";\r\nimport SelectUsers from \"../../Components/select-users\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst Attendance = props => {\r\n  const atnContext = useContext(AttendanceContext);\r\n  const user = useContext(UserContext);\r\n  const { usersMap } = useContext(AllUsersContext);\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [inList, setInList] = useState(false);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n  const [alert, setAlert] = useState({\r\n    open: false,\r\n    description: \"\",\r\n    type: \"\"\r\n  });\r\n  const { preview } = props;\r\n  const history = useHistory();\r\n\r\n  const classData = preview ? props.classData : atnContext.classData;\r\n  const { code } = props.match.params || classData;\r\n  useEffect(() => {\r\n    const pushData = async () => {\r\n      const classRef = firestore.doc(`class/${code}`);\r\n      if (\r\n        classData.attendances.find(attendance => attendance.id === user.uid) ===\r\n        undefined\r\n      ) {\r\n        await classRef.update({\r\n          attendances: firebase.firestore.FieldValue.arrayUnion({\r\n            id: user.uid,\r\n            displayName: user.displayName\r\n          })\r\n        });\r\n      }\r\n      setInList(true);\r\n    };\r\n    if (\r\n      !preview &&\r\n      user.logged &&\r\n      !user.isLoading &&\r\n      classData.isDataAvailable &&\r\n      !inList &&\r\n      classData.active\r\n    ) {\r\n      pushData();\r\n    }\r\n  }, [inList, user, classData, code, preview]);\r\n\r\n  useEffect(() => {\r\n    if (!preview) {\r\n      if (code !== classData.code) {\r\n        atnContext.setClassData(c => ({ ...c, code }));\r\n      } else {\r\n        if (!classData.validCode) {\r\n          setRedirect(true);\r\n        }\r\n      }\r\n    }\r\n  }, [code, user, classData, atnContext, preview]);\r\n\r\n  const handleConfirm = async users => {\r\n    setPopupOpen(false);\r\n    const classRef = firestore.doc(`class/${code}`);\r\n    await classRef.update({\r\n      attendances: firebase.firestore.FieldValue.arrayUnion(\r\n        ...users.map(user => ({ id: user.id, displayName: user.displayName }))\r\n      )\r\n    });\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    if (!preview) {\r\n      setPopupOpen(true);\r\n    }\r\n  };\r\n\r\n  const endClass = async () => {\r\n    if (!preview && classData.active) {\r\n      const classRef = firestore.doc(`class/${code}`);\r\n      await classRef.update({\r\n        active: false\r\n      });\r\n    }\r\n  };\r\n\r\n  const changeClass = () => {\r\n    console.log(atnContext);\r\n    history.push('/attendance');\r\n    atnContext.setClassData({ isDataAvailable: false, code: \"\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (classData.isDataAvailable && !classData.active) {\r\n      setAlert({ open: true, type: \"error\", description: \"Class ended\" });\r\n    }\r\n  }, [classData.isDataAvailable, classData.active]);\r\n\r\n  return (\r\n    <div className=\"cac_attendance cac_attendance--in-class\">\r\n      {alert.open && (\r\n        <TopPopup\r\n          onClick={() => setAlert({ open: false })}\r\n          className={alert.type}\r\n        >\r\n          {alert.description}\r\n        </TopPopup>\r\n      )}\r\n      {redirect && <Redirect to=\"/attendance\" />}\r\n      {popupOpen && (\r\n        <Popup>\r\n          <SelectUsers\r\n            close={() => setPopupOpen(false)}\r\n            handleConfirm={handleConfirm}\r\n          />\r\n        </Popup>\r\n      )}\r\n      {(classData.isDataAvailable || preview) && (\r\n        <div className=\"cac_attendance_class\">\r\n          <h3 className=\"cac_attendance_title\">{classData.title}</h3>\r\n          <span className=\"cac_attendance_date\">\r\n            {preview ? classData.date : classData.date.toDate().toDateString()}\r\n          </span>\r\n          <div className=\"cac_attendance_code-container\">\r\n            <span className=\"cac_attendance_code-title\">Code</span>\r\n            <span className=\"cac_attendance_code-code\">{classData.code}</span>\r\n          </div>\r\n          <div className=\"cac_attendance_speakers-container\">\r\n            <span className=\"cac_attendance_speakers-title\">Speakers</span>\r\n            {classData.speakers.map((speaker, i) => (\r\n              <UserBox\r\n                key={i}\r\n                className=\"cac_attendance_speaker_user-box\"\r\n                user={usersMap[speaker.id] || speaker}\r\n              />\r\n            ))}\r\n          </div>\r\n          <div className=\"cac_attendance_description-container\">\r\n            <p className=\"cac_attendance_description-title\">Description</p>\r\n            <p className=\"cac_attendance_description-text\">\r\n              {classData.description}\r\n            </p>\r\n          </div>\r\n          <div className=\"cac_attendance_attendant-container\">\r\n            {classData.attendances.map((attendant, i) => (\r\n              <UserBox\r\n                key={i}\r\n                className=\"cac_attendance_attendant\"\r\n                user={usersMap[attendant.id] || attendant}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"cac_attendance_buttons\">\r\n        <Button\r\n          className=\"cac_attendance_button cac_attendance_add\"\r\n          onClick={changeClass}\r\n        >\r\n          Change\r\n        </Button>\r\n        {user.isAdmin && (\r\n          <>\r\n            <Button\r\n              className=\"cac_attendance_button cac_attendance_end\"\r\n              onClick={endClass}\r\n            >\r\n              End class\r\n            </Button>\r\n            <Button\r\n              className=\"cac_attendance_button cac_attendance_add\"\r\n              onClick={handleAdd}\r\n            >\r\n              Add people\r\n            </Button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Attendance;\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DEFAULT_PLACEHOLDER_STRING = 'Select...';\n\nvar Dropdown = function (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown(props) {\n    _classCallCheck(this, Dropdown);\n\n    var _this = _possibleConstructorReturn(this, (Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call(this, props));\n\n    _this.state = {\n      selected: _this.parseValue(props.value, props.options) || {\n        label: typeof props.placeholder === 'undefined' ? DEFAULT_PLACEHOLDER_STRING : props.placeholder,\n        value: ''\n      },\n      isOpen: false\n    };\n    _this.mounted = true;\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_this);\n    _this.fireChangeEvent = _this.fireChangeEvent.bind(_this);\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.value) {\n        var selected = this.parseValue(newProps.value, newProps.options);\n        if (selected !== this.state.selected) {\n          this.setState({ selected: selected });\n        }\n      } else {\n        this.setState({ selected: {\n            label: typeof newProps.placeholder === 'undefined' ? DEFAULT_PLACEHOLDER_STRING : newProps.placeholder,\n            value: ''\n          } });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleDocumentClick, false);\n      document.addEventListener('touchend', this.handleDocumentClick, false);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.mounted = false;\n      document.removeEventListener('click', this.handleDocumentClick, false);\n      document.removeEventListener('touchend', this.handleDocumentClick, false);\n    }\n  }, {\n    key: 'handleMouseDown',\n    value: function handleMouseDown(event) {\n      if (this.props.onFocus && typeof this.props.onFocus === 'function') {\n        this.props.onFocus(this.state.isOpen);\n      }\n      if (event.type === 'mousedown' && event.button !== 0) return;\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (!this.props.disabled) {\n        this.setState({\n          isOpen: !this.state.isOpen\n        });\n      }\n    }\n  }, {\n    key: 'parseValue',\n    value: function parseValue(value, options) {\n      var option = void 0;\n\n      if (typeof value === 'string') {\n        for (var i = 0, num = options.length; i < num; i++) {\n          if (options[i].type === 'group') {\n            var match = options[i].items.filter(function (item) {\n              return item.value === value;\n            });\n            if (match.length) {\n              option = match[0];\n            }\n          } else if (typeof options[i].value !== 'undefined' && options[i].value === value) {\n            option = options[i];\n          }\n        }\n      }\n\n      return option || value;\n    }\n  }, {\n    key: 'setValue',\n    value: function setValue(value, label) {\n      var newState = {\n        selected: {\n          value: value,\n          label: label },\n        isOpen: false\n      };\n      this.fireChangeEvent(newState);\n      this.setState(newState);\n    }\n  }, {\n    key: 'fireChangeEvent',\n    value: function fireChangeEvent(newState) {\n      if (newState.selected !== this.state.selected && this.props.onChange) {\n        this.props.onChange(newState.selected);\n      }\n    }\n  }, {\n    key: 'renderOption',\n    value: function renderOption(option) {\n      var _classes;\n\n      var value = option.value;\n      if (typeof value === 'undefined') {\n        value = option.label || option;\n      }\n      var label = option.label || option.value || option;\n      var isSelected = value === this.state.selected.value || value === this.state.selected;\n\n      var classes = (_classes = {}, _defineProperty(_classes, this.props.baseClassName + '-option', true), _defineProperty(_classes, option.className, !!option.className), _defineProperty(_classes, 'is-selected', isSelected), _classes);\n\n      var optionClass = (0, _classnames2.default)(classes);\n\n      return _react2.default.createElement(\n        'div',\n        {\n          key: value,\n          className: optionClass,\n          onMouseDown: this.setValue.bind(this, value, label),\n          onClick: this.setValue.bind(this, value, label),\n          role: 'option',\n          'aria-selected': isSelected ? 'true' : 'false' },\n        label\n      );\n    }\n  }, {\n    key: 'buildMenu',\n    value: function buildMenu() {\n      var _this2 = this;\n\n      var _props = this.props,\n          options = _props.options,\n          baseClassName = _props.baseClassName;\n\n      var ops = options.map(function (option) {\n        if (option.type === 'group') {\n          var groupTitle = _react2.default.createElement(\n            'div',\n            { className: baseClassName + '-title' },\n            option.name\n          );\n          var _options = option.items.map(function (item) {\n            return _this2.renderOption(item);\n          });\n\n          return _react2.default.createElement(\n            'div',\n            { className: baseClassName + '-group', key: option.name, role: 'listbox', tabIndex: '-1' },\n            groupTitle,\n            _options\n          );\n        } else {\n          return _this2.renderOption(option);\n        }\n      });\n\n      return ops.length ? ops : _react2.default.createElement(\n        'div',\n        { className: baseClassName + '-noresults' },\n        'No options found'\n      );\n    }\n  }, {\n    key: 'handleDocumentClick',\n    value: function handleDocumentClick(event) {\n      if (this.mounted) {\n        if (!_reactDom2.default.findDOMNode(this).contains(event.target)) {\n          if (this.state.isOpen) {\n            this.setState({ isOpen: false });\n          }\n        }\n      }\n    }\n  }, {\n    key: 'isValueSelected',\n    value: function isValueSelected() {\n      return typeof this.state.selected === 'string' || this.state.selected.value !== '';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames, _classNames2, _classNames3, _classNames4, _classNames5;\n\n      var _props2 = this.props,\n          baseClassName = _props2.baseClassName,\n          controlClassName = _props2.controlClassName,\n          placeholderClassName = _props2.placeholderClassName,\n          menuClassName = _props2.menuClassName,\n          arrowClassName = _props2.arrowClassName,\n          arrowClosed = _props2.arrowClosed,\n          arrowOpen = _props2.arrowOpen,\n          className = _props2.className;\n\n\n      var disabledClass = this.props.disabled ? 'Dropdown-disabled' : '';\n      var placeHolderValue = typeof this.state.selected === 'string' ? this.state.selected : this.state.selected.label;\n\n      var dropdownClass = (0, _classnames2.default)((_classNames = {}, _defineProperty(_classNames, baseClassName + '-root', true), _defineProperty(_classNames, className, !!className), _defineProperty(_classNames, 'is-open', this.state.isOpen), _classNames));\n      var controlClass = (0, _classnames2.default)((_classNames2 = {}, _defineProperty(_classNames2, baseClassName + '-control', true), _defineProperty(_classNames2, controlClassName, !!controlClassName), _defineProperty(_classNames2, disabledClass, !!disabledClass), _classNames2));\n      var placeholderClass = (0, _classnames2.default)((_classNames3 = {}, _defineProperty(_classNames3, baseClassName + '-placeholder', true), _defineProperty(_classNames3, placeholderClassName, !!placeholderClassName), _defineProperty(_classNames3, 'is-selected', this.isValueSelected()), _classNames3));\n      var menuClass = (0, _classnames2.default)((_classNames4 = {}, _defineProperty(_classNames4, baseClassName + '-menu', true), _defineProperty(_classNames4, menuClassName, !!menuClassName), _classNames4));\n      var arrowClass = (0, _classnames2.default)((_classNames5 = {}, _defineProperty(_classNames5, baseClassName + '-arrow', true), _defineProperty(_classNames5, arrowClassName, !!arrowClassName), _classNames5));\n\n      var value = _react2.default.createElement(\n        'div',\n        { className: placeholderClass },\n        placeHolderValue\n      );\n      var menu = this.state.isOpen ? _react2.default.createElement(\n        'div',\n        { className: menuClass, 'aria-expanded': 'true' },\n        this.buildMenu()\n      ) : null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: dropdownClass },\n        _react2.default.createElement(\n          'div',\n          { className: controlClass, onMouseDown: this.handleMouseDown.bind(this), onTouchEnd: this.handleMouseDown.bind(this), 'aria-haspopup': 'listbox' },\n          value,\n          _react2.default.createElement(\n            'div',\n            { className: baseClassName + '-arrow-wrapper' },\n            arrowOpen && arrowClosed ? this.state.isOpen ? arrowOpen : arrowClosed : _react2.default.createElement('span', { className: arrowClass })\n          )\n        ),\n        menu\n      );\n    }\n  }]);\n\n  return Dropdown;\n}(_react.Component);\n\nDropdown.defaultProps = { baseClassName: 'Dropdown' };\nexports.default = Dropdown;\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React, { useState } from \"react\";\r\n\r\nimport { firestore } from \"../../firebase\";\r\n\r\nimport Button from \"../button\";\r\nimport SelectUsers from \"../select-users\";\r\nimport UserBox from \"../user-box\";\r\nimport Popup, { TopPopup } from \"../popup\";\r\nimport Attendance from \"../../Views/attendance\";\r\n\r\nimport { generateRandomCode } from \"../../utilities\";\r\n\r\nimport \"./style.css\";\r\nimport \"../../Views/create/style.css\";\r\n\r\nconst DEFAULT_ATTENDANCES = [\r\n  {\r\n    uid: \"123123124\",\r\n    displayName: \"Erick\",\r\n    rank: \"pupil\",\r\n    rating: 1200\r\n  },\r\n  {\r\n    uid: \"hkhaksdh12\",\r\n    displayName: \"Jorge ivan\",\r\n    rank: \"expert\",\r\n    rating: 1520\r\n  },\r\n  {\r\n    uid: \"uid de otro wey\",\r\n    displayName: \"Franco\",\r\n    rank: \"expert\",\r\n    rating: 2624\r\n  },\r\n  {\r\n    uid: \"uid de otro wey\",\r\n    displayName: \"Crystal\",\r\n    rank: \"expert\",\r\n    rating: 2624\r\n  }\r\n];\r\n\r\nconst CreateClass = ({ preview }) => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [code, setCode] = useState(\"\");\r\n  const [speakers, setSpeakers] = useState([]);\r\n  const [isSubmiting, setIsSubmiting] = useState(false);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n  const [alert, setAlert] = useState({\r\n    open: false,\r\n    description: \"\",\r\n    type: \"\"\r\n  });\r\n\r\n  const canPost = () => {\r\n    if (!(title && code && description && speakers.length > 0)) {\r\n      return false;\r\n    }\r\n    const dateFormated = new Date(date);\r\n    if (isNaN(dateFormated.getTime())) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handlePostButton = async () => {\r\n    if (!isSubmiting)\r\n      if (canPost()) {\r\n        setIsSubmiting(true);\r\n        const classData = {\r\n          title,\r\n          date: new Date(date),\r\n          description,\r\n          code,\r\n          active: true,\r\n          speakers: speakers.map(speaker => ({\r\n            id: speaker.id,\r\n            displayName: speaker.displayName\r\n          })),\r\n          attendances: []\r\n        };\r\n\r\n        const classRef = firestore.doc(`class/${code}`);\r\n        const snapshot = await classRef.get();\r\n        if (!snapshot.exists) {\r\n          try {\r\n            await classRef.set(classData);\r\n            setAlert({\r\n              open: true,\r\n              description: \"Class created successfully\",\r\n              type: \"success\"\r\n            });\r\n            setTitle(\"\");\r\n            setDate(\"\");\r\n            setCode(\"\");\r\n            setSpeakers([]);\r\n            setDescription(\"\");\r\n          } catch (err) {\r\n            console.error(\"Error creating class\", err.mesage);\r\n          }\r\n        } else {\r\n          setAlert({\r\n            open: true,\r\n            description: \"Code is already in use\",\r\n            type: \"error\"\r\n          });\r\n        }\r\n        setIsSubmiting(false);\r\n      } else {\r\n        setAlert({\r\n          open: true,\r\n          description: \"Verify all information\",\r\n          type: \"error\"\r\n        });\r\n      }\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setAlert({ open: false });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {alert.open && (\r\n        <TopPopup onClick={closeAlert} className={alert.type}>\r\n          {alert.description}\r\n        </TopPopup>\r\n      )}\r\n      {preview ? (\r\n        <Attendance\r\n          preview={true}\r\n          classData={{\r\n            title: title,\r\n            date: date,\r\n            description: description,\r\n            code: code,\r\n            speakers: speakers,\r\n            attendances: DEFAULT_ATTENDANCES\r\n          }}\r\n          match={{ params: null }}\r\n        />\r\n      ) : (\r\n        <div className=\"cac_create_class\">\r\n          {popupOpen && (\r\n            <Popup>\r\n              <SelectUsers\r\n                close={() => setPopupOpen(false)}\r\n                handleConfirm={setSpeakers}\r\n              />\r\n            </Popup>\r\n          )}\r\n          <div className=\"cac_create_class--left\">\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"title\" className=\"cac_create_title\">\r\n                Title\r\n              </label>\r\n              <input\r\n                name=\"title\"\r\n                id=\"title\"\r\n                type=\"text\"\r\n                className=\"cac_create_input cac_create_input--title\"\r\n                value={title}\r\n                onChange={e => setTitle(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"title\" className=\"cac_create_title\">\r\n                Date (mm/dd/yy)\r\n              </label>\r\n              <input\r\n                name=\"date\"\r\n                id=\"date\"\r\n                type=\"text\"\r\n                className=\"cac_create_input cac_create_input--title\"\r\n                value={date}\r\n                onChange={e => setDate(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"description\" className=\"cac_create_title\">\r\n                Description\r\n              </label>\r\n              <textarea\r\n                name=\"description\"\r\n                id=\"description\"\r\n                className=\"cac_create_textarea\"\r\n                value={description}\r\n                required\r\n                onChange={e => setDescription(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"cac_create_class--right\">\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"code\" className=\"cac_create_title\">\r\n                Code\r\n              </label>\r\n              <input\r\n                name=\"code\"\r\n                id=\"code\"\r\n                type=\"text\"\r\n                className=\" cac_create_input cac_create_input--title cac_create_class_code\"\r\n                value={code}\r\n                minLength=\"3\"\r\n                maxLength=\"6\"\r\n                required\r\n                onChange={e => setCode(e.target.value)}\r\n              />\r\n              <Button\r\n                className=\"cac_create_button cac_create_class_button\"\r\n                onClick={() => setCode(generateRandomCode(6))}\r\n              >\r\n                Random code\r\n              </Button>\r\n            </div>\r\n            <div className=\"cac_create_section cac_create_cass_speakers\">\r\n              <span className=\"cac_create_title\">Speakers</span>\r\n              {speakers.map((speaker, i) => (\r\n                <UserBox\r\n                  key={speaker.displayName}\r\n                  user={speaker}\r\n                  className=\"cac_create_speaker\"\r\n                />\r\n              ))}\r\n              <Button\r\n                className=\"cac_create_button cac_create_class_button\"\r\n                onClick={() => setPopupOpen(true)}\r\n              >\r\n                Add\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <Button className=\"cac_create_class_post\" onClick={handlePostButton}>\r\n        Post\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateClass;\r\n","import React, { useState, useContext } from \"react\";\r\n\r\nimport { firestore, firebase } from \"../../firebase\";\r\n\r\nimport { UserContext, AllUsersContext } from \"../../Providers/userProvider\";\r\n\r\nimport Post from \"../post\";\r\nimport Button from \"../button\";\r\nimport { TopPopup } from \"../popup\";\r\n\r\nimport \"./style.css\";\r\nimport \"../../Views/create/style.css\";\r\n\r\nconst CreatePost = ({\r\n  preview,\r\n  type = \"home\",\r\n  showAuthor = true\r\n}) => {\r\n  const user = useContext(UserContext);\r\n  const allUsers = useContext(AllUsersContext);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [isSubmiting, setIsSubmiting] = useState(false);\r\n  const [alert, setAlert] = useState({ visible: false, content: \"\", type: \"\" });\r\n  const handlePostButton = async () => {\r\n    if (!isSubmiting && title && content) {\r\n      setIsSubmiting(true);\r\n      const postData = {\r\n        title,\r\n        content,\r\n        type: type,\r\n        comments: [],\r\n        likesList: [],\r\n        author: { id: user.uid, displayName: user.displayName },\r\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n        key: Date.now()\r\n      };\r\n      try {\r\n        await firestore.collection('test-posts').add(postData);\r\n        setAlert({\r\n          visible: true,\r\n          content: \"Post published succesfully\",\r\n          type: \"success\"\r\n        });\r\n        setTitle(\"\");\r\n        setContent(\"\");\r\n      } catch (e) {\r\n        console.error(e);\r\n        setAlert({\r\n          visible: true,\r\n          content: \"Error publishing post\",\r\n          type: \"error\"\r\n        });\r\n      }\r\n      setIsSubmiting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {alert.visible && (\r\n        <TopPopup\r\n          className={alert.type}\r\n          onClick={() => setAlert({ visible: false })}\r\n        >\r\n          {alert.content}\r\n        </TopPopup>\r\n      )}\r\n      {preview ? (\r\n        <Post\r\n          preview={true}\r\n          allUsers={allUsers.usersMap}\r\n          enableLink={false}\r\n          author={user}\r\n          showAuthor={showAuthor}\r\n          data={{\r\n            title: title,\r\n            author: { id: user.uid },\r\n            content: content,\r\n            date: \"just now\",\r\n            comments: [],\r\n            likesList: []\r\n          }}\r\n        />\r\n      ) : (\r\n          <div className=\"cac_create_post\">\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"title\" className=\"cac_create_title\">\r\n                Title\r\n            </label>\r\n              <input\r\n                name=\"title\"\r\n                id=\"title\"\r\n                type=\"text\"\r\n                className=\"cac_create_input cac_create_input--title\"\r\n                value={title}\r\n                onChange={e => setTitle(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"cac_create_section\">\r\n              <label htmlFor=\"description\" className=\"cac_create_title\">\r\n                Content\r\n            </label>\r\n              <textarea\r\n                name=\"description\"\r\n                id=\"description\"\r\n                className=\"cac_create_textarea\"\r\n                value={content}\r\n                required\r\n                onChange={e => setContent(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      <Button className=\"cac_create_post_post\" onClick={handlePostButton}>\r\n        Post\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  // eslint-disable-next-line no-unused-vars\r\n  BrowserRouter as Router,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\nimport Dropdown from \"react-dropdown\";\r\nimport \"react-dropdown/style.css\";\r\n\r\nimport CreateClass from \"../../Components/create-class\";\r\nimport CreatePost from \"../../Components/create-post\";\r\nimport Button from \"../../Components/button\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst Create = props => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [path, setPath] = useState(\"\");\r\n  const [preview, setPreview] = useState(false);\r\n\r\n  const sections = [\r\n    { value: \"class\", label: \"Class\" },\r\n    { value: \"homePost\", label: \"Home Post\" },\r\n    { value: \"weeklyProblem\", label: \"Weekly problem\" },\r\n    { value: \"editorial\", label: \"Editorial\" },\r\n    { value: \"announcement\", label: \"Announcement\" }\r\n  ];\r\n\r\n  const onChange = e => {\r\n    setPath(`/create/${e.value}`);\r\n    setRedirect(true);\r\n    setPreview(false);\r\n  };\r\n\r\n  useEffect(() => { }, [props]);\r\n\r\n  const handlePreviewClick = () => {\r\n    setPreview(!preview);\r\n  };\r\n\r\n  const match = props.match || { params: { cid: \"\" } };\r\n  return (\r\n    <div className=\"cac_create\">\r\n      <div className=\"cac_create_header\">\r\n        <Dropdown\r\n          className=\"cac_create_dropdown cac_create_dropdown--sections\"\r\n          options={sections}\r\n          onChange={onChange}\r\n          value={match.params.cid}\r\n          placeholder=\"Select\"\r\n        />\r\n        <Button className=\"cac_create_preview\" onClick={handlePreviewClick}>\r\n          {preview ? \"Edit\" : \"Preview\"}\r\n        </Button>\r\n\r\n        {redirect && <Redirect to={path} />}\r\n      </div>\r\n      {match.params.cid === \"class\" && <CreateClass preview={preview} />}\r\n      {match.params.cid === \"homePost\" && (\r\n        <CreatePost preview={preview} type=\"home\" />\r\n      )}\r\n      {match.params.cid === \"weeklyProblem\" && (\r\n        <CreatePost\r\n          preview={preview}\r\n          type=\"weekly-problem\"\r\n          showAuthor={false}\r\n        />\r\n      )}\r\n      {match.params.cid === \"editorial\" && (\r\n        <CreatePost\r\n          preview={preview}\r\n          type=\"editorial\"\r\n          showAuthor={false}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst Popup = ({ children }) => {\r\n  return <div className=\"cac_popup\">{children}</div>;\r\n};\r\n\r\nexport default Popup;\r\n\r\nconst TopPopup = ({ children, className = \"error\", onClick = () => null }) => {\r\n  useEffect(() => {\r\n    const timeOut = setTimeout(() => {\r\n      onClick();\r\n    }, 5000);\r\n    return () => clearTimeout(timeOut);\r\n  });\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className={`cac_popup-top ${className ? className : \"\"}`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { TopPopup };\r\n"],"sourceRoot":""}