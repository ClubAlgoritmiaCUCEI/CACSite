(this.webpackJsonpcac_site=this.webpackJsonpcac_site||[]).push([[2],{111:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return o}));var n=function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December";default:return null}},c=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,c=0;c<e;c++)t+=a[Math.floor(Math.random()*n)];return t},r=/<br>|<\/br>|<br\/>/gi,o=function(e){return e.replace(r,"")}},161:function(e,t){},306:function(e,t,a){},500:function(e,t,a){},503:function(e,t,a){},504:function(e,t,a){},505:function(e,t,a){},98:function(e,t,a){"use strict";var n=a(1),c=a(3),r=a.n(c),o=a(4),s=a(0),i=a.n(s),l=a(6),u=a(18),m=a(5),p=a(527),d=a(139),f=a.n(d),v=a(148),_=a.n(v),h=a(540),g=a(531),y=(a(306),function(e){var t=e.language,a=void 0===t?null:t,n=e.value;return i.a.createElement(h.a,{language:a,style:g.a},n)}),b=a(111),E=(a(500),_()({isValidNode:function(e){return"script"!==e.type&&"break"!==e.type}})),O=function(e){var t=e.content,a=void 0===t?"":t,n=e.className,c=void 0===n?"":n;return i.a.createElement(f.a,{className:" cac_markdown ".concat(c),source:Object(b.c)(a),renderers:{code:y},escapeHtml:!1,astPlugins:[E]})},k=a(177),N=a.n(k),w=a(19),j=a(32);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var P=i.a.createElement("title",null,"ionicons-v5-f"),C=i.a.createElement("circle",{cx:256,cy:256,r:48}),L=i.a.createElement("circle",{cx:416,cy:256,r:48}),D=i.a.createElement("circle",{cx:96,cy:256,r:48}),S=function(e){var t=e.svgRef,a=e.title,n=R(e,["svgRef","title"]);return i.a.createElement("svg",x({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?P:a?i.a.createElement("title",null,a):null,C,L,D)},V=i.a.forwardRef((function(e,t){return i.a.createElement(S,x({svgRef:t},e))})),F=(a.p,a(503),function(e){var t=e.className,a=void 0===t?"":t,n=e.handleDelete,c=void 0===n?function(){return null}:n,r=e.user,l=e.author,u=Object(s.useState)(!1),m=Object(o.a)(u,2),p=m[0],d=m[1],f=Object(s.useRef)(null),v=Object(s.useRef)(null);Object(j.a)(f,(function(){return d(!1)}),v);return i.a.createElement("div",{className:"cac_options ".concat(a),onClick:function(e){e.stopPropagation(),d(!0)}},i.a.createElement(V,{className:"cac_options_icon"}),p&&i.a.createElement("div",{className:"cac_options-container",ref:f,onClick:function(e){return e.stopPropagation()}},i.a.createElement("div",{className:"cac_options_section"},i.a.createElement("span",{className:"cac_options_option"},"Report"),(l.id===r.uid||r.isAdmin)&&i.a.createElement("span",{className:"cac_options_option",onClick:function(e){!function(e){e.stopPropagation();var t=function(e){"Escape"===e.key&&d(!1)};p?window.removeEventListener("keydown",t):window.addEventListener("keydown",t),d(!p)}(e),c()}},"Delete"))))}),M=a(20),A=a.n(M),U=(a(504),function(e){var t=e.handleDelete,a=void 0===t?function(){return console.log("?>?")}:t,n=e.user,c=e.author,r=e.date,o=e.content;return i.a.createElement("div",{className:"cac_commentary"},i.a.createElement("div",{className:"cac_commentary_heading"},i.a.createElement("img",{src:c&&c.photoURL||A.a,alt:c?c.displayName:"",className:"cac_commentary_photo"}),i.a.createElement("div",{className:"cac_commentary_heading_text"},i.a.createElement(m.b,{to:"/profile/".concat(c.id),className:"cac_commentary_name--link"},i.a.createElement(w.a,{className:"cac_commentary_name",rank:c?c.rank:null},c?c.displayName:"")),i.a.createElement(N.a,{className:"cac_post_date",date:r.toDate()})),i.a.createElement(F,{handleDelete:a,className:"cac_commentary_options",user:n,author:c})),i.a.createElement(O,{content:o,className:"cac_commentary_content"}))}),H=a(9);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var I=i.a.createElement("title",null,"ionicons-v5-f"),W=function(e){var t=e.svgRef,a=e.title,n=B(e,["svgRef","title"]);return i.a.createElement("svg",J({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?I:a?i.a.createElement("title",null,a):null,i.a.createElement("path",{d:"M352.92,80C288,80,256,144,256,144s-32-64-96.92-64C106.32,80,64.54,124.14,64,176.81c-1.1,109.33,86.73,187.08,183,252.42a16,16,0,0,0,18,0c96.26-65.34,184.09-143.09,183-252.42C447.46,124.14,405.68,80,352.92,80Z",style:{fill:"auto",stroke:"auto",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32}}))},Z=i.a.forwardRef((function(e,t){return i.a.createElement(W,J({svgRef:t},e))}));a.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var z=i.a.createElement("title",null,"ionicons-v5-l"),G=function(e){var t=e.svgRef,a=e.title,n=q(e,["svgRef","title"]);return i.a.createElement("svg",Y({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?z:a?i.a.createElement("title",null,a):null,i.a.createElement("path",{d:"M408,64H104a56.16,56.16,0,0,0-56,56V312a56.16,56.16,0,0,0,56,56h40v80l93.72-78.14a8,8,0,0,1,5.13-1.86H408a56.16,56.16,0,0,0,56-56V120A56.16,56.16,0,0,0,408,64Z",style:{fill:"auto",stroke:"auto",strokeLinejoin:"round",strokeWidth:32}}))},K=i.a.forwardRef((function(e,t){return i.a.createElement(G,Y({svgRef:t},e))}));a.p;function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var X=i.a.createElement("title",null,"ionicons-v5-h"),$=function(e){var t=e.svgRef,a=e.title,n=T(e,["svgRef","title"]);return i.a.createElement("svg",Q({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?X:a?i.a.createElement("title",null,a):null,i.a.createElement("path",{d:"M352,48H160a48,48,0,0,0-48,48V464L256,336,400,464V96A48,48,0,0,0,352,48Z",style:{fill:"auto",stroke:"auto",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32}}))},ee=i.a.forwardRef((function(e,t){return i.a.createElement($,Q({svgRef:t},e))}));a.p,a(505),a(506),t.a=function(e){var t,a=e.user,c=e.from,d=void 0===c?"posts":c,f=e.showAuthor,v=void 0===f||f,_=e.enableLink,h=void 0===_||_,g=e.data,y=e.allUsers,b=e.preview,E=void 0!==b&&b,k=e.cropContent,j=void 0!==k&&k,x=e.showCommentaries,R=void 0!==x&&x,P=e.onClick,C=void 0===P?function(){return null}:P,L=e.parentHandleDelete,D=void 0===L?function(){return null}:L;t=y[g.author.id]||t;var S=Object(s.useState)(!1),V=Object(o.a)(S,2),M=V[0],J=V[1],B=Object(s.useState)(""),I=Object(o.a)(B,2),W=I[0],Y=I[1],q=!E&&a.logged&&g.likesList.includes(a.uid),z=Object(s.useState)(!E&&a.logged&&a.saved.includes(g.id)),G=Object(o.a)(z,2),Q=G[0],T=G[1],X=Object(u.g)(),$=function(e){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=l.d.doc("".concat(d,"/").concat(g.id)),a.next=3,r.a.awrap(t.update({comments:l.c.firestore.FieldValue.arrayRemove(e)}));case 3:case"end":return a.stop()}}))};return i.a.createElement(i.a.Fragment,null,t&&i.a.createElement("div",{className:"cac_post ".concat(j?"cac_post--crop":""),onClick:C},i.a.createElement("div",{className:"cac_post_heading"},v&&i.a.createElement("img",{src:t.photoURL||A.a,className:"cac_post_heading_photo",alt:t.displayName,onClick:function(e){e.stopPropagation(),X.push("/profile/".concat(t.id))}}),i.a.createElement("div",{className:"cac_post_text-container"},h?i.a.createElement(m.b,{to:"/".concat(d,"/").concat(g.id),className:"cac_post_title cac_post_title--link"},g.title):i.a.createElement("span",{className:"cac_post_title"},g.title),v&&i.a.createElement("span",{onClick:function(e){e.stopPropagation(),X.push("/profile/".concat(t.id))},className:"cac_post_author--link"},i.a.createElement(w.a,{className:"cac_post_author",rank:t.rank},t.displayName)),E?i.a.createElement("span",{className:"cac_post_date"},g.date):i.a.createElement(N.a,{className:"cac_post_date",live:!1,date:g.timestamp?g.timestamp.toDate():new Date})),i.a.createElement(F,{className:"cac_post_options",user:a,author:t,handleDelete:function(){l.d.doc("".concat(d,"/").concat(g.id)).delete(),D()}})),i.a.createElement(O,{content:g.content,className:"cac_post_content markdown-body ".concat(j?"cac_post_content--crop":"")}),i.a.createElement("div",{className:"cac_post_interaction"},i.a.createElement("div",{className:"cac_post_interaction-box",onClick:function(e){e.stopPropagation();!E&&a.logged?function(){var e;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=l.d.doc("".concat(d,"/").concat(g.id)),q){t.next=6;break}return t.next=4,r.a.awrap(e.update({likesList:l.c.firestore.FieldValue.arrayUnion(a.uid)}));case 4:t.next=8;break;case 6:return t.next=8,r.a.awrap(e.update({likesList:l.c.firestore.FieldValue.arrayRemove(a.uid)}));case 8:case"end":return t.stop()}}))}():alert("You need to sign in to like posts")}},i.a.createElement("span",{className:"cac_post_interaction-counter"},g.likesList.length),i.a.createElement(Z,{className:"cac_post_icon cac_post_heart ".concat(q?"cac_post_heart--filled":"")}),i.a.createElement("span",{className:"cac_post_interaction-label"},"Like")),i.a.createElement("div",{className:"cac_post_interaction-box cac_post_interaction-box--comment"},i.a.createElement("span",{className:"cac_post_interaction-counter"},g.comments.length),i.a.createElement(K,{className:"cac_post_icon cac_post_comment"}),i.a.createElement("span",{className:"cac_post_interaction-label"},"Comment")),i.a.createElement("div",{className:"cac_post_interaction-box",onClick:function(e){e.stopPropagation();!E&&a.logged?function(){var e;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=l.d.doc("users/".concat(a.uid)),T(!Q),Q){t.next=7;break}return t.next=5,r.a.awrap(e.update({saved:l.c.firestore.FieldValue.arrayUnion(g.id)}));case 5:t.next=9;break;case 7:return t.next=9,r.a.awrap(e.update({saved:l.c.firestore.FieldValue.arrayRemove(g.id)}));case 9:case"end":return t.stop()}}))}():alert("you need to sign in to save posts")}},i.a.createElement(ee,{className:"cac_post_icon cac_post_bookmark ".concat(Q?"cac_post_bookmark--filled":"")}),i.a.createElement("span",{className:"cac_post_interaction-label"},"Save"))),R&&i.a.createElement("div",{className:"cac_post_commentaries-section"},a.logged&&i.a.createElement("div",{className:"cac_post_create-commentary"},i.a.createElement("textarea",{className:"cac_post_create-commentary_textarea",value:W,onChange:function(e){return Y(e.target.value)}}),i.a.createElement(H.b,{className:"cac_poist_create-commentary_button",onClick:function(){console.log(d,g);!M&&W&&function(){var e,t;r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return J(!0),e=l.d.doc("".concat(d,"/").concat(g.id)),t={id:Object(p.a)(),author:a.uid,content:W,date:new Date},n.next=5,r.a.awrap(e.update({comments:l.c.firestore.FieldValue.arrayUnion(t)}));case 5:J(!1),Y("");case 7:case"end":return n.stop()}}))}()}},"Comment")),i.a.createElement("div",{className:"cac_post_commentaries"},g.comments.sort((function(e,t){return t.date.toDate()-e.date.toDate()})).map((function(e,t){return i.a.createElement(U,{handleDelete:function(){return $(e)},postRef:"".concat(d,"/").concat(e.id),key:t,user:a,author:Object(n.a)({id:e.author},y[e.author]),content:e.content,date:e.date})}))))))}}}]);
//# sourceMappingURL=2.7ce1d7ef.chunk.js.map