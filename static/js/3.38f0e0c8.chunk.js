(this.webpackJsonpcac_site=this.webpackJsonpcac_site||[]).push([[3],{517:function(e,t,a){},518:function(e,t,a){},544:function(e,t,a){"use strict";a.r(t);var c=a(3),s=a(0),n=a.n(s),o=a(16),r=a(36),l=a(42),u=a(33),i=a(7),_=a(148),m=a(4),p=a.n(m),b=a(6),d=(a(517),a(9)),f=function(e){var t=e.type,a=e.user,o=Object(s.useState)(!1),r=Object(c.a)(o,2),l=r[0],i=r[1],_=Object(s.useState)(""),m=Object(c.a)(_,2),f=m[0],h=m[1],v=Object(s.useState)(""),j=Object(c.a)(v,2),O=j[0],C=j[1],x=Object(s.useState)(!1),k=Object(c.a)(x,2),E=k[0],g=k[1],w=Object(s.useContext)(u.a),N=function(){h(""),C(""),i(!1)};return n.a.createElement("div",{className:"cac_create_post_small ".concat(l?"editing":"not-editing")},l?n.a.createElement(n.a.Fragment,null,n.a.createElement("textarea",{placeholder:"Title",value:O,onChange:function(e){return C(e.target.value)},className:"cac_create_post_small_textarea cac_create_post_small_textarea--title"}),n.a.createElement("textarea",{placeholder:"Content (Markdown)",value:f,onChange:function(e){return h(e.target.value)},className:"cac_create_post_small_textarea cac_create_post_small_textarea--content"}),n.a.createElement(d.b,{className:"cac_create_post_small_button cac_create_post_small_button--post ".concat(E||""===O||""===f?"cac_create_post_small_button--disabled":""),onClick:function(){E||(g(!0),function(){var e;p.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e={title:O,content:f,type:t,comments:[],likesList:[],author:{id:a.uid,displayName:a.displayName},createdAt:b.c.firestore.FieldValue.serverTimestamp(),timestamp:b.c.firestore.FieldValue.serverTimestamp(),key:Date.now()},c.prev=1,c.next=4,p.a.awrap(b.d.collection("test-posts").add(e));case 4:N(),w.fetch(t,!0),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(1),console.error(c.t0);case 11:g(!1);case 12:case"end":return c.stop()}}),null,null,[[1,8]])}())}},"Post"),n.a.createElement(d.b,{className:"cac_create_post_small_button cac_create_post_small_button--cancel",onClick:N},"Cancel")):n.a.createElement(n.a.Fragment,null,n.a.createElement("textarea",{className:"cac_create_post_small_textarea",value:"",placeholder:"Create Post",onClick:function(){return i(!0)},onChange:function(e){i(!0),C(e.target.value)}}),n.a.createElement(d.b,{className:"cac_create_post_small_button cac_create_post_small_button--post ".concat(E||""===O||""===f?"cac_create_post_small_button--disabled":"")},"Post")))};a(518),t.default=function(e){var t=e.className,a=void 0===t?"":t,m=e.Fallback,p=e.from,b=e.type,d=e.showAuthor,h=void 0!==d&&d,v=e.enableCreate,j=void 0!==v&&v,O=e.enablePreview,C=void 0===O||O,x=Object(s.useContext)(u.a),k=Object(s.useContext)(i.c),E=Object(s.useContext)(i.a),g=Object(o.g)(),w=Object(s.useState)(!1),N=Object(c.a)(w,2),y=N[0],S=N[1],F=Object(s.useState)({}),A=Object(c.a)(F,2),M=A[0],P=A[1],D=Object(s.useRef)(null),T=Object(r.useMediaQuery)({query:"(max-width: 800px)"});Object(l.a)(D,(function(){return S(!1)})),console.log(y,M),Object(s.useEffect)((function(){x.status.IDB&&x.fetch(b)}),[b,x.status.IDB]);return n.a.createElement("div",{className:"cac_posts ".concat(a)},y&&n.a.createElement("div",{className:"cac_posts_background-black"},n.a.createElement(_.a,{user:k,key:M.id,showAuthor:h,className:"cac_posts_post-open",data:M,allUsers:E.usersMap,cropContent:!1,showCommentaries:!0,from:p})),j&&n.a.createElement(f,{type:b,user:k}),!k.isLoading&&x.status[b]?x.posts[b].map((function(e,t){return n.a.createElement(_.a,{user:k,key:t,showAuthor:h,data:e,allUsers:E.usersMap,cropContent:!0,onClick:function(){return function(e){C&&!T?(console.log("click"),P(e),S(!0)):g.push("/".concat(p,"/").concat(e.id))}(e)},showCommentaries:!1,from:p})})):n.a.createElement(m,null))}}}]);
//# sourceMappingURL=3.38f0e0c8.chunk.js.map