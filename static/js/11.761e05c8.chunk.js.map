{"version":3,"sources":["Components/popup/index.js","assets/confirm.svg","assets/cancel.svg","Views/profile/index.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/bytesToUuid.js","../node_modules/uuid/dist/esm-browser/v4.js","assets/pencil.svg","Views/selfProfile/index.js"],"names":["Popup","children","className","TopPopup","onClick","useEffect","timeOut","setTimeout","clearTimeout","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref","svgRef","title","props","id","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","forwardRef","fill","cx","cy","rx","ry","transform","width","height","Profile","match","self","params","allUsers","useContext","AllUsersContext","useState","user","setUser","usersMap","src","photoURL","DefaultImage","alt","displayName","rank","rating","href","codeForcesUsername","cfConfirmed","vjudgeUsername","email","description","getRandomValues","crypto","bind","msCrypto","rnds8","Uint8Array","rng","Error","byteToHex","push","toString","substr","bytesToUuid","buf","offset","bth","toLowerCase","v4","options","rnds","random","start","points","SelfProfile","UserContext","isEditing","setIsEditing","setDisplayName","cfUsername","setCfUsername","setVjUsername","setDescription","editing","setEditing","visible","type","content","alert","setAlert","isCFLoading","handleUpload","e","a","file","files","path","uuidv4","storageRef","storage","put","pathReference","requestPhotoURL","getDownloadURL","url","userRef","firestore","doc","uid","update","tryToRequest","timesTried","handleConfirm","flag","undefined","users","find","u","window","confirm","Boolean","console","error","isLoading","logged","htmlFor","display","name","accept","onChange","value"],"mappings":"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","file":"static/js/11.761e05c8.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst Popup = ({ children }) => {\r\n  return <div className=\"cac_popup\">{children}</div>;\r\n};\r\n\r\nexport default Popup;\r\n\r\nconst TopPopup = ({ children, className = \"error\", onClick = () => null }) => {\r\n  useEffect(() => {\r\n    const timeOut = setTimeout(() => {\r\n      onClick();\r\n    }, 5000);\r\n    return () => clearTimeout(timeOut);\r\n  });\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className={`cac_popup-top ${className ? className : \"\"}`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { TopPopup };\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M246.736,0C110.692,0,0.004,110.68,0.004,246.732c0,136.06,110.688,246.732,246.732,246.732 c136.048,0,246.724-110.672,246.724-246.732C493.456,110.68,382.78,0,246.736,0z M360.524,208.716L230.98,338.268 c-2.82,2.824-7.816,2.824-10.64,0l-86.908-86.912c-1.412-1.416-2.192-3.3-2.192-5.324c0.004-2.016,0.784-3.912,2.192-5.336 l11.108-11.104c1.412-1.408,3.3-2.18,5.328-2.18c2.016,0,3.908,0.772,5.316,2.18l67.752,67.752c1.5,1.516,3.94,1.516,5.444,0 l110.392-110.392c2.824-2.824,7.828-2.824,10.644,0l11.108,11.124c1.412,1.4,2.208,3.304,2.208,5.308 C362.732,205.412,361.936,207.3,360.524,208.716z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgConfirm = function SvgConfirm(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 493.464 493.464\",\n    style: {\n      enableBackground: \"new 0 0 493.464 493.464\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgConfirm, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/confirm.939b3bdb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgCancel = function SvgCancel(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"ellipse\", {\n    style: {\n      fill: \"#E21B1B\"\n    },\n    cx: 256,\n    cy: 256,\n    rx: 256,\n    ry: 255.832\n  }), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 228.021,\n    y: 113.143,\n    transform: \"matrix(0.7071 -0.7071 0.7071 0.7071 -106.0178 256.0051)\",\n    style: {\n      fill: \"#FFFFFF\"\n    },\n    width: 55.991,\n    height: 285.669\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 113.164,\n    y: 227.968,\n    transform: \"matrix(0.7071 -0.7071 0.7071 0.7071 -106.0134 255.9885)\",\n    style: {\n      fill: \"#FFFFFF\"\n    },\n    width: 285.669,\n    height: 55.991\n  })), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCancel, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cancel.db47502b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport { AllUsersContext } from \"../../Providers/userProvider\";\r\n\r\nimport DefaultImage from \"../../assets/default-photo.jpg\";\r\n\r\nimport ColoredName from \"../../Components/colored-name\";\r\nimport Button from \"../../Components/button\";\r\n\r\nimport { ReactComponent as Confirmed } from \"../../assets/confirm.svg\";\r\nimport { ReactComponent as Unconfirmed } from \"../../assets/cancel.svg\";\r\nimport \"./style.css\";\r\n\r\nconst Profile = ({ match, self = false, onClick = () => null }) => {\r\n  const { id } = match.params;\r\n  const allUsers = useContext(AllUsersContext);\r\n\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(allUsers.usersMap).length > 0) {\r\n      if (allUsers.usersMap[id]) {\r\n        setUser(allUsers.usersMap[id]);\r\n      } else {\r\n      }\r\n    }\r\n  }, [allUsers, id]);\r\n\r\n  return (\r\n    <div className=\"cac_profile\">\r\n      <div className=\"cac_profile_photo-container\">\r\n        <img\r\n          src={user.photoURL || DefaultImage}\r\n          alt={user.displayName}\r\n          className=\"cac_profile_photo\"\r\n        />\r\n      </div>\r\n      <div className=\"cac_profile_information\">\r\n        <ColoredName rank={user.rank} className=\"cac_profile_name\">\r\n          {user.displayName}\r\n        </ColoredName>\r\n        {user.rank && (\r\n          <ColoredName rank={user.rank} className=\"cac_profile_rank\">\r\n            {user.rank}, {user.rating}\r\n          </ColoredName>\r\n        )}\r\n        <span className=\"cac_profile_label\">\r\n          CodeForces:\r\n          <a\r\n            className=\"cac_profile_link\"\r\n            href={`https://codeforces.com/profile/${user.codeForcesUsername}`}\r\n          >\r\n            {user.codeForcesUsername}\r\n            {user.cfConfirmed ? (\r\n              <Confirmed className=\"cac_profile_confirmation cac_profile_confirmation--true\" />\r\n            ) : (\r\n              <Unconfirmed className=\"cac_profile_confirmation cac_profile_confirmation--false\" />\r\n            )}\r\n          </a>\r\n        </span>\r\n        <span className=\"cac_profile_label\">\r\n          Vjudge:\r\n          <a\r\n            className=\"cac_profile_link\"\r\n            href={`https://vjudge.net/user/${user.codeForcesUsername}`}\r\n          >\r\n            {user.vjudgeUsername}\r\n          </a>\r\n        </span>\r\n        <span className=\"cac_profile_label\">Email: {user.email}</span>\r\n        <span className=\"cac_profile_label\">Description:</span>\r\n        <p className=\"cac_profile_description\">\r\n          {user.description || \"Does not have a description yet\"}\r\n        </p>\r\n      </div>\r\n      {self && (\r\n        <div className=\"cac_profile_buttons\">\r\n          <Button className=\"cac_profile_edit\" onClick={onClick}>\r\n            Edit profile\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default Profile;\r\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (bth[buf[i + 0]] + bth[buf[i + 1]] + bth[buf[i + 2]] + bth[buf[i + 3]] + '-' + bth[buf[i + 4]] + bth[buf[i + 5]] + '-' + bth[buf[i + 6]] + bth[buf[i + 7]] + '-' + bth[buf[i + 8]] + bth[buf[i + 9]] + '-' + bth[buf[i + 10]] + bth[buf[i + 11]] + bth[buf[i + 12]] + bth[buf[i + 13]] + bth[buf[i + 14]] + bth[buf[i + 15]]).toLowerCase();\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  if (typeof options === 'string') {\n    buf = options === 'binary' ? new Uint8Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    var start = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[start + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return bytesToUuid(rnds);\n}\n\nexport default v4;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893  \"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04 C386.027,77.92,386.027,64.373,377.707,56.053z\"\n}))));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgPencil = function SvgPencil(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 383.947 383.947\",\n    style: {\n      fill: \"auto\",\n      enableBackground: \"new 0 0 383.947 383.947\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPencil, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pencil.563c304a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useState, useEffect } from \"react\";\r\n\r\nimport { firestore, storage } from \"../../firebase\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport { UserContext, AllUsersContext } from \"../../Providers/userProvider\";\r\n\r\nimport Profile from \"../profile\";\r\nimport ColoredName from \"../../Components/colored-name\";\r\nimport Button from \"../../Components/button\";\r\nimport { TopPopup } from \"../../Components/popup\";\r\n\r\nimport { ReactComponent as Pencil } from \"../../assets/pencil.svg\";\r\n\r\nimport \"./style.css\";\r\nimport \"../profile/style.css\";\r\n\r\nconst SelfProfile = () => {\r\n  const user = useContext(UserContext);\r\n  const allUsers = useContext(AllUsersContext);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [cfUsername, setCfUsername] = useState(\"\");\r\n  const [vjudgeUsername, setVjUsername] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [editing, setEditing] = useState({\r\n    displayName: false,\r\n    cfUsername: false,\r\n    vjudgeUsername: false\r\n  });\r\n  const [alert, setAlert] = useState({\r\n    visible: false,\r\n    type: \"error\",\r\n    content: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!user.isCFLoading) {\r\n      setDisplayName(user.displayName || \"\");\r\n      setCfUsername(user.codeForcesUsername || \"\");\r\n      setVjUsername(user.vjudgeUsername || \"\");\r\n      setDescription(user.description || \"\");\r\n    }\r\n  }, [user]);\r\n\r\n  const handleUpload = async e => {\r\n    const file = e.target.files[0];\r\n    const path = `userPhoto/${uuidv4()}`;\r\n    const storageRef = storage.ref(path);\r\n    await storageRef.put(file);\r\n    let pathReference = storage.ref(`${path}_200x200`);\r\n\r\n    const requestPhotoURL = async () => {\r\n      const url = await pathReference.getDownloadURL();\r\n      const userRef = firestore.doc(`users/${user.uid}`);\r\n\r\n      try {\r\n        await userRef.update({\r\n          photoURL: url\r\n        });\r\n      } catch (e) {\r\n        throw new Error(e);\r\n      }\r\n    };\r\n\r\n    const tryToRequest = async timesTried => {\r\n      try {\r\n        await requestPhotoURL();\r\n        setAlert({\r\n          visible: true,\r\n          type: \"success\",\r\n          content: \"Photo uploaded succesfully, reload to see changes\"\r\n        });\r\n      } catch (e) {\r\n        if (timesTried > 5) {\r\n          setAlert({\r\n            visible: true,\r\n            type: \"error\",\r\n            content: \"error uploading photo :(\"\r\n          });\r\n          return;\r\n        }\r\n        setTimeout(() => tryToRequest(timesTried + 1), 500);\r\n      }\r\n    };\r\n    setTimeout(() => tryToRequest(0), 500);\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    let flag = description !== user.description;\r\n    if (editing.displayName) {\r\n      flag = true;\r\n      if (\r\n        allUsers.users.find(u => u.displayName === displayName) !== undefined\r\n      ) {\r\n        setAlert({\r\n          visible: true,\r\n          type: \"error\",\r\n          content: \"Username is already in use\"\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (editing.cfUsername) {\r\n      flag = true;\r\n      if (\r\n        !window.confirm(\r\n          \"Changing codeforces username will require a confirmation, are you sure?\"\r\n        )\r\n      )\r\n        return;\r\n    }\r\n    if (editing.vjudgeUsername) {\r\n      flag = true;\r\n      if (\r\n        allUsers.users.find(u => u.vjudgeUsername === vjudgeUsername) !==\r\n        undefined\r\n      ) {\r\n        setAlert({\r\n          visible: true,\r\n          type: \"error\",\r\n          content: \"Vjudge username is already in use\"\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (flag) {\r\n      const userRef = firestore.doc(`users/${user.uid}`);\r\n\r\n      try {\r\n        await userRef.update({\r\n          displayName: displayName,\r\n          codeForcesUsername: cfUsername,\r\n          vjudgeUsername: vjudgeUsername,\r\n          description: description,\r\n          cfConfirmed: Boolean(!editing.cfUsername && user.cfConfirmed)\r\n        });\r\n        setIsEditing(false);\r\n        setAlert({\r\n          visible: true,\r\n          type: \"success\",\r\n          content: \"User updated succesfuly, reload page\"\r\n        });\r\n      } catch (e) {\r\n        console.error(e);\r\n        setAlert({\r\n          visible: true,\r\n          type: \"error\",\r\n          content: \"Something bad happened :(\"\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {alert.visible && (\r\n        <TopPopup\r\n          className={alert.type}\r\n          onClick={() => setAlert({ visible: false })}\r\n        >\r\n          {alert.content}\r\n        </TopPopup>\r\n      )}\r\n      {!user.isLoading && !user.logged ? (\r\n        <div>404 xd</div>\r\n      ) : !isEditing ? (\r\n        <Profile\r\n          match={{ params: { id: user.uid } }}\r\n          self={true}\r\n          onClick={() => setIsEditing(true)}\r\n        />\r\n      ) : (\r\n            <div className=\"cac_profile\">\r\n              <div className=\"cac_profile_photo-container\">\r\n                <img\r\n                  src={user.photoURL}\r\n                  alt={user.displayName}\r\n                  className=\"cac_profile_photo\"\r\n                />\r\n                <label htmlFor=\"photo\" className=\"cac_profile_photo_edit\">\r\n                  Upload new photo\r\n            </label>\r\n                <input\r\n                  style={{ display: \"none\" }}\r\n                  id=\"photo\"\r\n                  type=\"file\"\r\n                  name=\"file\"\r\n                  accept=\"image/png, image/jpeg\"\r\n                  onChange={handleUpload}\r\n                />\r\n              </div>\r\n              <div className=\"cac_profile_information\">\r\n                {!editing.displayName ? (\r\n                  <ColoredName rank={user.rank} className=\"cac_profile_name\">\r\n                    {user.displayName}\r\n                    <Pencil\r\n                      className=\"cac_profile_edit-svg\"\r\n                      onClick={() => setEditing(e => ({ ...e, displayName: true }))}\r\n                    />\r\n                  </ColoredName>\r\n                ) : (\r\n                    <>\r\n                      <span className=\"cac_profile_label\">Display Name:</span>\r\n                      <textarea\r\n                        className=\"cac_profile_text-area\"\r\n                        value={displayName}\r\n                        onChange={e => setDisplayName(e.target.value)}\r\n                      />\r\n                    </>\r\n                  )}\r\n                <ColoredName rank={user.rank} className=\"cac_profile_rank\">\r\n                  {user.rank}, {user.rating}\r\n                </ColoredName>\r\n                {!editing.cfUsername ? (\r\n                  <span className=\"cac_profile_label\">\r\n                    CodeForces:\r\n                    <a\r\n                      className=\"cac_profile_link\"\r\n                      href={`https://codeforces.com/profile/${user.codeForcesUsername}`}\r\n                    >\r\n                      {user.codeForcesUsername}\r\n                    </a>\r\n                    <Pencil\r\n                      className=\"cac_profile_edit-svg\"\r\n                      onClick={() => setEditing(e => ({ ...e, cfUsername: true }))}\r\n                    />\r\n                  </span>\r\n                ) : (\r\n                    <>\r\n                      <span className=\"cac_profile_label\">CodeForces:</span>\r\n                      <textarea\r\n                        className=\"cac_profile_text-area\"\r\n                        value={cfUsername}\r\n                        onChange={e => setCfUsername(e.target.value)}\r\n                      />\r\n                    </>\r\n                  )}\r\n                {!editing.vjudgeUsername ? (\r\n                  <span className=\"cac_profile_label\">\r\n                    Vjudge:\r\n                    <a\r\n                      className=\"cac_profile_link\"\r\n                      href={`https://vjudge.net/user/${user.codeForcesUsername}`}\r\n                    >\r\n                      {user.vjudgeUsername}\r\n                    </a>\r\n                    <Pencil\r\n                      className=\"cac_profile_edit-svg\"\r\n                      onClick={() =>\r\n                        setEditing(e => ({ ...e, vjudgeUsername: true }))\r\n                      }\r\n                    />\r\n                  </span>\r\n                ) : (\r\n                    <>\r\n                      <span className=\"cac_profile_label\">Vjudge:</span>\r\n                      <textarea\r\n                        className=\"cac_profile_text-area\"\r\n                        value={vjudgeUsername}\r\n                        onChange={e => setVjUsername(e.target.value)}\r\n                      />\r\n                    </>\r\n                  )}\r\n                <span className=\"cac_profile_label\">Email: {user.email}</span>\r\n                <span className=\"cac_profile_label\">Introduction:</span>\r\n                <textarea\r\n                  className=\"cac_profile_description-editing\"\r\n                  value={description}\r\n                  onChange={e => setDescription(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n              <div className=\"cac_profile_buttons\">\r\n                <Button\r\n                  className=\" cac_profile_edit cac_profile_cancel\"\r\n                  onClick={() => setIsEditing(false)}\r\n                >\r\n                  Cancel\r\n            </Button>\r\n                <Button\r\n                  className=\"cac_profile_edit\"\r\n                  onClick={() => handleConfirm()}\r\n                >\r\n                  Save\r\n            </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n    </>\r\n  );\r\n};\r\nexport default SelfProfile;\r\n"],"sourceRoot":""}