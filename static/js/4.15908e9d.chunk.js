/*! For license information please see 4.15908e9d.chunk.js.LICENSE */
(this.webpackJsonpcac_site=this.webpackJsonpcac_site||[]).push([[4,8],{100:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return s}));var n=function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December";default:return null}},c=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,c=0;c<e;c++)t+=a[Math.floor(Math.random()*n)];return t},r=/<br>|<\/br>|<br\/>/gi,s=function(e){return e.replace(r,"")}},101:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(21),s=a(17),o=a(5),l=a(20),i=a.n(l);a(147);t.a=function(e){var t=e.user,a=e.className,n=e.onClick,l=e.redirect,u=void 0===l||l,d=Object(s.g)();return c.a.createElement("div",{className:"cac_user-box ".concat(a||""," ").concat(u?"":"cac_user-box--redirect"),onClick:n},c.a.createElement("img",{onClick:function(){return u&&d.push("/profile/".concat(t.id))},className:"cac_user-box_photo",src:t.photoURL||i.a,alt:t.displayName}),c.a.createElement("div",{className:"cac_user-box_text"},u?c.a.createElement(o.b,{to:"/profile/".concat(t.id),className:"cac_user-box_name--link"},c.a.createElement(r.a,{rank:t.rank,className:"cac_user-box_name"},t.displayName)):c.a.createElement(r.a,{rank:t.rank,className:"cac_user-box_name"},t.displayName),c.a.createElement(r.a,{rank:t.rank,className:"cac_user-box_ranking"},t.rating||"")))}},103:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){"use strict";var n=a(1),c=a(4),r=a.n(c),s=a(3),o=a(0),l=a.n(o),i=a(6),u=a(17),d=a(5),m=a(117),p=a.n(m),f=a(120),v=a.n(f),_=a(533),b=a(530),h=(a(109),function(e){var t=e.language,a=void 0===t?null:t,n=e.value;return l.a.createElement(_.a,{language:a,style:b.a},n)}),E=a(100),y=(a(111),v()({isValidNode:function(e){return"script"!==e.type&&"break"!==e.type}})),N=function(e){var t=e.content,a=void 0===t?"":t,n=e.className,c=void 0===n?"":n;return l.a.createElement(p.a,{className:"cac_markdown ".concat(c),source:Object(E.c)(a),renderers:{code:h},escapeHtml:!1,astPlugins:[y]})},g=a(106),k=a.n(g),O=a(21),j=a(25),w=a(20),C=a.n(w),x=(a(112),a(32),function(e){var t=e.handleDelete,a=void 0===t?function(){return console.log("?>?")}:t,n=e.user,c=e.author,r=e.date,s=e.content;return l.a.createElement("div",{className:"cac_commentary"},l.a.createElement("div",{className:"cac_commentary_heading"},l.a.createElement("img",{src:c&&c.photoURL||C.a,alt:c?c.displayName:"",className:"cac_commentary_photo"}),l.a.createElement("div",{className:"cac_commentary_heading_text"},l.a.createElement(d.b,{to:"/profile/".concat(c.id),className:"cac_commentary_name--link"},l.a.createElement(O.a,{className:"cac_commentary_name",rank:c?c.rank:null},c?c.displayName:"")),l.a.createElement(k.a,{className:"cac_post_date",date:r.toDate()})),l.a.createElement(j.a,{handleDelete:a,className:"cac_commentary_options",user:n,author:c})),l.a.createElement(N,{content:s,className:"cac_commentary_content"}))}),S=function(){return l.a.createElement("div",{className:"cac_commentary cac_loading-commentary"},l.a.createElement("div",{className:"gradient cac_loading-commentary_photo"}),l.a.createElement("div",{className:"gradient cac_loading-commentary_name"}),l.a.createElement("div",{className:"gradient cac_loading_commentary_content"}))},D=a(9);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var A=l.a.createElement("title",null,"ionicons-v5-f"),F=function(e){var t=e.svgRef,a=e.title,n=P(e,["svgRef","title"]);return l.a.createElement("svg",L({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?A:a?l.a.createElement("title",null,a):null,l.a.createElement("path",{d:"M352.92,80C288,80,256,144,256,144s-32-64-96.92-64C106.32,80,64.54,124.14,64,176.81c-1.1,109.33,86.73,187.08,183,252.42a16,16,0,0,0,18,0c96.26-65.34,184.09-143.09,183-252.42C447.46,124.14,405.68,80,352.92,80Z",style:{fill:"auto",stroke:"auto",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32}}))},R=l.a.forwardRef((function(e,t){return l.a.createElement(F,L({svgRef:t},e))}));a.p;function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var U=l.a.createElement("title",null,"ionicons-v5-l"),T=function(e){var t=e.svgRef,a=e.title,n=M(e,["svgRef","title"]);return l.a.createElement("svg",V({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?U:a?l.a.createElement("title",null,a):null,l.a.createElement("path",{d:"M408,64H104a56.16,56.16,0,0,0-56,56V312a56.16,56.16,0,0,0,56,56h40v80l93.72-78.14a8,8,0,0,1,5.13-1.86H408a56.16,56.16,0,0,0,56-56V120A56.16,56.16,0,0,0,408,64Z",style:{fill:"auto",stroke:"auto",strokeLinejoin:"round",strokeWidth:32}}))},H=l.a.forwardRef((function(e,t){return l.a.createElement(T,V({svgRef:t},e))}));a.p;function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var W=l.a.createElement("title",null,"ionicons-v5-h"),q=function(e){var t=e.svgRef,a=e.title,n=J(e,["svgRef","title"]);return l.a.createElement("svg",I({width:512,height:512,viewBox:"0 0 512 512",ref:t},n),void 0===a?W:a?l.a.createElement("title",null,a):null,l.a.createElement("path",{d:"M352,48H160a48,48,0,0,0-48,48V464L256,336,400,464V96A48,48,0,0,0,352,48Z",style:{fill:"auto",stroke:"auto",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32}}))},B=l.a.forwardRef((function(e,t){return l.a.createElement(q,I({svgRef:t},e))}));a.p,a(113),a(145),t.a=function(e){var t,a=e.user,c=e.from,m=void 0===c?"posts":c,p=e.showAuthor,f=void 0===p||p,v=e.enableLink,_=void 0===v||v,b=e.data,h=e.allUsers,E=e.preview,y=void 0!==E&&E,g=e.cropContent,w=void 0!==g&&g,L=e.commentary,P=void 0===L?{handleAddCommentary:function(){return null},showCommentaries:!1}:L,A=e.onClick,F=void 0===A?function(){return null}:A,V=e.parentHandleDelete,M=void 0===V?function(){return null}:V;t=h[b.author.id]||t;var U=Object(o.useState)(""),T=Object(s.a)(U,2),I=T[0],J=T[1],W=Object(o.useState)(!y&&a.logged&&b.likesList.includes(a.uid)),q=Object(s.a)(W,2),Z=q[0],Y=q[1],z=Object(o.useState)(!y&&a.logged&&a.saved.includes(b.id)),G=Object(s.a)(z,2),K=G[0],Q=G[1],X=Object(u.g)(),$=Object(o.useState)(y?0:b.likesList.length),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=function(e){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=i.d.doc("commentaries/".concat(b.id)),console.log(e),a.next=4,r.a.awrap(t.update({commentaries:i.c.firestore.FieldValue.arrayRemove(e)}));case 4:case"end":return a.stop()}}))};return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement("div",{className:"cac_post ".concat(w?"cac_post--crop":""),onClick:F},l.a.createElement("div",{className:"cac_post_heading"},f&&l.a.createElement("img",{src:t.photoURL||C.a,className:"cac_post_heading_photo",alt:t.displayName,onClick:function(e){e.stopPropagation(),X.push("/profile/".concat(t.id))}}),l.a.createElement("div",{className:"cac_post_text-container"},_?l.a.createElement(d.b,{to:"/".concat(m,"/").concat(b.id),className:"cac_post_title cac_post_title--link"},b.title):l.a.createElement("span",{className:"cac_post_title"},b.title),f&&l.a.createElement("span",{onClick:function(e){e.stopPropagation(),X.push("/profile/".concat(t.id))},className:"cac_post_author--link"},l.a.createElement(O.a,{className:"cac_post_author",rank:t.rank},t.displayName)),y?l.a.createElement("span",{className:"cac_post_date"},b.date):l.a.createElement(k.a,{className:"cac_post_date",live:!1,date:b.timestamp?b.timestamp.toDate():new Date})),l.a.createElement(j.a,{className:"cac_post_options",user:a,author:t,handleDelete:function(){var e=i.d.doc("test-posts/".concat(b.id));console.log("eee"),e.delete(),M()}})),l.a.createElement(N,{content:b.content,className:"cac_post_content markdown-body ".concat(w?"cac_post_content--crop":"")}),l.a.createElement("div",{className:"cac_post_interaction"},l.a.createElement("div",{className:"cac_post_interaction-box",onClick:function(e){e.stopPropagation();!y&&a.logged?function(){var e;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(Y(!Z),e=i.d.doc("test-posts/".concat(b.id)),Z){t.next=8;break}return ae(te+1),t.next=6,r.a.awrap(e.update({likesList:i.c.firestore.FieldValue.arrayUnion(a.uid)}));case 6:t.next=11;break;case 8:return ae(te-1),t.next=11,r.a.awrap(e.update({likesList:i.c.firestore.FieldValue.arrayRemove(a.uid)}));case 11:case"end":return t.stop()}}))}():alert("You need to sign in to like posts")}},l.a.createElement("span",{className:"cac_post_interaction-counter"},te),l.a.createElement(R,{className:"cac_post_icon cac_post_heart ".concat(Z?"cac_post_heart--filled":"")}),l.a.createElement("span",{className:"cac_post_interaction-label"},"Like")),l.a.createElement("div",{className:"cac_post_interaction-box cac_post_interaction-box--comment"},l.a.createElement("span",{className:"cac_post_interaction-counter"},b.comments.length),l.a.createElement(H,{className:"cac_post_icon cac_post_comment"}),l.a.createElement("span",{className:"cac_post_interaction-label"},"Comment")),l.a.createElement("div",{className:"cac_post_interaction-box",onClick:function(e){e.stopPropagation();!y&&a.logged?function(){var e;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.d.doc("users/".concat(a.uid)),Q(!K),K){t.next=7;break}return t.next=5,r.a.awrap(e.update({saved:i.c.firestore.FieldValue.arrayUnion(b.id)}));case 5:t.next=9;break;case 7:return t.next=9,r.a.awrap(e.update({saved:i.c.firestore.FieldValue.arrayRemove(b.id)}));case 9:case"end":return t.stop()}}))}():alert("you need to sign in to save posts")}},l.a.createElement(B,{className:"cac_post_icon cac_post_bookmark ".concat(K?"cac_post_bookmark--filled":"")}),l.a.createElement("span",{className:"cac_post_interaction-label"},"Save"))),P.showCommentaries&&l.a.createElement("div",{className:"cac_post_commentaries-section"},a.logged&&l.a.createElement("div",{className:"cac_post_create-commentary"},l.a.createElement("textarea",{className:"cac_post_create-commentary_textarea",value:I,onChange:function(e){return J(e.target.value)}}),l.a.createElement(D.b,{className:"cac_poist_create-commentary_button",onClick:function(){P.handleAddCommentary(I),J("")}},"Comment")),l.a.createElement("div",{className:"cac_post_commentaries"},P.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement(S,null),l.a.createElement(S,null),l.a.createElement(S,null)):P.data.sort((function(e,t){return t.date.toDate()-e.date.toDate()})).map((function(e,t){return l.a.createElement(x,{handleDelete:function(){return ne(e)},postRef:"".concat(m,"/").concat(e.id),key:t,user:a,author:Object(n.a)({id:e.author},h[e.author]),content:e.content,date:e.date})}))))))}},115:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",(function(){return n}))},122:function(e,t){},125:function(e,t,a){"use strict";var n=a(115),c=a(3),r=a(0),s=a.n(r),o=a(7),l=a(101),i=(a(148),function(e){var t=e.handleUserClick,a=Object(r.useContext)(o.a),n=Object(r.useState)(""),i=Object(c.a)(n,2),u=i[0],d=i[1],m=Object(r.useState)(!0),p=Object(c.a)(m,2),f=p[0],v=p[1],_=Object(r.useState)([]),b=Object(c.a)(_,2),h=b[0],E=b[1],y=Object(r.useState)(),N=Object(c.a)(y,2),g=N[0],k=N[1];return Object(r.useEffect)((function(){if(!a.isCFLoading&&f&&g!==u){v(!1),k(u);var e=u.toLocaleLowerCase();E(a.users.filter((function(t){return t.displayName.toLocaleLowerCase().includes(e)}))),setTimeout((function(){v(!0)}),250)}}),[u,f,g,a]),s.a.createElement("div",{className:"cac_search-user"},s.a.createElement("input",{type:"text",className:"cac_search-user_input",value:u,placeholder:"User name",onChange:function(e){return d(e.target.value)}}),s.a.createElement("div",{className:"cac_search_users-container"},h.map((function(e,a){return s.a.createElement(l.a,{redirect:!1,key:a,user:e,onClick:function(){return t(e)}})}))))}),u=a(9);a(149),t.a=function(e){var t=e.close,a=e.handleConfirm,o=Object(r.useState)([]),d=Object(c.a)(o,2),m=d[0],p=d[1];return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]),s.a.createElement("div",{className:"cac_select-users"},s.a.createElement(i,{handleUserClick:function(e){-1===m.findIndex((function(t){return t.id===e.id}))&&p([].concat(Object(n.a)(m),[e]))}}),s.a.createElement("span",{className:"cac_select-users_title"},"Selected"),s.a.createElement("div",{className:"cac_select-users_users"},m.map((function(e){return s.a.createElement(l.a,{redirect:!1,key:e.id,user:e,onClick:function(){return function(e){p(m.filter((function(t){return t.id!==e.id})))}(e)}})}))),s.a.createElement("div",{className:"cac_select-users_button-container"},s.a.createElement(u.b,{onClick:t,className:"cac_select-users_button cac_select-users_button--cancel"},"Cancel"),s.a.createElement(u.b,{onClick:function(){m.length>0&&(a(m),t())},className:"cac_select-users_button cac_select-users_button ".concat(m.length>0?"":"cac_select-users_button-container--disabled")},"Confirm")))}},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);var n=a(115),c=a(1),r=a(4),s=a.n(r),o=a(3),l=a(0),i=a.n(l),u=a(17),d=a(6),m=a(33),p=a(7),f=a(101),v=a(9),_=a(99),b=a(125);a(150);t.default=function(e){var t=Object(l.useContext)(m.a),a=Object(l.useContext)(p.c),r=Object(l.useContext)(p.a).usersMap,h=Object(l.useState)(!1),E=Object(o.a)(h,2),y=E[0],N=E[1],g=Object(l.useState)(!1),k=Object(o.a)(g,2),O=k[0],j=k[1],w=Object(l.useState)(!1),C=Object(o.a)(w,2),x=C[0],S=C[1],D=Object(l.useState)({open:!1,description:"",type:""}),L=Object(o.a)(D,2),P=L[0],A=L[1],F=e.preview,R=Object(u.g)(),V=F?e.classData:t.classData,M=(e.match.params||V).code;Object(l.useEffect)((function(){!F&&a.logged&&!a.isLoading&&V.isDataAvailable&&!O&&V.active&&function(){var e;s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d.d.doc("class/".concat(M)),void 0!==V.attendances.find((function(e){return e.id===a.uid}))){t.next=4;break}return t.next=4,s.a.awrap(e.update({attendances:d.c.firestore.FieldValue.arrayUnion({id:a.uid,displayName:a.displayName})}));case 4:j(!0);case 5:case"end":return t.stop()}}))}()}),[O,a,V,M,F]),Object(l.useEffect)((function(){F||(M!==V.code?t.setClassData((function(e){return Object(c.a)({},e,{code:M})})):V.validCode||N(!0))}),[M,a,V,t,F]);return Object(l.useEffect)((function(){V.isDataAvailable&&!V.active&&A({open:!0,type:"error",description:"Class ended"})}),[V.isDataAvailable,V.active]),i.a.createElement("div",{className:"cac_attendance cac_attendance--in-class"},P.open&&i.a.createElement(_.a,{onClick:function(){return A({open:!1})},className:P.type},P.description),y&&i.a.createElement(u.a,{to:"/attendance"}),x&&i.a.createElement(_.b,null,i.a.createElement(b.a,{close:function(){return S(!1)},handleConfirm:function(e){var t,a;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return S(!1),a=d.d.doc("class/".concat(M)),c.next=4,s.a.awrap(a.update({attendances:(t=d.c.firestore.FieldValue).arrayUnion.apply(t,Object(n.a)(e.map((function(e){return{id:e.id,displayName:e.displayName}}))))}));case 4:case"end":return c.stop()}}))}})),(V.isDataAvailable||F)&&i.a.createElement("div",{className:"cac_attendance_class"},i.a.createElement("h3",{className:"cac_attendance_title"},V.title),i.a.createElement("span",{className:"cac_attendance_date"},F?V.date:V.date.toDate().toDateString()),i.a.createElement("div",{className:"cac_attendance_code-container"},i.a.createElement("span",{className:"cac_attendance_code-title"},"Code"),i.a.createElement("span",{className:"cac_attendance_code-code"},V.code)),i.a.createElement("div",{className:"cac_attendance_speakers-container"},i.a.createElement("span",{className:"cac_attendance_speakers-title"},"Speakers"),V.speakers.map((function(e,t){return i.a.createElement(f.a,{key:t,className:"cac_attendance_speaker_user-box",user:r[e.id]||e})}))),i.a.createElement("div",{className:"cac_attendance_description-container"},i.a.createElement("p",{className:"cac_attendance_description-title"},"Description"),i.a.createElement("p",{className:"cac_attendance_description-text"},V.description)),i.a.createElement("div",{className:"cac_attendance_attendant-container"},V.attendances.map((function(e,t){return i.a.createElement(f.a,{key:t,className:"cac_attendance_attendant",user:r[e.id]||e})})))),i.a.createElement("div",{className:"cac_attendance_buttons"},i.a.createElement(v.b,{className:"cac_attendance_button cac_attendance_add",onClick:function(){console.log(t),R.push("/attendance"),t.setClassData({isDataAvailable:!1,code:""})}},"Change"),a.isAdmin&&i.a.createElement(i.a.Fragment,null,i.a.createElement(v.b,{className:"cac_attendance_button cac_attendance_end",onClick:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(F||!V.active){t.next=4;break}return e=d.d.doc("class/".concat(M)),t.next=4,s.a.awrap(e.update({active:!1}));case 4:case"end":return t.stop()}}))}},"End class"),i.a.createElement(v.b,{className:"cac_attendance_button cac_attendance_add",onClick:function(){F||S(!0)}},"Add people"))))}},522:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),r=l(c),s=l(a(27)),o=l(a(523));function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={selected:a.parseValue(e.value,e.options)||{label:"undefined"===typeof e.placeholder?"Select...":e.placeholder,value:""},isOpen:!1},a.mounted=!0,a.handleDocumentClick=a.handleDocumentClick.bind(a),a.fireChangeEvent=a.fireChangeEvent.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillReceiveProps",value:function(e){if(e.value){var t=this.parseValue(e.value,e.options);t!==this.state.selected&&this.setState({selected:t})}else this.setState({selected:{label:"undefined"===typeof e.placeholder?"Select...":e.placeholder,value:""}})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"handleMouseDown",value:function(e){this.props.onFocus&&"function"===typeof this.props.onFocus&&this.props.onFocus(this.state.isOpen),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen}))}},{key:"parseValue",value:function(e,t){var a=void 0;if("string"===typeof e)for(var n=0,c=t.length;n<c;n++)if("group"===t[n].type){var r=t[n].items.filter((function(t){return t.value===e}));r.length&&(a=r[0])}else"undefined"!==typeof t[n].value&&t[n].value===e&&(a=t[n]);return a||e}},{key:"setValue",value:function(e,t){var a={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(a),this.setState(a)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(e){var t,a=e.value;"undefined"===typeof a&&(a=e.label||e);var n=e.label||e.value||e,c=a===this.state.selected.value||a===this.state.selected,s=(i(t={},this.props.baseClassName+"-option",!0),i(t,e.className,!!e.className),i(t,"is-selected",c),t),l=(0,o.default)(s);return r.default.createElement("div",{key:a,className:l,onMouseDown:this.setValue.bind(this,a,n),onClick:this.setValue.bind(this,a,n),role:"option","aria-selected":c?"true":"false"},n)}},{key:"buildMenu",value:function(){var e=this,t=this.props,a=t.options,n=t.baseClassName,c=a.map((function(t){if("group"===t.type){var a=r.default.createElement("div",{className:n+"-title"},t.name),c=t.items.map((function(t){return e.renderOption(t)}));return r.default.createElement("div",{className:n+"-group",key:t.name,role:"listbox",tabIndex:"-1"},a,c)}return e.renderOption(t)}));return c.length?c:r.default.createElement("div",{className:n+"-noresults"},"No options found")}},{key:"handleDocumentClick",value:function(e){this.mounted&&(s.default.findDOMNode(this).contains(e.target)||this.state.isOpen&&this.setState({isOpen:!1}))}},{key:"isValueSelected",value:function(){return"string"===typeof this.state.selected||""!==this.state.selected.value}},{key:"render",value:function(){var e,t,a,n,c,s=this.props,l=s.baseClassName,u=s.controlClassName,d=s.placeholderClassName,m=s.menuClassName,p=s.arrowClassName,f=s.arrowClosed,v=s.arrowOpen,_=s.className,b=this.props.disabled?"Dropdown-disabled":"",h="string"===typeof this.state.selected?this.state.selected:this.state.selected.label,E=(0,o.default)((i(e={},l+"-root",!0),i(e,_,!!_),i(e,"is-open",this.state.isOpen),e)),y=(0,o.default)((i(t={},l+"-control",!0),i(t,u,!!u),i(t,b,!!b),t)),N=(0,o.default)((i(a={},l+"-placeholder",!0),i(a,d,!!d),i(a,"is-selected",this.isValueSelected()),a)),g=(0,o.default)((i(n={},l+"-menu",!0),i(n,m,!!m),n)),k=(0,o.default)((i(c={},l+"-arrow",!0),i(c,p,!!p),c)),O=r.default.createElement("div",{className:N},h),j=this.state.isOpen?r.default.createElement("div",{className:g,"aria-expanded":"true"},this.buildMenu()):null;return r.default.createElement("div",{className:E},r.default.createElement("div",{className:y,onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this),"aria-haspopup":"listbox"},O,r.default.createElement("div",{className:l+"-arrow-wrapper"},v&&f?this.state.isOpen?v:f:r.default.createElement("span",{className:k}))),j)}}]),t}(c.Component);u.defaultProps={baseClassName:"Dropdown"},t.default=u},523:function(e,t,a){var n;!function(){"use strict";var a={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var s=c.apply(null,n);s&&e.push(s)}else if("object"===r)for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n)}()},524:function(e,t,a){},525:function(e,t,a){},526:function(e,t,a){},535:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(0),r=a.n(c),s=a(17),o=a(522),l=a.n(o),i=(a(524),a(4)),u=a.n(i),d=a(6),m=a(9),p=a(125),f=a(101),v=a(99),_=a(189),b=a(100),h=(a(525),a(151),[{uid:"123123124",displayName:"Erick",rank:"pupil",rating:1200},{uid:"hkhaksdh12",displayName:"Jorge ivan",rank:"expert",rating:1520},{uid:"uid de otro wey",displayName:"Franco",rank:"expert",rating:2624},{uid:"uid de otro wey",displayName:"Crystal",rank:"expert",rating:2624}]),E=function(e){var t=e.preview,a=Object(c.useState)(""),s=Object(n.a)(a,2),o=s[0],l=s[1],i=Object(c.useState)(""),E=Object(n.a)(i,2),y=E[0],N=E[1],g=Object(c.useState)(""),k=Object(n.a)(g,2),O=k[0],j=k[1],w=Object(c.useState)(""),C=Object(n.a)(w,2),x=C[0],S=C[1],D=Object(c.useState)([]),L=Object(n.a)(D,2),P=L[0],A=L[1],F=Object(c.useState)(!1),R=Object(n.a)(F,2),V=R[0],M=R[1],U=Object(c.useState)(!1),T=Object(n.a)(U,2),H=T[0],I=T[1],J=Object(c.useState)({open:!1,description:"",type:""}),W=Object(n.a)(J,2),q=W[0],B=W[1],Z=function(){if(!(o&&x&&O&&P.length>0))return!1;var e=new Date(y);return!isNaN(e.getTime())};return r.a.createElement(r.a.Fragment,null,q.open&&r.a.createElement(v.a,{onClick:function(){B({open:!1})},className:q.type},q.description),t?r.a.createElement(_.default,{preview:!0,classData:{title:o,date:y,description:O,code:x,speakers:P,attendances:h},match:{params:null}}):r.a.createElement("div",{className:"cac_create_class"},H&&r.a.createElement(v.b,null,r.a.createElement(p.a,{close:function(){return I(!1)},handleConfirm:A})),r.a.createElement("div",{className:"cac_create_class--left"},r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"title",className:"cac_create_title"},"Title"),r.a.createElement("input",{name:"title",id:"title",type:"text",className:"cac_create_input cac_create_input--title",value:o,onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"title",className:"cac_create_title"},"Date (mm/dd/yy)"),r.a.createElement("input",{name:"date",id:"date",type:"text",className:"cac_create_input cac_create_input--title",value:y,onChange:function(e){return N(e.target.value)}})),r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"description",className:"cac_create_title"},"Description"),r.a.createElement("textarea",{name:"description",id:"description",className:"cac_create_textarea",value:O,required:!0,onChange:function(e){return j(e.target.value)}}))),r.a.createElement("div",{className:"cac_create_class--right"},r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"code",className:"cac_create_title"},"Code"),r.a.createElement("input",{name:"code",id:"code",type:"text",className:" cac_create_input cac_create_input--title cac_create_class_code",value:x,minLength:"3",maxLength:"6",required:!0,onChange:function(e){return S(e.target.value)}}),r.a.createElement(m.b,{className:"cac_create_button cac_create_class_button",onClick:function(){return S(Object(b.a)(6))}},"Random code")),r.a.createElement("div",{className:"cac_create_section cac_create_cass_speakers"},r.a.createElement("span",{className:"cac_create_title"},"Speakers"),P.map((function(e,t){return r.a.createElement(f.a,{key:e.displayName,user:e,className:"cac_create_speaker"})})),r.a.createElement(m.b,{className:"cac_create_button cac_create_class_button",onClick:function(){return I(!0)}},"Add")))),r.a.createElement(m.b,{className:"cac_create_class_post",onClick:function(){var e,t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(V){a.next=30;break}if(!Z()){a.next=29;break}return M(!0),e={title:o,date:new Date(y),description:O,code:x,active:!0,speakers:P.map((function(e){return{id:e.id,displayName:e.displayName}})),attendances:[]},t=d.d.doc("class/".concat(x)),a.next=7,u.a.awrap(t.get());case 7:if(a.sent.exists){a.next=25;break}return a.prev=9,a.next=12,u.a.awrap(t.set(e));case 12:B({open:!0,description:"Class created successfully",type:"success"}),l(""),N(""),S(""),A([]),j(""),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(9),console.error("Error creating class",a.t0.mesage);case 23:a.next=26;break;case 25:B({open:!0,description:"Code is already in use",type:"error"});case 26:M(!1),a.next=30;break;case 29:B({open:!0,description:"Verify all information",type:"error"});case 30:case"end":return a.stop()}}),null,null,[[9,20]])}},"Post"))},y=a(7),N=a(114),g=(a(526),function(e){var t=e.preview,a=e.type,s=void 0===a?"home":a,o=e.showAuthor,l=void 0===o||o,i=Object(c.useContext)(y.c),p=Object(c.useContext)(y.a),f=Object(c.useState)(""),_=Object(n.a)(f,2),b=_[0],h=_[1],E=Object(c.useState)(""),g=Object(n.a)(E,2),k=g[0],O=g[1],j=Object(c.useState)(!1),w=Object(n.a)(j,2),C=w[0],x=w[1],S=Object(c.useState)({visible:!1,content:"",type:""}),D=Object(n.a)(S,2),L=D[0],P=D[1];return r.a.createElement(r.a.Fragment,null,L.visible&&r.a.createElement(v.a,{className:L.type,onClick:function(){return P({visible:!1})}},L.content),t?r.a.createElement(N.a,{preview:!0,allUsers:p.usersMap,enableLink:!1,author:i,showAuthor:l,data:{title:b,author:{id:i.uid},content:k,date:"just now",comments:[],likesList:[]}}):r.a.createElement("div",{className:"cac_create_post"},r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"title",className:"cac_create_title"},"Title"),r.a.createElement("input",{name:"title",id:"title",type:"text",className:"cac_create_input cac_create_input--title",value:b,onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"description",className:"cac_create_title"},"Content"),r.a.createElement("textarea",{name:"description",id:"description",className:"cac_create_textarea",value:k,required:!0,onChange:function(e){return O(e.target.value)}}))),r.a.createElement(m.b,{className:"cac_create_post_post",onClick:function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(C||!b||!k){t.next=16;break}return x(!0),e={title:b,content:k,type:s,comments:[],likesList:[],author:{id:i.uid,displayName:i.displayName},timestamp:d.c.firestore.FieldValue.serverTimestamp(),key:Date.now()},t.prev=3,t.next=6,u.a.awrap(d.d.collection("test-posts").add(e));case 6:P({visible:!0,content:"Post published succesfully",type:"success"}),h(""),O(""),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.error(t.t0),P({visible:!0,content:"Error publishing post",type:"error"});case 15:x(!1);case 16:case"end":return t.stop()}}),null,null,[[3,11]])}},"Post"))});t.default=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),o=a[0],i=a[1],u=Object(c.useState)(""),d=Object(n.a)(u,2),p=d[0],f=d[1],v=Object(c.useState)(!1),_=Object(n.a)(v,2),b=_[0],h=_[1];Object(c.useEffect)((function(){}),[e]);var y=e.match||{params:{cid:""}};return r.a.createElement("div",{className:"cac_create"},r.a.createElement("div",{className:"cac_create_header"},r.a.createElement(l.a,{className:"cac_create_dropdown cac_create_dropdown--sections",options:[{value:"class",label:"Class"},{value:"homePost",label:"Home Post"},{value:"weeklyProblem",label:"Weekly problem"},{value:"editorial",label:"Editorial"},{value:"announcement",label:"Announcement"}],onChange:function(e){f("/create/".concat(e.value)),i(!0),h(!1)},value:y.params.cid,placeholder:"Select"}),r.a.createElement(m.b,{className:"cac_create_preview",onClick:function(){h(!b)}},b?"Edit":"Preview"),o&&r.a.createElement(s.a,{to:p})),"class"===y.params.cid&&r.a.createElement(E,{preview:b}),"homePost"===y.params.cid&&r.a.createElement(g,{preview:b,type:"home"}),"weeklyProblem"===y.params.cid&&r.a.createElement(g,{preview:b,type:"weekly-problem",showAuthor:!1}),"editorial"===y.params.cid&&r.a.createElement(g,{preview:b,type:"editorial",showAuthor:!1}))}},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),c=a.n(n);a(103);t.b=function(e){var t=e.children;return c.a.createElement("div",{className:"cac_popup"},t)};var r=function(e){var t=e.children,a=e.className,r=void 0===a?"error":a,s=e.onClick,o=void 0===s?function(){return null}:s;return Object(n.useEffect)((function(){var e=setTimeout((function(){o()}),5e3);return function(){return clearTimeout(e)}})),c.a.createElement("div",{onClick:o,className:"cac_popup-top ".concat(r||"")},t)}}}]);
//# sourceMappingURL=4.15908e9d.chunk.js.map