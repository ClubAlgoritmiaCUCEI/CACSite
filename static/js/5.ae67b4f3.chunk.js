/*! For license information please see 5.ae67b4f3.chunk.js.LICENSE */
(this.webpackJsonpcac_site=this.webpackJsonpcac_site||[]).push([[5,9],{106:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),c=a.n(n);a(109);t.b=function(e){var t=e.children;return c.a.createElement("div",{className:"cac_popup"},t)};var r=function(e){var t=e.children,a=e.className,r=void 0===a?"error":a,s=e.onClick,i=void 0===s?function(){return null}:s;return Object(n.useEffect)((function(){var e=setTimeout((function(){i()}),5e3);return function(){return clearTimeout(e)}})),c.a.createElement("div",{onClick:i,className:"cac_popup-top ".concat(r||"")},t)}},107:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(23),s=a(16),i=a(5),o=a(20),l=a.n(o);a(143);t.a=function(e){var t=e.user,a=e.className,n=e.onClick,o=e.redirect,u=void 0===o||o,d=Object(s.g)();return c.a.createElement("div",{className:"cac_user-box ".concat(a||""," ").concat(u?"":"cac_user-box--redirect"),onClick:n},c.a.createElement("img",{onClick:function(){return u&&d.push("/profile/".concat(t.id))},className:"cac_user-box_photo",src:t.photoURL||l.a,alt:t.displayName}),c.a.createElement("div",{className:"cac_user-box_text"},u?c.a.createElement(i.b,{to:"/profile/".concat(t.id),className:"cac_user-box_name--link"},c.a.createElement(r.a,{rank:t.rank,className:"cac_user-box_name"},t.displayName)):c.a.createElement(r.a,{rank:t.rank,className:"cac_user-box_name"},t.displayName),c.a.createElement(r.a,{rank:t.rank,className:"cac_user-box_ranking"},t.rating||"")))}},109:function(e,t,a){},115:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",(function(){return n}))},122:function(e,t,a){"use strict";var n=a(115),c=a(3),r=a(0),s=a.n(r),i=a(7),o=a(107),l=(a(144),function(e){var t=e.handleUserClick,a=Object(r.useContext)(i.a),n=Object(r.useState)(""),l=Object(c.a)(n,2),u=l[0],d=l[1],p=Object(r.useState)(!0),m=Object(c.a)(p,2),f=m[0],h=m[1],v=Object(r.useState)([]),b=Object(c.a)(v,2),_=b[0],y=b[1],E=Object(r.useState)(),N=Object(c.a)(E,2),g=N[0],O=N[1];return Object(r.useEffect)((function(){if(!a.isCFLoading&&f&&g!==u){h(!1),O(u);var e=u.toLocaleLowerCase();y(a.users.filter((function(t){return t.displayName.toLocaleLowerCase().includes(e)}))),setTimeout((function(){h(!0)}),250)}}),[u,f,g,a]),s.a.createElement("div",{className:"cac_search-user"},s.a.createElement("input",{type:"text",className:"cac_search-user_input",value:u,placeholder:"User name",onChange:function(e){return d(e.target.value)}}),s.a.createElement("div",{className:"cac_search_users-container"},_.map((function(e,a){return s.a.createElement(o.a,{redirect:!1,key:a,user:e,onClick:function(){return t(e)}})}))))}),u=a(9);a(145),t.a=function(e){var t=e.close,a=e.handleConfirm,i=Object(r.useState)([]),d=Object(c.a)(i,2),p=d[0],m=d[1];return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]),s.a.createElement("div",{className:"cac_select-users"},s.a.createElement(l,{handleUserClick:function(e){-1===p.findIndex((function(t){return t.id===e.id}))&&m([].concat(Object(n.a)(p),[e]))}}),s.a.createElement("span",{className:"cac_select-users_title"},"Selected"),s.a.createElement("div",{className:"cac_select-users_users"},p.map((function(e){return s.a.createElement(o.a,{redirect:!1,key:e.id,user:e,onClick:function(){return function(e){m(p.filter((function(t){return t.id!==e.id})))}(e)}})}))),s.a.createElement("div",{className:"cac_select-users_button-container"},s.a.createElement(u.b,{onClick:t,className:"cac_select-users_button cac_select-users_button--cancel"},"Cancel"),s.a.createElement(u.b,{onClick:function(){p.length>0&&(a(p),t())},className:"cac_select-users_button cac_select-users_button ".concat(p.length>0?"":"cac_select-users_button-container--disabled")},"Confirm")))}},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);var n=a(115),c=a(1),r=a(4),s=a.n(r),i=a(3),o=a(0),l=a.n(o),u=a(16),d=a(6),p=a(32),m=a(7),f=a(107),h=a(9),v=a(106),b=a(122);a(146);t.default=function(e){var t=Object(o.useContext)(p.a),a=Object(o.useContext)(m.c),r=Object(o.useContext)(m.a).usersMap,_=Object(o.useState)(!1),y=Object(i.a)(_,2),E=y[0],N=y[1],g=Object(o.useState)(!1),O=Object(i.a)(g,2),k=O[0],j=O[1],C=Object(o.useState)(!1),w=Object(i.a)(C,2),x=w[0],S=w[1],D=Object(o.useState)({open:!1,description:"",type:""}),P=Object(i.a)(D,2),A=P[0],L=P[1],R=e.preview,T=Object(u.g)(),M=R?e.classData:t.classData,F=(e.match.params||M).code;Object(o.useEffect)((function(){!R&&a.logged&&!a.isLoading&&M.isDataAvailable&&!k&&M.active&&function(){var e;s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d.d.doc("class/".concat(F)),void 0!==M.attendances.find((function(e){return e.id===a.uid}))){t.next=4;break}return t.next=4,s.a.awrap(e.update({attendances:d.c.firestore.FieldValue.arrayUnion({id:a.uid,displayName:a.displayName})}));case 4:j(!0);case 5:case"end":return t.stop()}}))}()}),[k,a,M,F,R]),Object(o.useEffect)((function(){R||(F!==M.code?t.setClassData((function(e){return Object(c.a)({},e,{code:F})})):M.validCode||N(!0))}),[F,a,M,t,R]);return Object(o.useEffect)((function(){M.isDataAvailable&&!M.active&&L({open:!0,type:"error",description:"Class ended"})}),[M.isDataAvailable,M.active]),l.a.createElement("div",{className:"cac_attendance cac_attendance--in-class"},A.open&&l.a.createElement(v.a,{onClick:function(){return L({open:!1})},className:A.type},A.description),E&&l.a.createElement(u.a,{to:"/attendance"}),x&&l.a.createElement(v.b,null,l.a.createElement(b.a,{close:function(){return S(!1)},handleConfirm:function(e){var t,a;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return S(!1),a=d.d.doc("class/".concat(F)),c.next=4,s.a.awrap(a.update({attendances:(t=d.c.firestore.FieldValue).arrayUnion.apply(t,Object(n.a)(e.map((function(e){return{id:e.id,displayName:e.displayName}}))))}));case 4:case"end":return c.stop()}}))}})),(M.isDataAvailable||R)&&l.a.createElement("div",{className:"cac_attendance_class"},l.a.createElement("h3",{className:"cac_attendance_title"},M.title),l.a.createElement("span",{className:"cac_attendance_date"},R?M.date:M.date.toDate().toDateString()),l.a.createElement("div",{className:"cac_attendance_code-container"},l.a.createElement("span",{className:"cac_attendance_code-title"},"Code"),l.a.createElement("span",{className:"cac_attendance_code-code"},M.code)),l.a.createElement("div",{className:"cac_attendance_speakers-container"},l.a.createElement("span",{className:"cac_attendance_speakers-title"},"Speakers"),M.speakers.map((function(e,t){return l.a.createElement(f.a,{key:t,className:"cac_attendance_speaker_user-box",user:r[e.id]||e})}))),l.a.createElement("div",{className:"cac_attendance_description-container"},l.a.createElement("p",{className:"cac_attendance_description-title"},"Description"),l.a.createElement("p",{className:"cac_attendance_description-text"},M.description)),l.a.createElement("div",{className:"cac_attendance_attendant-container"},M.attendances.map((function(e,t){return l.a.createElement(f.a,{key:t,className:"cac_attendance_attendant",user:r[e.id]||e})})))),l.a.createElement("div",{className:"cac_attendance_buttons"},l.a.createElement(h.b,{className:"cac_attendance_button cac_attendance_add",onClick:function(){console.log(t),T.push("/attendance"),t.setClassData({isDataAvailable:!1,code:""})}},"Change"),a.isAdmin&&l.a.createElement(l.a.Fragment,null,l.a.createElement(h.b,{className:"cac_attendance_button cac_attendance_end",onClick:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(R||!M.active){t.next=4;break}return e=d.d.doc("class/".concat(F)),t.next=4,s.a.awrap(e.update({active:!1}));case 4:case"end":return t.stop()}}))}},"End class"),l.a.createElement(h.b,{className:"cac_attendance_button cac_attendance_add",onClick:function(){R||S(!0)}},"Add people"))))}},530:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),r=o(c),s=o(a(25)),i=o(a(531));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={selected:a.parseValue(e.value,e.options)||{label:"undefined"===typeof e.placeholder?"Select...":e.placeholder,value:""},isOpen:!1},a.mounted=!0,a.handleDocumentClick=a.handleDocumentClick.bind(a),a.fireChangeEvent=a.fireChangeEvent.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillReceiveProps",value:function(e){if(e.value){var t=this.parseValue(e.value,e.options);t!==this.state.selected&&this.setState({selected:t})}else this.setState({selected:{label:"undefined"===typeof e.placeholder?"Select...":e.placeholder,value:""}})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"handleMouseDown",value:function(e){this.props.onFocus&&"function"===typeof this.props.onFocus&&this.props.onFocus(this.state.isOpen),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen}))}},{key:"parseValue",value:function(e,t){var a=void 0;if("string"===typeof e)for(var n=0,c=t.length;n<c;n++)if("group"===t[n].type){var r=t[n].items.filter((function(t){return t.value===e}));r.length&&(a=r[0])}else"undefined"!==typeof t[n].value&&t[n].value===e&&(a=t[n]);return a||e}},{key:"setValue",value:function(e,t){var a={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(a),this.setState(a)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(e){var t,a=e.value;"undefined"===typeof a&&(a=e.label||e);var n=e.label||e.value||e,c=a===this.state.selected.value||a===this.state.selected,s=(l(t={},this.props.baseClassName+"-option",!0),l(t,e.className,!!e.className),l(t,"is-selected",c),t),o=(0,i.default)(s);return r.default.createElement("div",{key:a,className:o,onMouseDown:this.setValue.bind(this,a,n),onClick:this.setValue.bind(this,a,n),role:"option","aria-selected":c?"true":"false"},n)}},{key:"buildMenu",value:function(){var e=this,t=this.props,a=t.options,n=t.baseClassName,c=a.map((function(t){if("group"===t.type){var a=r.default.createElement("div",{className:n+"-title"},t.name),c=t.items.map((function(t){return e.renderOption(t)}));return r.default.createElement("div",{className:n+"-group",key:t.name,role:"listbox",tabIndex:"-1"},a,c)}return e.renderOption(t)}));return c.length?c:r.default.createElement("div",{className:n+"-noresults"},"No options found")}},{key:"handleDocumentClick",value:function(e){this.mounted&&(s.default.findDOMNode(this).contains(e.target)||this.state.isOpen&&this.setState({isOpen:!1}))}},{key:"isValueSelected",value:function(){return"string"===typeof this.state.selected||""!==this.state.selected.value}},{key:"render",value:function(){var e,t,a,n,c,s=this.props,o=s.baseClassName,u=s.controlClassName,d=s.placeholderClassName,p=s.menuClassName,m=s.arrowClassName,f=s.arrowClosed,h=s.arrowOpen,v=s.className,b=this.props.disabled?"Dropdown-disabled":"",_="string"===typeof this.state.selected?this.state.selected:this.state.selected.label,y=(0,i.default)((l(e={},o+"-root",!0),l(e,v,!!v),l(e,"is-open",this.state.isOpen),e)),E=(0,i.default)((l(t={},o+"-control",!0),l(t,u,!!u),l(t,b,!!b),t)),N=(0,i.default)((l(a={},o+"-placeholder",!0),l(a,d,!!d),l(a,"is-selected",this.isValueSelected()),a)),g=(0,i.default)((l(n={},o+"-menu",!0),l(n,p,!!p),n)),O=(0,i.default)((l(c={},o+"-arrow",!0),l(c,m,!!m),c)),k=r.default.createElement("div",{className:N},_),j=this.state.isOpen?r.default.createElement("div",{className:g,"aria-expanded":"true"},this.buildMenu()):null;return r.default.createElement("div",{className:y},r.default.createElement("div",{className:E,onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this),"aria-haspopup":"listbox"},k,r.default.createElement("div",{className:o+"-arrow-wrapper"},h&&f?this.state.isOpen?h:f:r.default.createElement("span",{className:O}))),j)}}]),t}(c.Component);u.defaultProps={baseClassName:"Dropdown"},t.default=u},531:function(e,t,a){var n;!function(){"use strict";var a={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var s=c.apply(null,n);s&&e.push(s)}else if("object"===r)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n)}()},532:function(e,t,a){},533:function(e,t,a){},534:function(e,t,a){},535:function(e,t,a){"use strict";var n=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),c=this&&this.__assign||function(){return(c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(a(0)),l=i(a(536)),u=s(a(15));function d(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"===typeof t.props.innerRef?{current:null}:o.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!==typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var a=t.getEl();if(a){var n=a.innerHTML;if(t.props.onChange&&n!==t.lastHtml){var c=Object.assign({},e,{target:{value:n}});t.props.onChange(c)}t.lastHtml=n}},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.tagName,n=t.html,s=t.innerRef,i=r(t,["tagName","html","innerRef"]);return o.createElement(a||"div",c(c({},i),{ref:"function"===typeof s?function(t){s(t),e.el.current=t}:s||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:n}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,a=this.getEl();return!a||(d(e.html)!==d(a.innerHTML)||(t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||!l.default(t.style,e.style)))},t.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.lastHtml=this.props.html),function(e){var t=document.createTextNode("");e.appendChild(t);var a=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&a){var n=window.getSelection();if(null!==n){var c=document.createRange();c.setStart(t,t.nodeValue.length),c.collapse(!0),n.removeAllRanges(),n.addRange(c)}e instanceof HTMLElement&&e.focus()}}(e))},t.propTypes={html:u.string.isRequired,onChange:u.func,disabled:u.bool,tagName:u.string,className:u.string,style:u.object,innerRef:u.oneOfType([u.object,u.func])},t}(o.Component);t.default=p},536:function(e,t,a){"use strict";var n=Array.isArray,c=Object.keys,r=Object.prototype.hasOwnProperty;e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){var s,i,o,l=n(t),u=n(a);if(l&&u){if((i=t.length)!=a.length)return!1;for(s=i;0!==s--;)if(!e(t[s],a[s]))return!1;return!0}if(l!=u)return!1;var d=t instanceof Date,p=a instanceof Date;if(d!=p)return!1;if(d&&p)return t.getTime()==a.getTime();var m=t instanceof RegExp,f=a instanceof RegExp;if(m!=f)return!1;if(m&&f)return t.toString()==a.toString();var h=c(t);if((i=h.length)!==c(a).length)return!1;for(s=i;0!==s--;)if(!r.call(a,h[s]))return!1;for(s=i;0!==s--;)if(!e(t[o=h[s]],a[o]))return!1;return!0}return t!==t&&a!==a}},537:function(e,t,a){},546:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(0),r=a.n(c),s=a(16),i=a(530),o=a.n(i),l=(a(532),a(4)),u=a.n(l),d=a(6),p=a(9),m=a(122),f=a(107),h=a(106),v=a(190),b=a(120),_=(a(533),a(147),[{uid:"123123124",displayName:"Erick",rank:"pupil",rating:1200},{uid:"hkhaksdh12",displayName:"Jorge ivan",rank:"expert",rating:1520},{uid:"uid de otro wey",displayName:"Franco",rank:"expert",rating:2624},{uid:"uid de otro wey",displayName:"Crystal",rank:"expert",rating:2624}]),y=function(e){var t=e.preview,a=Object(c.useState)(""),s=Object(n.a)(a,2),i=s[0],o=s[1],l=Object(c.useState)(""),y=Object(n.a)(l,2),E=y[0],N=y[1],g=Object(c.useState)(""),O=Object(n.a)(g,2),k=O[0],j=O[1],C=Object(c.useState)(""),w=Object(n.a)(C,2),x=w[0],S=w[1],D=Object(c.useState)([]),P=Object(n.a)(D,2),A=P[0],L=P[1],R=Object(c.useState)(!1),T=Object(n.a)(R,2),M=T[0],F=T[1],V=Object(c.useState)(!1),U=Object(n.a)(V,2),H=U[0],I=U[1],K=Object(c.useState)({open:!1,description:"",type:""}),q=Object(n.a)(K,2),B=q[0],J=q[1],W=function(){if(!(i&&x&&k&&A.length>0))return!1;var e=new Date(E);return!isNaN(e.getTime())};return r.a.createElement(r.a.Fragment,null,B.open&&r.a.createElement(h.a,{onClick:function(){J({open:!1})},className:B.type},B.description),t?r.a.createElement(v.default,{preview:!0,classData:{title:i,date:E,description:k,code:x,speakers:A,attendances:_},match:{params:null}}):r.a.createElement("div",{className:"cac_create_class"},H&&r.a.createElement(h.b,null,r.a.createElement(m.a,{close:function(){return I(!1)},handleConfirm:L})),r.a.createElement("div",{className:"cac_create_class--left"},r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"title",className:"cac_create_title"},"Title"),r.a.createElement("input",{name:"title",id:"title",type:"text",className:"cac_create_input cac_create_input--title",value:i,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"title",className:"cac_create_title"},"Date (mm/dd/yy)"),r.a.createElement("input",{name:"date",id:"date",type:"text",className:"cac_create_input cac_create_input--title",value:E,onChange:function(e){return N(e.target.value)}})),r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"description",className:"cac_create_title"},"Description"),r.a.createElement("textarea",{name:"description",id:"description",className:"cac_create_textarea",value:k,required:!0,onChange:function(e){return j(e.target.value)}}))),r.a.createElement("div",{className:"cac_create_class--right"},r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"code",className:"cac_create_title"},"Code"),r.a.createElement("input",{name:"code",id:"code",type:"text",className:" cac_create_input cac_create_input--title cac_create_class_code",value:x,minLength:"3",maxLength:"6",required:!0,onChange:function(e){return S(e.target.value)}}),r.a.createElement(p.b,{className:"cac_create_button cac_create_class_button",onClick:function(){return S(Object(b.a)(6))}},"Random code")),r.a.createElement("div",{className:"cac_create_section cac_create_cass_speakers"},r.a.createElement("span",{className:"cac_create_title"},"Speakers"),A.map((function(e,t){return r.a.createElement(f.a,{key:e.displayName,user:e,className:"cac_create_speaker"})})),r.a.createElement(p.b,{className:"cac_create_button cac_create_class_button",onClick:function(){return I(!0)}},"Add")))),r.a.createElement(p.b,{className:"cac_create_class_post",onClick:function(){var e,t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(M){a.next=30;break}if(!W()){a.next=29;break}return F(!0),e={title:i,date:new Date(E),description:k,code:x,active:!0,speakers:A.map((function(e){return{id:e.id,displayName:e.displayName}})),attendances:[]},t=d.d.doc("class/".concat(x)),a.next=7,u.a.awrap(t.get());case 7:if(a.sent.exists){a.next=25;break}return a.prev=9,a.next=12,u.a.awrap(t.set(e));case 12:J({open:!0,description:"Class created successfully",type:"success"}),o(""),N(""),S(""),L([]),j(""),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(9),console.error("Error creating class",a.t0.mesage);case 23:a.next=26;break;case 25:J({open:!0,description:"Code is already in use",type:"error"});case 26:F(!1),a.next=30;break;case 29:J({open:!0,description:"Verify all information",type:"error"});case 30:case"end":return a.stop()}}),null,null,[[9,20]])}},"Post"))},E=a(7),N=a(148),g=(a(534),a(535)),O=a.n(g),k=(a(20),a(537),function(e){var t=e.className,a=void 0===t?"":t,n=Object(c.useRef)(""),s=Object(c.useRef)(null);return r.a.createElement(O.a,{className:"contenteditable ".concat(a),onPaste:function(e){e.clipboardData.getData("text/plain")},innerRef:s,html:n.current,onBlur:function(){console.log(n.current),console.log(s.current.childNodes)},onChange:function(e){n.current=e.target.value}})}),j=function(e){var t=e.preview,a=e.type,s=void 0===a?"home":a,i=e.showAuthor,o=void 0===i||i,l=Object(c.useContext)(E.c),m=Object(c.useContext)(E.a),f=Object(c.useState)(""),v=Object(n.a)(f,2),b=v[0],_=v[1],y=Object(c.useState)(""),g=Object(n.a)(y,2),O=g[0],j=g[1],C=Object(c.useState)(!1),w=Object(n.a)(C,2),x=w[0],S=w[1],D=Object(c.useState)({visible:!1,content:"",type:""}),P=Object(n.a)(D,2),A=P[0],L=P[1];return r.a.createElement(r.a.Fragment,null,A.visible&&r.a.createElement(h.a,{className:A.type,onClick:function(){return L({visible:!1})}},A.content),t?r.a.createElement(N.a,{preview:!0,allUsers:m.usersMap,enableLink:!1,author:l,showAuthor:o,data:{title:b,author:{id:l.uid},content:O,date:"just now",comments:[],likesList:[]}}):r.a.createElement("div",{className:"cac_create_post"},r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"title",className:"cac_create_title"},"Title"),r.a.createElement("input",{name:"title",id:"title",type:"text",className:"cac_create_input cac_create_input--title",value:b,onChange:function(e){return _(e.target.value)}})),r.a.createElement("div",{className:"cac_create_section"},r.a.createElement("label",{htmlFor:"description",className:"cac_create_title"},"Content"),r.a.createElement(k,{className:""}))),r.a.createElement(p.b,{className:"cac_create_post_post",onClick:function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(x||!b||!O){t.next=16;break}return S(!0),e={title:b,content:O,type:s,comments:[],likesList:[],author:{id:l.uid,displayName:l.displayName},createdAt:d.c.firestore.FieldValue.serverTimestamp(),timestamp:d.c.firestore.FieldValue.serverTimestamp(),key:Date.now()},t.prev=3,t.next=6,u.a.awrap(d.d.collection("test-posts").add(e));case 6:L({visible:!0,content:"Post published succesfully",type:"success"}),_(""),j(""),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.error(t.t0),L({visible:!0,content:"Error publishing post",type:"error"});case 15:S(!1);case 16:case"end":return t.stop()}}),null,null,[[3,11]])}},"Post"))};t.default=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),i=a[0],l=a[1],u=Object(c.useState)(""),d=Object(n.a)(u,2),m=d[0],f=d[1],h=Object(c.useState)(!1),v=Object(n.a)(h,2),b=v[0],_=v[1];Object(c.useEffect)((function(){}),[e]);var E=e.match||{params:{cid:""}};return r.a.createElement("div",{className:"cac_create"},r.a.createElement("div",{className:"cac_create_header"},r.a.createElement(o.a,{className:"cac_create_dropdown cac_create_dropdown--sections",options:[{value:"class",label:"Class"},{value:"homePost",label:"Home Post"},{value:"weeklyProblem",label:"Weekly problem"},{value:"editorial",label:"Editorial"},{value:"announcement",label:"Announcement"}],onChange:function(e){f("/create/".concat(e.value)),l(!0),_(!1)},value:E.params.cid,placeholder:"Select"}),r.a.createElement(p.b,{className:"cac_create_preview",onClick:function(){_(!b)}},b?"Edit":"Preview"),i&&r.a.createElement(s.a,{to:m})),"class"===E.params.cid&&r.a.createElement(y,{preview:b}),"homePost"===E.params.cid&&r.a.createElement(j,{preview:b,type:"home"}),"weeklyProblem"===E.params.cid&&r.a.createElement(j,{preview:b,type:"weekly-problem",showAuthor:!1}),"editorial"===E.params.cid&&r.a.createElement(j,{preview:b,type:"editorial",showAuthor:!1}))}}}]);
//# sourceMappingURL=5.ae67b4f3.chunk.js.map